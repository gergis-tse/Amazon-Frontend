function zN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fb={exports:{}},gp={},pb={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),WN=Symbol.for("react.portal"),qN=Symbol.for("react.fragment"),HN=Symbol.for("react.strict_mode"),KN=Symbol.for("react.profiler"),GN=Symbol.for("react.provider"),QN=Symbol.for("react.context"),JN=Symbol.for("react.forward_ref"),YN=Symbol.for("react.suspense"),XN=Symbol.for("react.memo"),ZN=Symbol.for("react.lazy"),nI=Symbol.iterator;function eD(t){return t===null||typeof t!="object"?null:(t=nI&&t[nI]||t["@@iterator"],typeof t=="function"?t:null)}var mb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gb=Object.assign,yb={};function cl(t,e,n){this.props=t,this.context=e,this.refs=yb,this.updater=n||mb}cl.prototype.isReactComponent={};cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _b(){}_b.prototype=cl.prototype;function uv(t,e,n){this.props=t,this.context=e,this.refs=yb,this.updater=n||mb}var cv=uv.prototype=new _b;cv.constructor=uv;gb(cv,cl.prototype);cv.isPureReactComponent=!0;var rI=Array.isArray,vb=Object.prototype.hasOwnProperty,dv={current:null},wb={key:!0,ref:!0,__self:!0,__source:!0};function Eb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vb.call(e,r)&&!wb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hc,type:t,key:s,ref:o,props:i,_owner:dv.current}}function tD(t,e){return{$$typeof:Hc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hc}function nD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iI=/\/+/g;function ag(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nD(""+t.key):e.toString(36)}function Ph(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Hc:case WN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ag(o,0):r,rI(i)?(n="",t!=null&&(n=t.replace(iI,"$&/")+"/"),Ph(i,e,n,"",function(u){return u})):i!=null&&(hv(i)&&(i=tD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(iI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",rI(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ag(s,a);o+=Ph(s,e,n,l,i)}else if(l=eD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ag(s,a++),o+=Ph(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Kd(t,e,n){if(t==null)return t;var r=[],i=0;return Ph(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},Ch={transition:null},iD={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Ch,ReactCurrentOwner:dv};function Ib(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Kd,forEach:function(t,e,n){Kd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kd(t,function(){e++}),e},toArray:function(t){return Kd(t,function(e){return e})||[]},only:function(t){if(!hv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=cl;he.Fragment=qN;he.Profiler=KN;he.PureComponent=uv;he.StrictMode=HN;he.Suspense=YN;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iD;he.act=Ib;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vb.call(e,l)&&!wb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hc,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:QN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GN,_context:t},t.Consumer=t};he.createElement=Eb;he.createFactory=function(t){var e=Eb.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:JN,render:t}};he.isValidElement=hv;he.lazy=function(t){return{$$typeof:ZN,_payload:{_status:-1,_result:t},_init:rD}};he.memo=function(t,e){return{$$typeof:XN,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Ch.transition;Ch.transition={};try{t()}finally{Ch.transition=e}};he.unstable_act=Ib;he.useCallback=function(t,e){return hn.current.useCallback(t,e)};he.useContext=function(t){return hn.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};he.useEffect=function(t,e){return hn.current.useEffect(t,e)};he.useId=function(){return hn.current.useId()};he.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return hn.current.useMemo(t,e)};he.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};he.useRef=function(t){return hn.current.useRef(t)};he.useState=function(t){return hn.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return hn.current.useTransition()};he.version="18.3.1";pb.exports=he;var V=pb.exports;const me=lv(V),uy=zN({__proto__:null,default:me},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sD=V,oD=Symbol.for("react.element"),aD=Symbol.for("react.fragment"),lD=Object.prototype.hasOwnProperty,uD=sD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cD={key:!0,ref:!0,__self:!0,__source:!0};function Tb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lD.call(e,r)&&!cD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oD,type:t,key:s,ref:o,props:i,_owner:uD.current}}gp.Fragment=aD;gp.jsx=Tb;gp.jsxs=Tb;fb.exports=gp;var O=fb.exports,Sb={exports:{}},Bn={},bb={exports:{}},Rb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,te){var ne=K.length;K.push(te);e:for(;0<ne;){var ce=ne-1>>>1,Te=K[ce];if(0<i(Te,te))K[ce]=te,K[ne]=Te,ne=ce;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var te=K[0],ne=K.pop();if(ne!==te){K[0]=ne;e:for(var ce=0,Te=K.length,qe=Te>>>1;ce<qe;){var $n=2*(ce+1)-1,er=K[$n],tr=$n+1,nr=K[tr];if(0>i(er,ne))tr<Te&&0>i(nr,er)?(K[ce]=nr,K[tr]=ne,ce=tr):(K[ce]=er,K[$n]=ne,ce=$n);else if(tr<Te&&0>i(nr,ne))K[ce]=nr,K[tr]=ne,ce=tr;else break e}}return te}function i(K,te){var ne=K.sortIndex-te.sortIndex;return ne!==0?ne:K.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,_=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=K)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function k(K){if(w=!1,I(K),!_)if(n(l)!==null)_=!0,wt(x);else{var te=n(u);te!==null&&Ie(k,te.startTime-K)}}function x(K,te){_=!1,w&&(w=!1,E(T),T=-1),m=!0;var ne=f;try{for(I(te),h=n(l);h!==null&&(!(h.expirationTime>te)||K&&!P());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,f=h.priorityLevel;var Te=ce(h.expirationTime<=te);te=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===n(l)&&r(l),I(te)}else r(l);h=n(l)}if(h!==null)var qe=!0;else{var $n=n(u);$n!==null&&Ie(k,$n.startTime-te),qe=!1}return qe}finally{h=null,f=ne,m=!1}}var D=!1,b=null,T=-1,A=5,g=-1;function P(){return!(t.unstable_now()-g<A)}function N(){if(b!==null){var K=t.unstable_now();g=K;var te=!0;try{te=b(!0,K)}finally{te?C():(D=!1,b=null)}}else D=!1}var C;if(typeof v=="function")C=function(){v(N)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,le=ie.port2;ie.port1.onmessage=N,C=function(){le.postMessage(null)}}else C=function(){S(N,0)};function wt(K){b=K,D||(D=!0,C())}function Ie(K,te){T=S(function(){K(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,wt(x))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(K){switch(f){case 1:case 2:case 3:var te=3;break;default:te=f}var ne=f;f=te;try{return K()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=f;f=K;try{return te()}finally{f=ne}},t.unstable_scheduleCallback=function(K,te,ne){var ce=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ce+ne:ce):ne=ce,K){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ne+Te,K={id:d++,callback:te,priorityLevel:K,startTime:ne,expirationTime:Te,sortIndex:-1},ne>ce?(K.sortIndex=ne,e(u,K),n(l)===null&&K===n(u)&&(w?(E(T),T=-1):w=!0,Ie(k,ne-ce))):(K.sortIndex=Te,e(l,K),_||m||(_=!0,wt(x))),K},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(K){var te=f;return function(){var ne=f;f=te;try{return K.apply(this,arguments)}finally{f=ne}}}})(Rb);bb.exports=Rb;var dD=bb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD=V,Fn=dD;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ab=new Set,rc={};function Do(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(rc[t]=e,t=0;t<e.length;t++)Ab.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cy=Object.prototype.hasOwnProperty,fD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sI={},oI={};function pD(t){return cy.call(oI,t)?!0:cy.call(sI,t)?!1:fD.test(t)?oI[t]=!0:(sI[t]=!0,!1)}function mD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gD(t,e,n,r){if(e===null||typeof e>"u"||mD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function fn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ut[t]=new fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ut[e]=new fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ut[t]=new fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ut[t]=new fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ut[t]=new fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ut[t]=new fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ut[t]=new fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ut[t]=new fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ut[t]=new fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var fv=/[\-:]([a-z])/g;function pv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fv,pv);Ut[e]=new fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fv,pv);Ut[e]=new fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fv,pv);Ut[e]=new fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ut[t]=new fn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ut[t]=new fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function mv(t,e,n,r){var i=Ut.hasOwnProperty(e)?Ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gD(e,n,i,r)&&(n=null),r||i===null?pD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Si=hD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gd=Symbol.for("react.element"),la=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),gv=Symbol.for("react.strict_mode"),dy=Symbol.for("react.profiler"),Pb=Symbol.for("react.provider"),Cb=Symbol.for("react.context"),yv=Symbol.for("react.forward_ref"),hy=Symbol.for("react.suspense"),fy=Symbol.for("react.suspense_list"),_v=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),kb=Symbol.for("react.offscreen"),aI=Symbol.iterator;function Gl(t){return t===null||typeof t!="object"?null:(t=aI&&t[aI]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,lg;function vu(t){if(lg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lg=e&&e[1]||""}return`
`+lg+t}var ug=!1;function cg(t,e){if(!t||ug)return"";ug=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ug=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vu(t):""}function yD(t){switch(t.tag){case 5:return vu(t.type);case 16:return vu("Lazy");case 13:return vu("Suspense");case 19:return vu("SuspenseList");case 0:case 2:case 15:return t=cg(t.type,!1),t;case 11:return t=cg(t.type.render,!1),t;case 1:return t=cg(t.type,!0),t;default:return""}}function py(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ua:return"Fragment";case la:return"Portal";case dy:return"Profiler";case gv:return"StrictMode";case hy:return"Suspense";case fy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cb:return(t.displayName||"Context")+".Consumer";case Pb:return(t._context.displayName||"Context")+".Provider";case yv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _v:return e=t.displayName||null,e!==null?e:py(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return py(t(e))}catch{}}return null}function _D(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return py(e);case 8:return e===gv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vD(t){var e=xb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qd(t){t._valueTracker||(t._valueTracker=vD(t))}function Ob(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function my(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nb(t,e){e=e.checked,e!=null&&mv(t,"checked",e,!1)}function gy(t,e){Nb(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yy(t,e.type,n):e.hasOwnProperty("defaultValue")&&yy(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yy(t,e,n){(e!=="number"||cf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wu=Array.isArray;function Ea(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _y(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(wu(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function Db(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jd,Lb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jd=Jd||document.createElement("div"),Jd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ic(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ou={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wD=["Webkit","ms","Moz","O"];Object.keys(Ou).forEach(function(t){wD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ou[e]=Ou[t]})});function Mb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ou.hasOwnProperty(t)&&Ou[t]?(""+e).trim():e+"px"}function Fb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ED=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wy(t,e){if(e){if(ED[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iy=null;function vv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ty=null,Ia=null,Ta=null;function hI(t){if(t=Qc(t)){if(typeof Ty!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Ep(e),Ty(t.stateNode,t.type,e))}}function Ub(t){Ia?Ta?Ta.push(t):Ta=[t]:Ia=t}function Bb(){if(Ia){var t=Ia,e=Ta;if(Ta=Ia=null,hI(t),e)for(t=0;t<e.length;t++)hI(e[t])}}function jb(t,e){return t(e)}function $b(){}var dg=!1;function zb(t,e,n){if(dg)return t(e,n);dg=!0;try{return jb(t,e,n)}finally{dg=!1,(Ia!==null||Ta!==null)&&($b(),Bb())}}function sc(t,e){var n=t.stateNode;if(n===null)return null;var r=Ep(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Sy=!1;if(pi)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){Sy=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Sy=!1}function ID(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Nu=!1,df=null,hf=!1,by=null,TD={onError:function(t){Nu=!0,df=t}};function SD(t,e,n,r,i,s,o,a,l){Nu=!1,df=null,ID.apply(TD,arguments)}function bD(t,e,n,r,i,s,o,a,l){if(SD.apply(this,arguments),Nu){if(Nu){var u=df;Nu=!1,df=null}else throw Error(q(198));hf||(hf=!0,by=u)}}function Vo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fI(t){if(Vo(t)!==t)throw Error(q(188))}function RD(t){var e=t.alternate;if(!e){if(e=Vo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fI(i),t;if(s===r)return fI(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function qb(t){return t=RD(t),t!==null?Hb(t):null}function Hb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hb(t);if(e!==null)return e;t=t.sibling}return null}var Kb=Fn.unstable_scheduleCallback,pI=Fn.unstable_cancelCallback,AD=Fn.unstable_shouldYield,PD=Fn.unstable_requestPaint,lt=Fn.unstable_now,CD=Fn.unstable_getCurrentPriorityLevel,wv=Fn.unstable_ImmediatePriority,Gb=Fn.unstable_UserBlockingPriority,ff=Fn.unstable_NormalPriority,kD=Fn.unstable_LowPriority,Qb=Fn.unstable_IdlePriority,yp=null,Lr=null;function xD(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(yp,t,void 0,(t.current.flags&128)===128)}catch{}}var hr=Math.clz32?Math.clz32:DD,OD=Math.log,ND=Math.LN2;function DD(t){return t>>>=0,t===0?32:31-(OD(t)/ND|0)|0}var Yd=64,Xd=4194304;function Eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Eu(a):(s&=o,s!==0&&(r=Eu(s)))}else o=n&~i,o!==0?r=Eu(o):s!==0&&(r=Eu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hr(e),i=1<<n,r|=t[n],e&=~i;return r}function VD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-hr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=VD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ry(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jb(){var t=Yd;return Yd<<=1,!(Yd&4194240)&&(Yd=64),t}function hg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hr(e),t[e]=n}function MD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ev(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function Yb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xb,Iv,Zb,eR,tR,Ay=!1,Zd=[],es=null,ts=null,ns=null,oc=new Map,ac=new Map,Hi=[],FD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mI(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(e.pointerId)}}function Jl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qc(e),e!==null&&Iv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UD(t,e,n,r,i){switch(e){case"focusin":return es=Jl(es,t,e,n,r,i),!0;case"dragenter":return ts=Jl(ts,t,e,n,r,i),!0;case"mouseover":return ns=Jl(ns,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return oc.set(s,Jl(oc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ac.set(s,Jl(ac.get(s)||null,t,e,n,r,i)),!0}return!1}function nR(t){var e=ro(t.target);if(e!==null){var n=Vo(e);if(n!==null){if(e=n.tag,e===13){if(e=Wb(n),e!==null){t.blockedOn=e,tR(t.priority,function(){Zb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Py(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Iy=r,n.target.dispatchEvent(r),Iy=null}else return e=Qc(n),e!==null&&Iv(e),t.blockedOn=n,!1;e.shift()}return!0}function gI(t,e,n){kh(t)&&n.delete(e)}function BD(){Ay=!1,es!==null&&kh(es)&&(es=null),ts!==null&&kh(ts)&&(ts=null),ns!==null&&kh(ns)&&(ns=null),oc.forEach(gI),ac.forEach(gI)}function Yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ay||(Ay=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,BD)))}function lc(t){function e(i){return Yl(i,t)}if(0<Zd.length){Yl(Zd[0],t);for(var n=1;n<Zd.length;n++){var r=Zd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(es!==null&&Yl(es,t),ts!==null&&Yl(ts,t),ns!==null&&Yl(ns,t),oc.forEach(e),ac.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)nR(n),n.blockedOn===null&&Hi.shift()}var Sa=Si.ReactCurrentBatchConfig,mf=!0;function jD(t,e,n,r){var i=Re,s=Sa.transition;Sa.transition=null;try{Re=1,Tv(t,e,n,r)}finally{Re=i,Sa.transition=s}}function $D(t,e,n,r){var i=Re,s=Sa.transition;Sa.transition=null;try{Re=4,Tv(t,e,n,r)}finally{Re=i,Sa.transition=s}}function Tv(t,e,n,r){if(mf){var i=Py(t,e,n,r);if(i===null)Ig(t,e,r,gf,n),mI(t,r);else if(UD(i,t,e,n,r))r.stopPropagation();else if(mI(t,r),e&4&&-1<FD.indexOf(t)){for(;i!==null;){var s=Qc(i);if(s!==null&&Xb(s),s=Py(t,e,n,r),s===null&&Ig(t,e,r,gf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ig(t,e,r,null,n)}}var gf=null;function Py(t,e,n,r){if(gf=null,t=vv(r),t=ro(t),t!==null)if(e=Vo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gf=t,null}function rR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CD()){case wv:return 1;case Gb:return 4;case ff:case kD:return 16;case Qb:return 536870912;default:return 16}default:return 16}}var Ji=null,Sv=null,xh=null;function iR(){if(xh)return xh;var t,e=Sv,n=e.length,r,i="value"in Ji?Ji.value:Ji.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return xh=i.slice(t,1<r?1-r:void 0)}function Oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eh(){return!0}function yI(){return!1}function jn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eh:yI,this.isPropagationStopped=yI,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),e}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bv=jn(dl),Gc=Ye({},dl,{view:0,detail:0}),zD=jn(Gc),fg,pg,Xl,_p=Ye({},Gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xl&&(Xl&&t.type==="mousemove"?(fg=t.screenX-Xl.screenX,pg=t.screenY-Xl.screenY):pg=fg=0,Xl=t),fg)},movementY:function(t){return"movementY"in t?t.movementY:pg}}),_I=jn(_p),WD=Ye({},_p,{dataTransfer:0}),qD=jn(WD),HD=Ye({},Gc,{relatedTarget:0}),mg=jn(HD),KD=Ye({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),GD=jn(KD),QD=Ye({},dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JD=jn(QD),YD=Ye({},dl,{data:0}),vI=jn(YD),XD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e2[t])?!!e[t]:!1}function Rv(){return t2}var n2=Ye({},Gc,{key:function(t){if(t.key){var e=XD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rv,charCode:function(t){return t.type==="keypress"?Oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r2=jn(n2),i2=Ye({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wI=jn(i2),s2=Ye({},Gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rv}),o2=jn(s2),a2=Ye({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),l2=jn(a2),u2=Ye({},_p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c2=jn(u2),d2=[9,13,27,32],Av=pi&&"CompositionEvent"in window,Du=null;pi&&"documentMode"in document&&(Du=document.documentMode);var h2=pi&&"TextEvent"in window&&!Du,sR=pi&&(!Av||Du&&8<Du&&11>=Du),EI=" ",II=!1;function oR(t,e){switch(t){case"keyup":return d2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function f2(t,e){switch(t){case"compositionend":return aR(e);case"keypress":return e.which!==32?null:(II=!0,EI);case"textInput":return t=e.data,t===EI&&II?null:t;default:return null}}function p2(t,e){if(ca)return t==="compositionend"||!Av&&oR(t,e)?(t=iR(),xh=Sv=Ji=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sR&&e.locale!=="ko"?null:e.data;default:return null}}var m2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!m2[t.type]:e==="textarea"}function lR(t,e,n,r){Ub(r),e=yf(e,"onChange"),0<e.length&&(n=new bv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vu=null,uc=null;function g2(t){vR(t,0)}function vp(t){var e=fa(t);if(Ob(e))return t}function y2(t,e){if(t==="change")return e}var uR=!1;if(pi){var gg;if(pi){var yg="oninput"in document;if(!yg){var SI=document.createElement("div");SI.setAttribute("oninput","return;"),yg=typeof SI.oninput=="function"}gg=yg}else gg=!1;uR=gg&&(!document.documentMode||9<document.documentMode)}function bI(){Vu&&(Vu.detachEvent("onpropertychange",cR),uc=Vu=null)}function cR(t){if(t.propertyName==="value"&&vp(uc)){var e=[];lR(e,uc,t,vv(t)),zb(g2,e)}}function _2(t,e,n){t==="focusin"?(bI(),Vu=e,uc=n,Vu.attachEvent("onpropertychange",cR)):t==="focusout"&&bI()}function v2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vp(uc)}function w2(t,e){if(t==="click")return vp(e)}function E2(t,e){if(t==="input"||t==="change")return vp(e)}function I2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mr=typeof Object.is=="function"?Object.is:I2;function cc(t,e){if(mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cy.call(e,i)||!mr(t[i],e[i]))return!1}return!0}function RI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function AI(t,e){var n=RI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=RI(n)}}function dR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hR(){for(var t=window,e=cf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cf(t.document)}return e}function Pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T2(t){var e=hR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dR(n.ownerDocument.documentElement,n)){if(r!==null&&Pv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=AI(n,s);var o=AI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S2=pi&&"documentMode"in document&&11>=document.documentMode,da=null,Cy=null,Lu=null,ky=!1;function PI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ky||da==null||da!==cf(r)||(r=da,"selectionStart"in r&&Pv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lu&&cc(Lu,r)||(Lu=r,r=yf(Cy,"onSelect"),0<r.length&&(e=new bv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=da)))}function th(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ha={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},_g={},fR={};pi&&(fR=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function wp(t){if(_g[t])return _g[t];if(!ha[t])return t;var e=ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fR)return _g[t]=e[n];return t}var pR=wp("animationend"),mR=wp("animationiteration"),gR=wp("animationstart"),yR=wp("transitionend"),_R=new Map,CI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(t,e){_R.set(t,e),Do(e,[t])}for(var vg=0;vg<CI.length;vg++){var wg=CI[vg],b2=wg.toLowerCase(),R2=wg[0].toUpperCase()+wg.slice(1);Ps(b2,"on"+R2)}Ps(pR,"onAnimationEnd");Ps(mR,"onAnimationIteration");Ps(gR,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(yR,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iu));function kI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bD(r,e,void 0,t),t.currentTarget=null}function vR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kI(i,a,u),s=l}}}if(hf)throw t=by,hf=!1,by=null,t}function Ve(t,e){var n=e[Vy];n===void 0&&(n=e[Vy]=new Set);var r=t+"__bubble";n.has(r)||(wR(e,t,2,!1),n.add(r))}function Eg(t,e,n){var r=0;e&&(r|=4),wR(n,t,r,e)}var nh="_reactListening"+Math.random().toString(36).slice(2);function dc(t){if(!t[nh]){t[nh]=!0,Ab.forEach(function(n){n!=="selectionchange"&&(A2.has(n)||Eg(n,!1,t),Eg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nh]||(e[nh]=!0,Eg("selectionchange",!1,e))}}function wR(t,e,n,r){switch(rR(e)){case 1:var i=jD;break;case 4:i=$D;break;default:i=Tv}n=i.bind(null,e,n,t),i=void 0,!Sy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ig(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ro(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zb(function(){var u=s,d=vv(n),h=[];e:{var f=_R.get(t);if(f!==void 0){var m=bv,_=t;switch(t){case"keypress":if(Oh(n)===0)break e;case"keydown":case"keyup":m=r2;break;case"focusin":_="focus",m=mg;break;case"focusout":_="blur",m=mg;break;case"beforeblur":case"afterblur":m=mg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_I;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=o2;break;case pR:case mR:case gR:m=GD;break;case yR:m=l2;break;case"scroll":m=zD;break;case"wheel":m=c2;break;case"copy":case"cut":case"paste":m=JD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wI}var w=(e&4)!==0,S=!w&&t==="scroll",E=w?f!==null?f+"Capture":null:f;w=[];for(var v=u,I;v!==null;){I=v;var k=I.stateNode;if(I.tag===5&&k!==null&&(I=k,E!==null&&(k=sc(v,E),k!=null&&w.push(hc(v,k,I)))),S)break;v=v.return}0<w.length&&(f=new m(f,_,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Iy&&(_=n.relatedTarget||n.fromElement)&&(ro(_)||_[mi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?ro(_):null,_!==null&&(S=Vo(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(w=_I,k="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=wI,k="onPointerLeave",E="onPointerEnter",v="pointer"),S=m==null?f:fa(m),I=_==null?f:fa(_),f=new w(k,v+"leave",m,n,d),f.target=S,f.relatedTarget=I,k=null,ro(d)===u&&(w=new w(E,v+"enter",_,n,d),w.target=I,w.relatedTarget=S,k=w),S=k,m&&_)t:{for(w=m,E=_,v=0,I=w;I;I=Ho(I))v++;for(I=0,k=E;k;k=Ho(k))I++;for(;0<v-I;)w=Ho(w),v--;for(;0<I-v;)E=Ho(E),I--;for(;v--;){if(w===E||E!==null&&w===E.alternate)break t;w=Ho(w),E=Ho(E)}w=null}else w=null;m!==null&&xI(h,f,m,w,!1),_!==null&&S!==null&&xI(h,S,_,w,!0)}}e:{if(f=u?fa(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=y2;else if(TI(f))if(uR)x=E2;else{x=v2;var D=_2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=w2);if(x&&(x=x(t,u))){lR(h,x,n,d);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&yy(f,"number",f.value)}switch(D=u?fa(u):window,t){case"focusin":(TI(D)||D.contentEditable==="true")&&(da=D,Cy=u,Lu=null);break;case"focusout":Lu=Cy=da=null;break;case"mousedown":ky=!0;break;case"contextmenu":case"mouseup":case"dragend":ky=!1,PI(h,n,d);break;case"selectionchange":if(S2)break;case"keydown":case"keyup":PI(h,n,d)}var b;if(Av)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ca?oR(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(sR&&n.locale!=="ko"&&(ca||T!=="onCompositionStart"?T==="onCompositionEnd"&&ca&&(b=iR()):(Ji=d,Sv="value"in Ji?Ji.value:Ji.textContent,ca=!0)),D=yf(u,T),0<D.length&&(T=new vI(T,t,null,n,d),h.push({event:T,listeners:D}),b?T.data=b:(b=aR(n),b!==null&&(T.data=b)))),(b=h2?f2(t,n):p2(t,n))&&(u=yf(u,"onBeforeInput"),0<u.length&&(d=new vI("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}vR(h,e)})}function hc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sc(t,n),s!=null&&r.unshift(hc(t,s,i)),s=sc(t,e),s!=null&&r.push(hc(t,s,i))),t=t.return}return r}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=sc(n,s),l!=null&&o.unshift(hc(n,l,a))):i||(l=sc(n,s),l!=null&&o.push(hc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var P2=/\r\n?/g,C2=/\u0000|\uFFFD/g;function OI(t){return(typeof t=="string"?t:""+t).replace(P2,`
`).replace(C2,"")}function rh(t,e,n){if(e=OI(e),OI(t)!==e&&n)throw Error(q(425))}function _f(){}var xy=null,Oy=null;function Ny(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dy=typeof setTimeout=="function"?setTimeout:void 0,k2=typeof clearTimeout=="function"?clearTimeout:void 0,NI=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof NI<"u"?function(t){return NI.resolve(null).then(t).catch(O2)}:Dy;function O2(t){setTimeout(function(){throw t})}function Tg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),lc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lc(e)}function rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function DI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hl=Math.random().toString(36).slice(2),Rr="__reactFiber$"+hl,fc="__reactProps$"+hl,mi="__reactContainer$"+hl,Vy="__reactEvents$"+hl,N2="__reactListeners$"+hl,D2="__reactHandles$"+hl;function ro(t){var e=t[Rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=DI(t);t!==null;){if(n=t[Rr])return n;t=DI(t)}return e}t=n,n=t.parentNode}return null}function Qc(t){return t=t[Rr]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Ep(t){return t[fc]||null}var Ly=[],pa=-1;function Cs(t){return{current:t}}function Me(t){0>pa||(t.current=Ly[pa],Ly[pa]=null,pa--)}function Oe(t,e){pa++,Ly[pa]=t.current,t.current=e}var hs={},Xt=Cs(hs),wn=Cs(!1),yo=hs;function La(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function En(t){return t=t.childContextTypes,t!=null}function vf(){Me(wn),Me(Xt)}function VI(t,e,n){if(Xt.current!==hs)throw Error(q(168));Oe(Xt,e),Oe(wn,n)}function ER(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,_D(t)||"Unknown",i));return Ye({},n,r)}function wf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,yo=Xt.current,Oe(Xt,t),Oe(wn,wn.current),!0}function LI(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=ER(t,e,yo),r.__reactInternalMemoizedMergedChildContext=t,Me(wn),Me(Xt),Oe(Xt,t)):Me(wn),Oe(wn,n)}var ni=null,Ip=!1,Sg=!1;function IR(t){ni===null?ni=[t]:ni.push(t)}function V2(t){Ip=!0,IR(t)}function ks(){if(!Sg&&ni!==null){Sg=!0;var t=0,e=Re;try{var n=ni;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ni=null,Ip=!1}catch(i){throw ni!==null&&(ni=ni.slice(t+1)),Kb(wv,ks),i}finally{Re=e,Sg=!1}}return null}var ma=[],ga=0,Ef=null,If=0,zn=[],Wn=0,_o=null,si=1,oi="";function Hs(t,e){ma[ga++]=If,ma[ga++]=Ef,Ef=t,If=e}function TR(t,e,n){zn[Wn++]=si,zn[Wn++]=oi,zn[Wn++]=_o,_o=t;var r=si;t=oi;var i=32-hr(r)-1;r&=~(1<<i),n+=1;var s=32-hr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,si=1<<32-hr(e)+i|n<<i|r,oi=s+t}else si=1<<s|n<<i|r,oi=t}function Cv(t){t.return!==null&&(Hs(t,1),TR(t,1,0))}function kv(t){for(;t===Ef;)Ef=ma[--ga],ma[ga]=null,If=ma[--ga],ma[ga]=null;for(;t===_o;)_o=zn[--Wn],zn[Wn]=null,oi=zn[--Wn],zn[Wn]=null,si=zn[--Wn],zn[Wn]=null}var Dn=null,On=null,Be=!1,cr=null;function SR(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function MI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,On=rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:si,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,On=null,!0):!1;default:return!1}}function My(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fy(t){if(Be){var e=On;if(e){var n=e;if(!MI(t,e)){if(My(t))throw Error(q(418));e=rs(n.nextSibling);var r=Dn;e&&MI(t,e)?SR(r,n):(t.flags=t.flags&-4097|2,Be=!1,Dn=t)}}else{if(My(t))throw Error(q(418));t.flags=t.flags&-4097|2,Be=!1,Dn=t}}}function FI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function ih(t){if(t!==Dn)return!1;if(!Be)return FI(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ny(t.type,t.memoizedProps)),e&&(e=On)){if(My(t))throw bR(),Error(q(418));for(;e;)SR(t,e),e=rs(e.nextSibling)}if(FI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Dn?rs(t.stateNode.nextSibling):null;return!0}function bR(){for(var t=On;t;)t=rs(t.nextSibling)}function Ma(){On=Dn=null,Be=!1}function xv(t){cr===null?cr=[t]:cr.push(t)}var L2=Si.ReactCurrentBatchConfig;function Zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function sh(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function UI(t){var e=t._init;return e(t._payload)}function RR(t){function e(E,v){if(t){var I=E.deletions;I===null?(E.deletions=[v],E.flags|=16):I.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E,v){for(E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function i(E,v){return E=as(E,v),E.index=0,E.sibling=null,E}function s(E,v,I){return E.index=I,t?(I=E.alternate,I!==null?(I=I.index,I<v?(E.flags|=2,v):I):(E.flags|=2,v)):(E.flags|=1048576,v)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,v,I,k){return v===null||v.tag!==6?(v=xg(I,E.mode,k),v.return=E,v):(v=i(v,I),v.return=E,v)}function l(E,v,I,k){var x=I.type;return x===ua?d(E,v,I.props.children,k,I.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wi&&UI(x)===v.type)?(k=i(v,I.props),k.ref=Zl(E,v,I),k.return=E,k):(k=Uh(I.type,I.key,I.props,null,E.mode,k),k.ref=Zl(E,v,I),k.return=E,k)}function u(E,v,I,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==I.containerInfo||v.stateNode.implementation!==I.implementation?(v=Og(I,E.mode,k),v.return=E,v):(v=i(v,I.children||[]),v.return=E,v)}function d(E,v,I,k,x){return v===null||v.tag!==7?(v=ho(I,E.mode,k,x),v.return=E,v):(v=i(v,I),v.return=E,v)}function h(E,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xg(""+v,E.mode,I),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gd:return I=Uh(v.type,v.key,v.props,null,E.mode,I),I.ref=Zl(E,null,v),I.return=E,I;case la:return v=Og(v,E.mode,I),v.return=E,v;case Wi:var k=v._init;return h(E,k(v._payload),I)}if(wu(v)||Gl(v))return v=ho(v,E.mode,I,null),v.return=E,v;sh(E,v)}return null}function f(E,v,I,k){var x=v!==null?v.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return x!==null?null:a(E,v,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Gd:return I.key===x?l(E,v,I,k):null;case la:return I.key===x?u(E,v,I,k):null;case Wi:return x=I._init,f(E,v,x(I._payload),k)}if(wu(I)||Gl(I))return x!==null?null:d(E,v,I,k,null);sh(E,I)}return null}function m(E,v,I,k,x){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(I)||null,a(v,E,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gd:return E=E.get(k.key===null?I:k.key)||null,l(v,E,k,x);case la:return E=E.get(k.key===null?I:k.key)||null,u(v,E,k,x);case Wi:var D=k._init;return m(E,v,I,D(k._payload),x)}if(wu(k)||Gl(k))return E=E.get(I)||null,d(v,E,k,x,null);sh(v,k)}return null}function _(E,v,I,k){for(var x=null,D=null,b=v,T=v=0,A=null;b!==null&&T<I.length;T++){b.index>T?(A=b,b=null):A=b.sibling;var g=f(E,b,I[T],k);if(g===null){b===null&&(b=A);break}t&&b&&g.alternate===null&&e(E,b),v=s(g,v,T),D===null?x=g:D.sibling=g,D=g,b=A}if(T===I.length)return n(E,b),Be&&Hs(E,T),x;if(b===null){for(;T<I.length;T++)b=h(E,I[T],k),b!==null&&(v=s(b,v,T),D===null?x=b:D.sibling=b,D=b);return Be&&Hs(E,T),x}for(b=r(E,b);T<I.length;T++)A=m(b,E,T,I[T],k),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?T:A.key),v=s(A,v,T),D===null?x=A:D.sibling=A,D=A);return t&&b.forEach(function(P){return e(E,P)}),Be&&Hs(E,T),x}function w(E,v,I,k){var x=Gl(I);if(typeof x!="function")throw Error(q(150));if(I=x.call(I),I==null)throw Error(q(151));for(var D=x=null,b=v,T=v=0,A=null,g=I.next();b!==null&&!g.done;T++,g=I.next()){b.index>T?(A=b,b=null):A=b.sibling;var P=f(E,b,g.value,k);if(P===null){b===null&&(b=A);break}t&&b&&P.alternate===null&&e(E,b),v=s(P,v,T),D===null?x=P:D.sibling=P,D=P,b=A}if(g.done)return n(E,b),Be&&Hs(E,T),x;if(b===null){for(;!g.done;T++,g=I.next())g=h(E,g.value,k),g!==null&&(v=s(g,v,T),D===null?x=g:D.sibling=g,D=g);return Be&&Hs(E,T),x}for(b=r(E,b);!g.done;T++,g=I.next())g=m(b,E,T,g.value,k),g!==null&&(t&&g.alternate!==null&&b.delete(g.key===null?T:g.key),v=s(g,v,T),D===null?x=g:D.sibling=g,D=g);return t&&b.forEach(function(N){return e(E,N)}),Be&&Hs(E,T),x}function S(E,v,I,k){if(typeof I=="object"&&I!==null&&I.type===ua&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Gd:e:{for(var x=I.key,D=v;D!==null;){if(D.key===x){if(x=I.type,x===ua){if(D.tag===7){n(E,D.sibling),v=i(D,I.props.children),v.return=E,E=v;break e}}else if(D.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Wi&&UI(x)===D.type){n(E,D.sibling),v=i(D,I.props),v.ref=Zl(E,D,I),v.return=E,E=v;break e}n(E,D);break}else e(E,D);D=D.sibling}I.type===ua?(v=ho(I.props.children,E.mode,k,I.key),v.return=E,E=v):(k=Uh(I.type,I.key,I.props,null,E.mode,k),k.ref=Zl(E,v,I),k.return=E,E=k)}return o(E);case la:e:{for(D=I.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===I.containerInfo&&v.stateNode.implementation===I.implementation){n(E,v.sibling),v=i(v,I.children||[]),v.return=E,E=v;break e}else{n(E,v);break}else e(E,v);v=v.sibling}v=Og(I,E.mode,k),v.return=E,E=v}return o(E);case Wi:return D=I._init,S(E,v,D(I._payload),k)}if(wu(I))return _(E,v,I,k);if(Gl(I))return w(E,v,I,k);sh(E,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,v!==null&&v.tag===6?(n(E,v.sibling),v=i(v,I),v.return=E,E=v):(n(E,v),v=xg(I,E.mode,k),v.return=E,E=v),o(E)):n(E,v)}return S}var Fa=RR(!0),AR=RR(!1),Tf=Cs(null),Sf=null,ya=null,Ov=null;function Nv(){Ov=ya=Sf=null}function Dv(t){var e=Tf.current;Me(Tf),t._currentValue=e}function Uy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ba(t,e){Sf=t,Ov=ya=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(Ov!==t)if(t={context:t,memoizedValue:e,next:null},ya===null){if(Sf===null)throw Error(q(308));ya=t,Sf.dependencies={lanes:0,firstContext:t}}else ya=ya.next=t;return e}var io=null;function Vv(t){io===null?io=[t]:io.push(t)}function PR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vv(e)):(n.next=i.next,i.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function Lv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gi(t,n)}return i=r.interleaved,i===null?(e.next=e,Vv(r)):(e.next=i.next,i.next=e),r.interleaved=e,gi(t,n)}function Nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ev(t,n)}}function BI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bf(t,e,n,r){var i=t.updateQueue;qi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(f=e,m=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(m,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(m,h,f):_,f==null)break e;h=Ye({},h,f);break e;case 2:qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wo|=o,t.lanes=o,t.memoizedState=h}}function jI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var Jc={},Mr=Cs(Jc),pc=Cs(Jc),mc=Cs(Jc);function so(t){if(t===Jc)throw Error(q(174));return t}function Mv(t,e){switch(Oe(mc,e),Oe(pc,t),Oe(Mr,Jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vy(e,t)}Me(Mr),Oe(Mr,e)}function Ua(){Me(Mr),Me(pc),Me(mc)}function kR(t){so(mc.current);var e=so(Mr.current),n=vy(e,t.type);e!==n&&(Oe(pc,t),Oe(Mr,n))}function Fv(t){pc.current===t&&(Me(Mr),Me(pc))}var Ke=Cs(0);function Rf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bg=[];function Uv(){for(var t=0;t<bg.length;t++)bg[t]._workInProgressVersionPrimary=null;bg.length=0}var Dh=Si.ReactCurrentDispatcher,Rg=Si.ReactCurrentBatchConfig,vo=0,Ge=null,Et=null,Rt=null,Af=!1,Mu=!1,gc=0,M2=0;function zt(){throw Error(q(321))}function Bv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!mr(t[n],e[n]))return!1;return!0}function jv(t,e,n,r,i,s){if(vo=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dh.current=t===null||t.memoizedState===null?j2:$2,t=n(r,i),Mu){s=0;do{if(Mu=!1,gc=0,25<=s)throw Error(q(301));s+=1,Rt=Et=null,e.updateQueue=null,Dh.current=z2,t=n(r,i)}while(Mu)}if(Dh.current=Pf,e=Et!==null&&Et.next!==null,vo=0,Rt=Et=Ge=null,Af=!1,e)throw Error(q(300));return t}function $v(){var t=gc!==0;return gc=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ge.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Yn(){if(Et===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Rt===null?Ge.memoizedState:Rt.next;if(e!==null)Rt=e,Et=t;else{if(t===null)throw Error(q(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Rt===null?Ge.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function yc(t,e){return typeof e=="function"?e(t):e}function Ag(t){var e=Yn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((vo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ge.lanes|=d,wo|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,mr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ge.lanes|=s,wo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Pg(t){var e=Yn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);mr(s,e.memoizedState)||(gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xR(){}function OR(t,e){var n=Ge,r=Yn(),i=e(),s=!mr(r.memoizedState,i);if(s&&(r.memoizedState=i,gn=!0),r=r.queue,zv(VR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,_c(9,DR.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(q(349));vo&30||NR(n,e,i)}return i}function NR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DR(t,e,n,r){e.value=n,e.getSnapshot=r,LR(e)&&MR(t)}function VR(t,e,n){return n(function(){LR(e)&&MR(t)})}function LR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!mr(t,n)}catch{return!0}}function MR(t){var e=gi(t,1);e!==null&&fr(e,t,1,-1)}function $I(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:t},e.queue=t,t=t.dispatch=B2.bind(null,Ge,t),[e.memoizedState,t]}function _c(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FR(){return Yn().memoizedState}function Vh(t,e,n,r){var i=Tr();Ge.flags|=t,i.memoizedState=_c(1|e,n,void 0,r===void 0?null:r)}function Tp(t,e,n,r){var i=Yn();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&Bv(r,o.deps)){i.memoizedState=_c(e,n,s,r);return}}Ge.flags|=t,i.memoizedState=_c(1|e,n,s,r)}function zI(t,e){return Vh(8390656,8,t,e)}function zv(t,e){return Tp(2048,8,t,e)}function UR(t,e){return Tp(4,2,t,e)}function BR(t,e){return Tp(4,4,t,e)}function jR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $R(t,e,n){return n=n!=null?n.concat([t]):null,Tp(4,4,jR.bind(null,e,t),n)}function Wv(){}function zR(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WR(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qR(t,e,n){return vo&21?(mr(n,e)||(n=Jb(),Ge.lanes|=n,wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function F2(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=Rg.transition;Rg.transition={};try{t(!1),e()}finally{Re=n,Rg.transition=r}}function HR(){return Yn().memoizedState}function U2(t,e,n){var r=os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KR(t))GR(e,n);else if(n=PR(t,e,n,r),n!==null){var i=ln();fr(n,t,r,i),QR(n,e,r)}}function B2(t,e,n){var r=os(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KR(t))GR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,mr(a,o)){var l=e.interleaved;l===null?(i.next=i,Vv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PR(t,e,i,r),n!==null&&(i=ln(),fr(n,t,r,i),QR(n,e,r))}}function KR(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function GR(t,e){Mu=Af=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function QR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ev(t,n)}}var Pf={readContext:Jn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},j2={readContext:Jn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:zI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vh(4194308,4,jR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vh(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=U2.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:$I,useDebugValue:Wv,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=$I(!1),e=t[0];return t=F2.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,i=Tr();if(Be){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Pt===null)throw Error(q(349));vo&30||NR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,zI(VR.bind(null,r,s,t),[t]),r.flags|=2048,_c(9,DR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Pt.identifierPrefix;if(Be){var n=oi,r=si;n=(r&~(1<<32-hr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$2={readContext:Jn,useCallback:zR,useContext:Jn,useEffect:zv,useImperativeHandle:$R,useInsertionEffect:UR,useLayoutEffect:BR,useMemo:WR,useReducer:Ag,useRef:FR,useState:function(){return Ag(yc)},useDebugValue:Wv,useDeferredValue:function(t){var e=Yn();return qR(e,Et.memoizedState,t)},useTransition:function(){var t=Ag(yc)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:xR,useSyncExternalStore:OR,useId:HR,unstable_isNewReconciler:!1},z2={readContext:Jn,useCallback:zR,useContext:Jn,useEffect:zv,useImperativeHandle:$R,useInsertionEffect:UR,useLayoutEffect:BR,useMemo:WR,useReducer:Pg,useRef:FR,useState:function(){return Pg(yc)},useDebugValue:Wv,useDeferredValue:function(t){var e=Yn();return Et===null?e.memoizedState=t:qR(e,Et.memoizedState,t)},useTransition:function(){var t=Pg(yc)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:xR,useSyncExternalStore:OR,useId:HR,unstable_isNewReconciler:!1};function lr(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function By(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sp={isMounted:function(t){return(t=t._reactInternals)?Vo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=os(t),s=di(r,i);s.payload=e,n!=null&&(s.callback=n),e=is(t,s,i),e!==null&&(fr(e,t,i,r),Nh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=os(t),s=di(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=is(t,s,i),e!==null&&(fr(e,t,i,r),Nh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=os(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=is(t,i,r),e!==null&&(fr(e,t,r,n),Nh(e,t,r))}};function WI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cc(n,r)||!cc(i,s):!0}function JR(t,e,n){var r=!1,i=hs,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=En(e)?yo:Xt.current,r=e.contextTypes,s=(r=r!=null)?La(t,i):hs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function qI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sp.enqueueReplaceState(e,e.state,null)}function jy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Lv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=En(e)?yo:Xt.current,i.context=La(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(By(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sp.enqueueReplaceState(i,i.state,null),bf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e){try{var n="",r=e;do n+=yD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $y(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var W2=typeof WeakMap=="function"?WeakMap:Map;function YR(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kf||(kf=!0,Xy=r),$y(t,e)},n}function XR(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$y(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$y(t,e),typeof r!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function HI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new W2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=iV.bind(null,t,e,n),e.then(t,t))}function KI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function GI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,is(n,e,1))),n.lanes|=1),t)}var q2=Si.ReactCurrentOwner,gn=!1;function sn(t,e,n,r){e.child=t===null?AR(e,null,n,r):Fa(e,t.child,n,r)}function QI(t,e,n,r,i){n=n.render;var s=e.ref;return ba(e,i),r=jv(t,e,n,r,s,i),n=$v(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(Be&&n&&Cv(e),e.flags|=1,sn(t,e,r,i),e.child)}function JI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Xv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ZR(t,e,s,r,i)):(t=Uh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cc,n(o,r)&&t.ref===e.ref)return yi(t,e,i)}return e.flags|=1,t=as(s,r),t.ref=e.ref,t.return=e,e.child=t}function ZR(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cc(s,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,yi(t,e,i)}return zy(t,e,n,r,i)}function eA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(va,Pn),Pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(va,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Oe(va,Pn),Pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Oe(va,Pn),Pn|=r;return sn(t,e,i,n),e.child}function tA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zy(t,e,n,r,i){var s=En(n)?yo:Xt.current;return s=La(e,s),ba(e,i),n=jv(t,e,n,r,s,i),r=$v(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(Be&&r&&Cv(e),e.flags|=1,sn(t,e,n,i),e.child)}function YI(t,e,n,r,i){if(En(n)){var s=!0;wf(e)}else s=!1;if(ba(e,i),e.stateNode===null)Lh(t,e),JR(e,n,r),jy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=En(n)?yo:Xt.current,u=La(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qI(e,o,r,u),qi=!1;var f=e.memoizedState;o.state=f,bf(e,r,o,i),l=e.memoizedState,a!==r||f!==l||wn.current||qi?(typeof d=="function"&&(By(e,n,d,r),l=e.memoizedState),(a=qi||WI(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:lr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=En(n)?yo:Xt.current,l=La(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&qI(e,o,r,l),qi=!1,f=e.memoizedState,o.state=f,bf(e,r,o,i);var _=e.memoizedState;a!==h||f!==_||wn.current||qi?(typeof m=="function"&&(By(e,n,m,r),_=e.memoizedState),(u=qi||WI(e,n,u,r,f,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wy(t,e,n,r,s,i)}function Wy(t,e,n,r,i,s){tA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&LI(e,n,!1),yi(t,e,s);r=e.stateNode,q2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fa(e,t.child,null,s),e.child=Fa(e,null,a,s)):sn(t,e,a,s),e.memoizedState=r.state,i&&LI(e,n,!0),e.child}function nA(t){var e=t.stateNode;e.pendingContext?VI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VI(t,e.context,!1),Mv(t,e.containerInfo)}function XI(t,e,n,r,i){return Ma(),xv(i),e.flags|=256,sn(t,e,n,r),e.child}var qy={dehydrated:null,treeContext:null,retryLane:0};function Hy(t){return{baseLanes:t,cachePool:null,transitions:null}}function rA(t,e,n){var r=e.pendingProps,i=Ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Oe(Ke,i&1),t===null)return Fy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ap(o,r,0,null),t=ho(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hy(n),e.memoizedState=qy,t):qv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return H2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=as(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=as(a,s):(s=ho(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qy,r}return s=t.child,t=s.sibling,r=as(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qv(t,e){return e=Ap({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oh(t,e,n,r){return r!==null&&xv(r),Fa(e,t.child,null,n),t=qv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function H2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cg(Error(q(422))),oh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ap({mode:"visible",children:r.children},i,0,null),s=ho(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fa(e,t.child,null,o),e.child.memoizedState=Hy(o),e.memoizedState=qy,s);if(!(e.mode&1))return oh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=Cg(s,r,void 0),oh(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gi(t,i),fr(r,t,i,-1))}return Yv(),r=Cg(Error(q(421))),oh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,On=rs(i.nextSibling),Dn=e,Be=!0,cr=null,t!==null&&(zn[Wn++]=si,zn[Wn++]=oi,zn[Wn++]=_o,si=t.id,oi=t.overflow,_o=e),e=qv(e,r.children),e.flags|=4096,e)}function ZI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uy(t.return,e,n)}function kg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(sn(t,e,r.children,n),r=Ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZI(t,n,e);else if(t.tag===19)ZI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(Ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Rf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Rf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kg(e,!0,n,null,s);break;case"together":kg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Lh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=as(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=as(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K2(t,e,n){switch(e.tag){case 3:nA(e),Ma();break;case 5:kR(e);break;case 1:En(e.type)&&wf(e);break;case 4:Mv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Oe(Tf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?rA(t,e,n):(Oe(Ke,Ke.current&1),t=yi(t,e,n),t!==null?t.sibling:null);Oe(Ke,Ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Ke,Ke.current),r)break;return null;case 22:case 23:return e.lanes=0,eA(t,e,n)}return yi(t,e,n)}var sA,Ky,oA,aA;sA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ky=function(){};oA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,so(Mr.current);var s=null;switch(n){case"input":i=my(t,i),r=my(t,r),s=[];break;case"select":i=Ye({},i,{value:void 0}),r=Ye({},r,{value:void 0}),s=[];break;case"textarea":i=_y(t,i),r=_y(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_f)}wy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};aA=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G2(t,e,n){var r=e.pendingProps;switch(kv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return En(e.type)&&vf(),Wt(e),null;case 3:return r=e.stateNode,Ua(),Me(wn),Me(Xt),Uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ih(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(t_(cr),cr=null))),Ky(t,e),Wt(e),null;case 5:Fv(e);var i=so(mc.current);if(n=e.type,t!==null&&e.stateNode!=null)oA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Wt(e),null}if(t=so(Mr.current),ih(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rr]=e,r[fc]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<Iu.length;i++)Ve(Iu[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":lI(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":cI(r,s),Ve("invalid",r)}wy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&rh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&rh(r.textContent,a,t),i=["children",""+a]):rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Qd(r),uI(r,s,!0);break;case"textarea":Qd(r),dI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_f)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rr]=e,t[fc]=r,sA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ey(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<Iu.length;i++)Ve(Iu[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":lI(t,r),i=my(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ye({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":cI(t,r),i=_y(t,r),Ve("invalid",t);break;default:i=r}wy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Fb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Lb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ic(t,l):typeof l=="number"&&ic(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&mv(t,s,l,o))}switch(n){case"input":Qd(t),uI(t,r,!1);break;case"textarea":Qd(t),dI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ea(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ea(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_f)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)aA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=so(mc.current),so(Mr.current),ih(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rr]=e,(s=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:rh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=e,e.stateNode=r}return Wt(e),null;case 13:if(Me(Ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&On!==null&&e.mode&1&&!(e.flags&128))bR(),Ma(),e.flags|=98560,s=!1;else if(s=ih(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Rr]=e}else Ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),s=!1}else cr!==null&&(t_(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?It===0&&(It=3):Yv())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Ua(),Ky(t,e),t===null&&dc(e.stateNode.containerInfo),Wt(e),null;case 10:return Dv(e.type._context),Wt(e),null;case 17:return En(e.type)&&vf(),Wt(e),null;case 19:if(Me(Ke),s=e.memoizedState,s===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)eu(s,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rf(t),o!==null){for(e.flags|=128,eu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(Ke,Ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>ja&&(e.flags|=128,r=!0,eu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Rf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return Wt(e),null}else 2*lt()-s.renderingStartTime>ja&&n!==1073741824&&(e.flags|=128,r=!0,eu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Ke.current,Oe(Ke,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return Jv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Q2(t,e){switch(kv(e),e.tag){case 1:return En(e.type)&&vf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ua(),Me(wn),Me(Xt),Uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fv(e),null;case 13:if(Me(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ke),null;case 4:return Ua(),null;case 10:return Dv(e.type._context),null;case 22:case 23:return Jv(),null;case 24:return null;default:return null}}var ah=!1,Qt=!1,J2=typeof WeakSet=="function"?WeakSet:Set,Y=null;function _a(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){rt(t,e,r)}else n.current=null}function Gy(t,e,n){try{n()}catch(r){rt(t,e,r)}}var eT=!1;function Y2(t,e){if(xy=mf,t=hR(),Pv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oy={focusedElem:t,selectionRange:n},mf=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,S=_.memoizedState,E=e.stateNode,v=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:lr(e.type,w),S);E.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=eT,eT=!1,_}function Fu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gy(e,n,s)}i=i.next}while(i!==r)}}function bp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lA(t){var e=t.alternate;e!==null&&(t.alternate=null,lA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[fc],delete e[Vy],delete e[N2],delete e[D2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uA(t){return t.tag===5||t.tag===3||t.tag===4}function tT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_f));else if(r!==4&&(t=t.child,t!==null))for(Jy(t,e,n),t=t.sibling;t!==null;)Jy(t,e,n),t=t.sibling}function Yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yy(t,e,n),t=t.sibling;t!==null;)Yy(t,e,n),t=t.sibling}var Ot=null,ur=!1;function Mi(t,e,n){for(n=n.child;n!==null;)cA(t,e,n),n=n.sibling}function cA(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(yp,n)}catch{}switch(n.tag){case 5:Qt||_a(n,e);case 6:var r=Ot,i=ur;Ot=null,Mi(t,e,n),Ot=r,ur=i,Ot!==null&&(ur?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(ur?(t=Ot,n=n.stateNode,t.nodeType===8?Tg(t.parentNode,n):t.nodeType===1&&Tg(t,n),lc(t)):Tg(Ot,n.stateNode));break;case 4:r=Ot,i=ur,Ot=n.stateNode.containerInfo,ur=!0,Mi(t,e,n),Ot=r,ur=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gy(n,e,o),i=i.next}while(i!==r)}Mi(t,e,n);break;case 1:if(!Qt&&(_a(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){rt(n,e,a)}Mi(t,e,n);break;case 21:Mi(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Mi(t,e,n),Qt=r):Mi(t,e,n);break;default:Mi(t,e,n)}}function nT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new J2),e.forEach(function(r){var i=oV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,ur=!1;break e;case 3:Ot=a.stateNode.containerInfo,ur=!0;break e;case 4:Ot=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Ot===null)throw Error(q(160));cA(s,o,i),Ot=null,ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){rt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dA(e,t),e=e.sibling}function dA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),wr(t),r&4){try{Fu(3,t,t.return),bp(3,t)}catch(w){rt(t,t.return,w)}try{Fu(5,t,t.return)}catch(w){rt(t,t.return,w)}}break;case 1:sr(e,t),wr(t),r&512&&n!==null&&_a(n,n.return);break;case 5:if(sr(e,t),wr(t),r&512&&n!==null&&_a(n,n.return),t.flags&32){var i=t.stateNode;try{ic(i,"")}catch(w){rt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Nb(i,s),Ey(a,o);var u=Ey(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Fb(i,h):d==="dangerouslySetInnerHTML"?Lb(i,h):d==="children"?ic(i,h):mv(i,d,h,u)}switch(a){case"input":gy(i,s);break;case"textarea":Db(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ea(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ea(i,!!s.multiple,s.defaultValue,!0):Ea(i,!!s.multiple,s.multiple?[]:"",!1))}i[fc]=s}catch(w){rt(t,t.return,w)}}break;case 6:if(sr(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){rt(t,t.return,w)}}break;case 3:if(sr(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(e.containerInfo)}catch(w){rt(t,t.return,w)}break;case 4:sr(e,t),wr(t);break;case 13:sr(e,t),wr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gv=lt())),r&4&&nT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(u=Qt)||d,sr(e,t),Qt=u):sr(e,t),wr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:Fu(4,f,f.return);break;case 1:_a(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){rt(r,n,w)}}break;case 5:_a(f,f.return);break;case 22:if(f.memoizedState!==null){iT(h);continue}}m!==null?(m.return=f,Y=m):iT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mb("display",o))}catch(w){rt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){rt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sr(e,t),wr(t),r&4&&nT(t);break;case 21:break;default:sr(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uA(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ic(i,""),r.flags&=-33);var s=tT(t);Yy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tT(t);Jy(t,a,o);break;default:throw Error(q(161))}}catch(l){rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X2(t,e,n){Y=t,hA(t)}function hA(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ah;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=ah;var u=Qt;if(ah=o,(Qt=l)&&!u)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?sT(i):l!==null?(l.return=o,Y=l):sT(i);for(;s!==null;)Y=s,hA(s),s=s.sibling;Y=i,ah=a,Qt=u}rT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):rT(t)}}function rT(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||bp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&lc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Qt||e.flags&512&&Qy(e)}catch(f){rt(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function iT(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function sT(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bp(4,e)}catch(l){rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){rt(e,i,l)}}var s=e.return;try{Qy(e)}catch(l){rt(e,s,l)}break;case 5:var o=e.return;try{Qy(e)}catch(l){rt(e,o,l)}}}catch(l){rt(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var Z2=Math.ceil,Cf=Si.ReactCurrentDispatcher,Hv=Si.ReactCurrentOwner,Gn=Si.ReactCurrentBatchConfig,ye=0,Pt=null,yt=null,Mt=0,Pn=0,va=Cs(0),It=0,vc=null,wo=0,Rp=0,Kv=0,Uu=null,mn=null,Gv=0,ja=1/0,ti=null,kf=!1,Xy=null,ss=null,lh=!1,Yi=null,xf=0,Bu=0,Zy=null,Mh=-1,Fh=0;function ln(){return ye&6?lt():Mh!==-1?Mh:Mh=lt()}function os(t){return t.mode&1?ye&2&&Mt!==0?Mt&-Mt:L2.transition!==null?(Fh===0&&(Fh=Jb()),Fh):(t=Re,t!==0||(t=window.event,t=t===void 0?16:rR(t.type)),t):1}function fr(t,e,n,r){if(50<Bu)throw Bu=0,Zy=null,Error(q(185));Kc(t,n,r),(!(ye&2)||t!==Pt)&&(t===Pt&&(!(ye&2)&&(Rp|=n),It===4&&Ki(t,Mt)),In(t,r),n===1&&ye===0&&!(e.mode&1)&&(ja=lt()+500,Ip&&ks()))}function In(t,e){var n=t.callbackNode;LD(t,e);var r=pf(t,t===Pt?Mt:0);if(r===0)n!==null&&pI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pI(n),e===1)t.tag===0?V2(oT.bind(null,t)):IR(oT.bind(null,t)),x2(function(){!(ye&6)&&ks()}),n=null;else{switch(Yb(r)){case 1:n=wv;break;case 4:n=Gb;break;case 16:n=ff;break;case 536870912:n=Qb;break;default:n=ff}n=wA(n,fA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fA(t,e){if(Mh=-1,Fh=0,ye&6)throw Error(q(327));var n=t.callbackNode;if(Ra()&&t.callbackNode!==n)return null;var r=pf(t,t===Pt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Of(t,r);else{e=r;var i=ye;ye|=2;var s=mA();(Pt!==t||Mt!==e)&&(ti=null,ja=lt()+500,co(t,e));do try{nV();break}catch(a){pA(t,a)}while(!0);Nv(),Cf.current=s,ye=i,yt!==null?e=0:(Pt=null,Mt=0,e=It)}if(e!==0){if(e===2&&(i=Ry(t),i!==0&&(r=i,e=e_(t,i))),e===1)throw n=vc,co(t,0),Ki(t,r),In(t,lt()),n;if(e===6)Ki(t,r);else{if(i=t.current.alternate,!(r&30)&&!eV(i)&&(e=Of(t,r),e===2&&(s=Ry(t),s!==0&&(r=s,e=e_(t,s))),e===1))throw n=vc,co(t,0),Ki(t,r),In(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Ks(t,mn,ti);break;case 3:if(Ki(t,r),(r&130023424)===r&&(e=Gv+500-lt(),10<e)){if(pf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dy(Ks.bind(null,t,mn,ti),e);break}Ks(t,mn,ti);break;case 4:if(Ki(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-hr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z2(r/1960))-r,10<r){t.timeoutHandle=Dy(Ks.bind(null,t,mn,ti),r);break}Ks(t,mn,ti);break;case 5:Ks(t,mn,ti);break;default:throw Error(q(329))}}}return In(t,lt()),t.callbackNode===n?fA.bind(null,t):null}function e_(t,e){var n=Uu;return t.current.memoizedState.isDehydrated&&(co(t,e).flags|=256),t=Of(t,e),t!==2&&(e=mn,mn=n,e!==null&&t_(e)),t}function t_(t){mn===null?mn=t:mn.push.apply(mn,t)}function eV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ki(t,e){for(e&=~Kv,e&=~Rp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hr(e),r=1<<n;t[n]=-1,e&=~r}}function oT(t){if(ye&6)throw Error(q(327));Ra();var e=pf(t,0);if(!(e&1))return In(t,lt()),null;var n=Of(t,e);if(t.tag!==0&&n===2){var r=Ry(t);r!==0&&(e=r,n=e_(t,r))}if(n===1)throw n=vc,co(t,0),Ki(t,e),In(t,lt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ks(t,mn,ti),In(t,lt()),null}function Qv(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(ja=lt()+500,Ip&&ks())}}function Eo(t){Yi!==null&&Yi.tag===0&&!(ye&6)&&Ra();var e=ye;ye|=1;var n=Gn.transition,r=Re;try{if(Gn.transition=null,Re=1,t)return t()}finally{Re=r,Gn.transition=n,ye=e,!(ye&6)&&ks()}}function Jv(){Pn=va.current,Me(va)}function co(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k2(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(kv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vf();break;case 3:Ua(),Me(wn),Me(Xt),Uv();break;case 5:Fv(r);break;case 4:Ua();break;case 13:Me(Ke);break;case 19:Me(Ke);break;case 10:Dv(r.type._context);break;case 22:case 23:Jv()}n=n.return}if(Pt=t,yt=t=as(t.current,null),Mt=Pn=e,It=0,vc=null,Kv=Rp=wo=0,mn=Uu=null,io!==null){for(e=0;e<io.length;e++)if(n=io[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}io=null}return t}function pA(t,e){do{var n=yt;try{if(Nv(),Dh.current=Pf,Af){for(var r=Ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Af=!1}if(vo=0,Rt=Et=Ge=null,Mu=!1,gc=0,Hv.current=null,n===null||n.return===null){It=1,vc=e,yt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=KI(o);if(m!==null){m.flags&=-257,GI(m,o,a,s,e),m.mode&1&&HI(s,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){HI(s,u,e),Yv();break e}l=Error(q(426))}}else if(Be&&a.mode&1){var S=KI(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),GI(S,o,a,s,e),xv(Ba(l,a));break e}}s=l=Ba(l,a),It!==4&&(It=2),Uu===null?Uu=[s]:Uu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=YR(s,l,e);BI(s,E);break e;case 1:a=l;var v=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ss===null||!ss.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=XR(s,a,e);BI(s,k);break e}}s=s.return}while(s!==null)}yA(n)}catch(x){e=x,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function mA(){var t=Cf.current;return Cf.current=Pf,t===null?Pf:t}function Yv(){(It===0||It===3||It===2)&&(It=4),Pt===null||!(wo&268435455)&&!(Rp&268435455)||Ki(Pt,Mt)}function Of(t,e){var n=ye;ye|=2;var r=mA();(Pt!==t||Mt!==e)&&(ti=null,co(t,e));do try{tV();break}catch(i){pA(t,i)}while(!0);if(Nv(),ye=n,Cf.current=r,yt!==null)throw Error(q(261));return Pt=null,Mt=0,It}function tV(){for(;yt!==null;)gA(yt)}function nV(){for(;yt!==null&&!AD();)gA(yt)}function gA(t){var e=vA(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?yA(t):yt=e,Hv.current=null}function yA(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q2(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,yt=null;return}}else if(n=G2(n,e,Pn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);It===0&&(It=5)}function Ks(t,e,n){var r=Re,i=Gn.transition;try{Gn.transition=null,Re=1,rV(t,e,n,r)}finally{Gn.transition=i,Re=r}return null}function rV(t,e,n,r){do Ra();while(Yi!==null);if(ye&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MD(t,s),t===Pt&&(yt=Pt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lh||(lh=!0,wA(ff,function(){return Ra(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Gn.transition,Gn.transition=null;var o=Re;Re=1;var a=ye;ye|=4,Hv.current=null,Y2(t,n),dA(n,t),T2(Oy),mf=!!xy,Oy=xy=null,t.current=n,X2(n),PD(),ye=a,Re=o,Gn.transition=s}else t.current=n;if(lh&&(lh=!1,Yi=t,xf=i),s=t.pendingLanes,s===0&&(ss=null),xD(n.stateNode),In(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kf)throw kf=!1,t=Xy,Xy=null,t;return xf&1&&t.tag!==0&&Ra(),s=t.pendingLanes,s&1?t===Zy?Bu++:(Bu=0,Zy=t):Bu=0,ks(),null}function Ra(){if(Yi!==null){var t=Yb(xf),e=Gn.transition,n=Re;try{if(Gn.transition=null,Re=16>t?16:t,Yi===null)var r=!1;else{if(t=Yi,Yi=null,xf=0,ye&6)throw Error(q(331));var i=ye;for(ye|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Fu(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(lA(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fu(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}var v=t.current;for(Y=v;Y!==null;){o=Y;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Y=I;else e:for(o=v;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bp(9,a)}}catch(x){rt(a,a.return,x)}if(a===o){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(ye=i,ks(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(yp,t)}catch{}r=!0}return r}finally{Re=n,Gn.transition=e}}return!1}function aT(t,e,n){e=Ba(n,e),e=YR(t,e,1),t=is(t,e,1),e=ln(),t!==null&&(Kc(t,1,e),In(t,e))}function rt(t,e,n){if(t.tag===3)aT(t,t,n);else for(;e!==null;){if(e.tag===3){aT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))){t=Ba(n,t),t=XR(e,t,1),e=is(e,t,1),t=ln(),e!==null&&(Kc(e,1,t),In(e,t));break}}e=e.return}}function iV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Mt&n)===n&&(It===4||It===3&&(Mt&130023424)===Mt&&500>lt()-Gv?co(t,0):Kv|=n),In(t,e)}function _A(t,e){e===0&&(t.mode&1?(e=Xd,Xd<<=1,!(Xd&130023424)&&(Xd=4194304)):e=1);var n=ln();t=gi(t,e),t!==null&&(Kc(t,e,n),In(t,n))}function sV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_A(t,n)}function oV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),_A(t,n)}var vA;vA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,K2(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Be&&e.flags&1048576&&TR(e,If,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Lh(t,e),t=e.pendingProps;var i=La(e,Xt.current);ba(e,n),i=jv(null,e,r,t,i,n);var s=$v();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,En(r)?(s=!0,wf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lv(e),i.updater=Sp,e.stateNode=i,i._reactInternals=e,jy(e,r,t,n),e=Wy(null,e,r,!0,s,n)):(e.tag=0,Be&&s&&Cv(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Lh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lV(r),t=lr(r,t),i){case 0:e=zy(null,e,r,t,n);break e;case 1:e=YI(null,e,r,t,n);break e;case 11:e=QI(null,e,r,t,n);break e;case 14:e=JI(null,e,r,lr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),zy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),YI(t,e,r,i,n);case 3:e:{if(nA(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CR(t,e),bf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ba(Error(q(423)),e),e=XI(t,e,r,n,i);break e}else if(r!==i){i=Ba(Error(q(424)),e),e=XI(t,e,r,n,i);break e}else for(On=rs(e.stateNode.containerInfo.firstChild),Dn=e,Be=!0,cr=null,n=AR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ma(),r===i){e=yi(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return kR(e),t===null&&Fy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ny(r,i)?o=null:s!==null&&Ny(r,s)&&(e.flags|=32),tA(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Fy(e),null;case 13:return rA(t,e,n);case 4:return Mv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fa(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),QI(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Oe(Tf,r._currentValue),r._currentValue=o,s!==null)if(mr(s.value,o)){if(s.children===i.children&&!wn.current){e=yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=di(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Uy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Uy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ba(e,n),i=Jn(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),JI(t,e,r,i,n);case 15:return ZR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Lh(t,e),e.tag=1,En(r)?(t=!0,wf(e)):t=!1,ba(e,n),JR(e,r,i),jy(e,r,i,n),Wy(null,e,r,!0,t,n);case 19:return iA(t,e,n);case 22:return eA(t,e,n)}throw Error(q(156,e.tag))};function wA(t,e){return Kb(t,e)}function aV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new aV(t,e,n,r)}function Xv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lV(t){if(typeof t=="function")return Xv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yv)return 11;if(t===_v)return 14}return 2}function as(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Xv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ua:return ho(n.children,i,s,e);case gv:o=8,i|=8;break;case dy:return t=Hn(12,n,e,i|2),t.elementType=dy,t.lanes=s,t;case hy:return t=Hn(13,n,e,i),t.elementType=hy,t.lanes=s,t;case fy:return t=Hn(19,n,e,i),t.elementType=fy,t.lanes=s,t;case kb:return Ap(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pb:o=10;break e;case Cb:o=9;break e;case yv:o=11;break e;case _v:o=14;break e;case Wi:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ho(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function Ap(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=kb,t.lanes=n,t.stateNode={isHidden:!1},t}function xg(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Og(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hg(0),this.expirationTimes=hg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zv(t,e,n,r,i,s,o,a,l){return t=new uV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lv(s),t}function cV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EA(t){if(!t)return hs;t=t._reactInternals;e:{if(Vo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(En(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(En(n))return ER(t,n,e)}return e}function IA(t,e,n,r,i,s,o,a,l){return t=Zv(n,r,!0,t,i,s,o,a,l),t.context=EA(null),n=t.current,r=ln(),i=os(n),s=di(r,i),s.callback=e??null,is(n,s,i),t.current.lanes=i,Kc(t,i,r),In(t,r),t}function Pp(t,e,n,r){var i=e.current,s=ln(),o=os(i);return n=EA(n),e.context===null?e.context=n:e.pendingContext=n,e=di(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=is(i,e,o),t!==null&&(fr(t,i,o,s),Nh(t,i,o)),o}function Nf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function e0(t,e){lT(t,e),(t=t.alternate)&&lT(t,e)}function dV(){return null}var TA=typeof reportError=="function"?reportError:function(t){console.error(t)};function t0(t){this._internalRoot=t}Cp.prototype.render=t0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Pp(t,e,null,null)};Cp.prototype.unmount=t0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){Pp(null,t,null,null)}),e[mi]=null}};function Cp(t){this._internalRoot=t}Cp.prototype.unstable_scheduleHydration=function(t){if(t){var e=eR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&nR(t)}};function n0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uT(){}function hV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Nf(o);s.call(u)}}var o=IA(e,r,t,0,null,!1,!1,"",uT);return t._reactRootContainer=o,t[mi]=o.current,dc(t.nodeType===8?t.parentNode:t),Eo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Nf(l);a.call(u)}}var l=Zv(t,0,!1,null,null,!1,!1,"",uT);return t._reactRootContainer=l,t[mi]=l.current,dc(t.nodeType===8?t.parentNode:t),Eo(function(){Pp(e,l,n,r)}),l}function xp(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Nf(o);a.call(l)}}Pp(e,o,t,i)}else o=hV(n,e,t,i,r);return Nf(o)}Xb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eu(e.pendingLanes);n!==0&&(Ev(e,n|1),In(e,lt()),!(ye&6)&&(ja=lt()+500,ks()))}break;case 13:Eo(function(){var r=gi(t,1);if(r!==null){var i=ln();fr(r,t,1,i)}}),e0(t,1)}};Iv=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=ln();fr(e,t,134217728,n)}e0(t,134217728)}};Zb=function(t){if(t.tag===13){var e=os(t),n=gi(t,e);if(n!==null){var r=ln();fr(n,t,e,r)}e0(t,e)}};eR=function(){return Re};tR=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};Ty=function(t,e,n){switch(e){case"input":if(gy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ep(r);if(!i)throw Error(q(90));Ob(r),gy(r,i)}}}break;case"textarea":Db(t,n);break;case"select":e=n.value,e!=null&&Ea(t,!!n.multiple,e,!1)}};jb=Qv;$b=Eo;var fV={usingClientEntryPoint:!1,Events:[Qc,fa,Ep,Ub,Bb,Qv]},tu={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pV={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qb(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||dV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{yp=uh.inject(pV),Lr=uh}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fV;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n0(e))throw Error(q(200));return cV(t,e,null,n)};Bn.createRoot=function(t,e){if(!n0(t))throw Error(q(299));var n=!1,r="",i=TA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zv(t,1,!1,null,null,n,!1,r,i),t[mi]=e.current,dc(t.nodeType===8?t.parentNode:t),new t0(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=qb(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Eo(t)};Bn.hydrate=function(t,e,n){if(!kp(e))throw Error(q(200));return xp(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!n0(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=TA;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IA(e,null,t,1,n??null,i,!1,s,o),t[mi]=e.current,dc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cp(e)};Bn.render=function(t,e,n){if(!kp(e))throw Error(q(200));return xp(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!kp(t))throw Error(q(40));return t._reactRootContainer?(Eo(function(){xp(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};Bn.unstable_batchedUpdates=Qv;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kp(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return xp(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function SA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SA)}catch(t){console.error(t)}}SA(),Sb.exports=Bn;var mV=Sb.exports,bA,cT=mV;bA=cT.createRoot,cT.hydrateRoot;var r0={};Object.defineProperty(r0,"__esModule",{value:!0});r0.parse=IV;r0.serialize=TV;const gV=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,yV=/^[\u0021-\u003A\u003C-\u007E]*$/,_V=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,vV=/^[\u0020-\u003A\u003D-\u007E]*$/,wV=Object.prototype.toString,EV=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function IV(t,e){const n=new EV,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||SV;let s=0;do{const o=t.indexOf("=",s);if(o===-1)break;const a=t.indexOf(";",s),l=a===-1?r:a;if(o>l){s=t.lastIndexOf(";",o-1)+1;continue}const u=dT(t,s,o),d=hT(t,o,u),h=t.slice(u,d);if(n[h]===void 0){let f=dT(t,o+1,l),m=hT(t,l,f);const _=i(t.slice(f,m));n[h]=_}s=l+1}while(s<r);return n}function dT(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function hT(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function TV(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!gV.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!yV.test(i))throw new TypeError(`argument val is invalid: ${e}`);let s=t+"="+i;if(!n)return s;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);s+="; Max-Age="+n.maxAge}if(n.domain){if(!_V.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);s+="; Domain="+n.domain}if(n.path){if(!vV.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);s+="; Path="+n.path}if(n.expires){if(!bV(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.partitioned&&(s+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return s}function SV(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function bV(t){return wV.call(t)==="[object Date]"}/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fT="popstate";function RV(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return n_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:wc(i)}return PV(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AV(){return Math.random().toString(36).substring(2,10)}function pT(t,e){return{usr:t.state,key:t.key,idx:e}}function n_(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||r||AV()}}function wc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function PV(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let S=d(),E=S==null?null:S-u;u=S,l&&l({action:a,location:w.location,delta:E})}function f(S,E){a="PUSH";let v=n_(w.location,S,E);u=d()+1;let I=pT(v,u),k=w.createHref(v);try{o.pushState(I,"",k)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(k)}s&&l&&l({action:a,location:w.location,delta:1})}function m(S,E){a="REPLACE";let v=n_(w.location,S,E);u=d();let I=pT(v,u),k=w.createHref(v);o.replaceState(I,"",k),s&&l&&l({action:a,location:w.location,delta:0})}function _(S){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof S=="string"?S:wc(S);return v=v.replace(/ $/,"%20"),Qe(E,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,E)}let w={get action(){return a},get location(){return t(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(fT,h),l=S,()=>{i.removeEventListener(fT,h),l=null}},createHref(S){return e(i,S)},createURL:_,encodeLocation(S){let E=_(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:m,go(S){return o.go(S)}};return w}function RA(t,e,n="/"){return CV(t,e,n,!1)}function CV(t,e,n,r){let i=typeof e=="string"?fl(e):e,s=fs(i.pathname||"/",n);if(s==null)return null;let o=AA(t);kV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=jV(s);a=UV(o[l],u,r)}return a}function AA(t,e=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=hi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Qe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),AA(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:MV(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of PA(s.path))i(s,o,l)}),e}function PA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=PA(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var xV=/^:[\w-]+$/,OV=3,NV=2,DV=1,VV=10,LV=-2,mT=t=>t==="*";function MV(t,e){let n=t.split("/"),r=n.length;return n.some(mT)&&(r+=LV),e&&(r+=NV),n.filter(i=>!mT(i)).reduce((i,s)=>i+(xV.test(s)?OV:s===""?DV:VV),r)}function FV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UV(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Df({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Df({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:hi([s,h.pathname]),pathnameBase:qV(hi([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=hi([s,h.pathnameBase]))}return o}function Df(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const m=a[f];return h&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function BV(t,e=!1,n=!0){xs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function jV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xs(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function fs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $V(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fl(t):t;return{pathname:n?n.startsWith("/")?n:zV(n,e):e,search:HV(r),hash:KV(i)}}function zV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ng(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function CA(t){let e=WV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function kA(t,e,n,r=!1){let i;typeof t=="string"?i=fl(t):(i={...t},Qe(!i.pathname||!i.pathname.includes("?"),Ng("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),Ng("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),Ng("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=$V(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var hi=t=>t.join("/").replace(/\/\/+/g,"/"),qV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var xA=["POST","PUT","PATCH","DELETE"];new Set(xA);var QV=["GET",...xA];new Set(QV);var pl=V.createContext(null);pl.displayName="DataRouter";var Op=V.createContext(null);Op.displayName="DataRouterState";var OA=V.createContext({isTransitioning:!1});OA.displayName="ViewTransition";var JV=V.createContext(new Map);JV.displayName="Fetchers";var YV=V.createContext(null);YV.displayName="Await";var Hr=V.createContext(null);Hr.displayName="Navigation";var Yc=V.createContext(null);Yc.displayName="Location";var Kr=V.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var i0=V.createContext(null);i0.displayName="RouteError";function XV(t,{relative:e}={}){Qe(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Hr),{hash:i,pathname:s,search:o}=Zc(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:hi([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Xc(){return V.useContext(Yc)!=null}function Os(){return Qe(Xc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Yc).location}var NA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DA(t){V.useContext(Hr).static||V.useLayoutEffect(t)}function Np(){let{isDataRoute:t}=V.useContext(Kr);return t?dL():ZV()}function ZV(){Qe(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(pl),{basename:e,navigator:n}=V.useContext(Hr),{matches:r}=V.useContext(Kr),{pathname:i}=Os(),s=JSON.stringify(CA(r)),o=V.useRef(!1);return DA(()=>{o.current=!0}),V.useCallback((l,u={})=>{if(xs(o.current,NA),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=kA(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hi([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}V.createContext(null);function VA(){let{matches:t}=V.useContext(Kr),e=t[t.length-1];return e?e.params:{}}function Zc(t,{relative:e}={}){let{matches:n}=V.useContext(Kr),{pathname:r}=Os(),i=JSON.stringify(CA(n));return V.useMemo(()=>kA(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function eL(t,e){return LA(t,e)}function LA(t,e,n,r){var w;Qe(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=V.useContext(Hr),{matches:s}=V.useContext(Kr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Os(),d;if(e){let S=typeof e=="string"?fl(e):e;Qe(l==="/"||((w=S.pathname)==null?void 0:w.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${S.pathname}" was given in the \`location\` prop.`),d=S}else d=u;let h=d.pathname||"/",f=h;if(l!=="/"){let S=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let m=RA(t,{pathname:f}),_=sL(m&&m.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:hi([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:hi([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r);return e&&_?V.createElement(Yc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},_):_}function tL(){let t=cL(),e=GV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}var nL=V.createElement(tL,null),rL=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?V.createElement(Kr.Provider,{value:this.props.routeContext},V.createElement(i0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iL({routeContext:t,match:e,children:n}){let r=V.useContext(pl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Kr.Provider,{value:t},n)}function sL(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Qe(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:d,errors:h}=n,f=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,d)=>{let h,f=!1,m=null,_=null;n&&(h=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||nL,o&&(a<0&&d===0?(hL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,_=null):a===d&&(f=!0,_=u.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,d+1)),S=()=>{let E;return h?E=m:f?E=_:u.route.Component?E=V.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=l,V.createElement(iL,{match:u,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:E})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?V.createElement(rL,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function s0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oL(t){let e=V.useContext(pl);return Qe(e,s0(t)),e}function aL(t){let e=V.useContext(Op);return Qe(e,s0(t)),e}function lL(t){let e=V.useContext(Kr);return Qe(e,s0(t)),e}function o0(t){let e=lL(t),n=e.matches[e.matches.length-1];return Qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function uL(){return o0("useRouteId")}function cL(){var r;let t=V.useContext(i0),e=aL("useRouteError"),n=o0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dL(){let{router:t}=oL("useNavigate"),e=o0("useNavigate"),n=V.useRef(!1);return DA(()=>{n.current=!0}),V.useCallback(async(i,s={})=>{xs(n.current,NA),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var gT={};function hL(t,e,n){gT[t]||(gT[t]=!0,xs(!1,n))}V.memo(fL);function fL({routes:t,future:e,state:n}){return LA(t,void 0,n,e)}function zi(t){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pL({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Qe(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=V.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=fl(n));let{pathname:l="/",search:u="",hash:d="",state:h=null,key:f="default"}=n,m=V.useMemo(()=>{let _=fs(l,o);return _==null?null:{location:{pathname:_,search:u,hash:d,state:h,key:f},navigationType:r}},[o,l,u,d,h,f,r]);return xs(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:V.createElement(Hr.Provider,{value:a},V.createElement(Yc.Provider,{children:e,value:m}))}function mL({children:t,location:e}){return eL(r_(t),e)}function r_(t,e=[]){let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,r_(r.props.children,s));return}Qe(r.type===zi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=r_(r.props.children,s)),n.push(o)}),n}var Bh="get",jh="application/x-www-form-urlencoded";function Dp(t){return t!=null&&typeof t.tagName=="string"}function gL(t){return Dp(t)&&t.tagName.toLowerCase()==="button"}function yL(t){return Dp(t)&&t.tagName.toLowerCase()==="form"}function _L(t){return Dp(t)&&t.tagName.toLowerCase()==="input"}function vL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wL(t,e){return t.button===0&&(!e||e==="_self")&&!vL(t)}var ch=null;function EL(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var IL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(t){return t!=null&&!IL.has(t)?(xs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jh}"`),null):t}function TL(t,e){let n,r,i,s,o;if(yL(t)){let a=t.getAttribute("action");r=a?fs(a,e):null,n=t.getAttribute("method")||Bh,i=Dg(t.getAttribute("enctype"))||jh,s=new FormData(t)}else if(gL(t)||_L(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?fs(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Bh,i=Dg(t.getAttribute("formenctype"))||Dg(a.getAttribute("enctype"))||jh,s=new FormData(a,t),!EL()){let{name:u,type:d,value:h}=t;if(d==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(Dp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bh,r=null,i=jh,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function a0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function SL(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bL(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function RL(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await SL(s,n);return o.links?o.links():[]}return[]}));return kL(r.flat(1).filter(bL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yT(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var d;return n[u].pathname!==l.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var h;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function AL(t,e){return PL(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function PL(t){return[...new Set(t)]}function CL(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kL(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(CL(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function xL(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function OL(){let t=V.useContext(pl);return a0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function NL(){let t=V.useContext(Op);return a0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var l0=V.createContext(void 0);l0.displayName="FrameworkContext";function MA(){let t=V.useContext(l0);return a0(t,"You must render this element inside a <HydratedRouter> element"),t}function DL(t,e){let n=V.useContext(l0),[r,i]=V.useState(!1),[s,o]=V.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=e,f=V.useRef(null);V.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=E=>{E.forEach(v=>{o(v.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return f.current&&S.observe(f.current),()=>{S.disconnect()}}},[t]),V.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:nu(a,m),onBlur:nu(l,_),onMouseEnter:nu(u,m),onMouseLeave:nu(d,_),onTouchStart:nu(h,m)}]:[!1,f,{}]}function nu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VL({page:t,...e}){let{router:n}=OL(),r=V.useMemo(()=>RA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(ML,{page:t,matches:r,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function LL(t){let{manifest:e,routeModules:n}=MA(),[r,i]=V.useState([]);return V.useEffect(()=>{let s=!1;return RL(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function ML({page:t,matches:e,...n}){let r=Os(),{manifest:i,routeModules:s}=MA(),{loaderData:o,matches:a}=NL(),l=V.useMemo(()=>yT(t,e,a,i,r,"data"),[t,e,a,i,r]),u=V.useMemo(()=>yT(t,e,a,i,r,"assets"),[t,e,a,i,r]),d=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,_=!1;if(e.forEach(S=>{var v;let E=i.routes[S.route.id];!E||!E.hasLoader||(!l.some(I=>I.route.id===S.route.id)&&S.route.id in o&&((v=s[S.route.id])!=null&&v.shouldRevalidate)||E.hasClientLoader?_=!0:m.add(S.route.id))}),m.size===0)return[];let w=xL(t);return _&&m.size>0&&w.searchParams.set("_routes",e.filter(S=>m.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[o,r,i,l,e,t,s]),h=V.useMemo(()=>AL(u,i),[u,i]),f=LL(u);return V.createElement(V.Fragment,null,d.map(m=>V.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),h.map(m=>V.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),f.map(({key:m,link:_})=>V.createElement("link",{key:m,..._})))}function FL(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FA&&(window.__reactRouterVersion="7.0.1")}catch{}function UL({basename:t,children:e,window:n}){let r=V.useRef();r.current==null&&(r.current=RV({window:n,v5Compat:!0}));let i=r.current,[s,o]=V.useState({action:i.action,location:i.location}),a=V.useCallback(l=>{V.startTransition(()=>o(l))},[o]);return V.useLayoutEffect(()=>i.listen(a),[i,a]),V.createElement(pL,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var UA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h,...f},m){let{basename:_}=V.useContext(Hr),w=typeof u=="string"&&UA.test(u),S,E=!1;if(typeof u=="string"&&w&&(S=u,FA))try{let A=new URL(window.location.href),g=u.startsWith("//")?new URL(A.protocol+u):new URL(u),P=fs(g.pathname,_);g.origin===A.origin&&P!=null?u=P+g.search+g.hash:E=!0}catch{xs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=XV(u,{relative:i}),[I,k,x]=DL(r,f),D=zL(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function b(A){e&&e(A),A.defaultPrevented||D(A)}let T=V.createElement("a",{...f,...x,href:S||v,onClick:E||s?e:b,ref:FL(m,k),target:l,"data-discover":!w&&n==="render"?"true":void 0});return I&&!w?V.createElement(V.Fragment,null,T,V.createElement(VL,{page:v})):T});Vt.displayName="Link";var BL=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},d){let h=Zc(o,{relative:u.relative}),f=Os(),m=V.useContext(Op),{navigator:_,basename:w}=V.useContext(Hr),S=m!=null&&GL(h)&&a===!0,E=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,v=f.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(v=v.toLowerCase(),I=I?I.toLowerCase():null,E=E.toLowerCase()),I&&w&&(I=fs(I,w)||I);const k=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let x=v===E||!i&&v.startsWith(E)&&v.charAt(k)==="/",D=I!=null&&(I===E||!i&&I.startsWith(E)&&I.charAt(E.length)==="/"),b={isActive:x,isPending:D,isTransitioning:S},T=x?e:void 0,A;typeof r=="function"?A=r(b):A=[r,x?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let g=typeof s=="function"?s(b):s;return V.createElement(Vt,{...u,"aria-current":T,className:A,ref:d,style:g,to:o,viewTransition:a},typeof l=="function"?l(b):l)});BL.displayName="NavLink";var jL=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Bh,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:h,...f},m)=>{let _=HL(),w=KL(a,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",E=typeof a=="string"&&UA.test(a),v=I=>{if(l&&l(I),I.defaultPrevented)return;I.preventDefault();let k=I.nativeEvent.submitter,x=(k==null?void 0:k.getAttribute("formmethod"))||o;_(k||I.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h})};return V.createElement("form",{ref:m,method:S,action:w,onSubmit:r?l:v,...f,"data-discover":!E&&t==="render"?"true":void 0})});jL.displayName="Form";function $L(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BA(t){let e=V.useContext(pl);return Qe(e,$L(t)),e}function zL(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=Np(),l=Os(),u=Zc(t,{relative:s});return V.useCallback(d=>{if(wL(d,e)){d.preventDefault();let h=n!==void 0?n:wc(l)===wc(u);a(t,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,u,n,r,e,t,i,s,o])}var WL=0,qL=()=>`__${String(++WL)}__`;function HL(){let{router:t}=BA("useSubmit"),{basename:e}=V.useContext(Hr),n=uL();return V.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:u}=TL(r,e);if(i.navigate===!1){let d=i.fetcherKey||qL();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function KL(t,{relative:e}={}){let{basename:n}=V.useContext(Hr),r=V.useContext(Kr);Qe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Zc(t||".",{relative:e})},o=Os();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:hi([n,s.pathname])),wc(s)}function GL(t,e={}){let n=V.useContext(OA);Qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=BA("useViewTransitionState"),i=Zc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=fs(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=fs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Df(i.pathname,o)!=null||Df(i.pathname,s)!=null}new TextEncoder;var jA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_T=me.createContext&&me.createContext(jA),QL=["attr","size","title"];function JL(t,e){if(t==null)return{};var n=YL(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){XL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XL(t,e,n){return e=ZL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZL(t){var e=eM(t,"string");return typeof e=="symbol"?e:e+""}function eM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $A(t){return t&&t.map((e,n)=>me.createElement(e.tag,Lf({key:n},e.attr),$A(e.child)))}function ml(t){return e=>me.createElement(tM,Vf({attr:Lf({},t.attr)},e),$A(t.child))}function tM(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=JL(t,QL),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),me.createElement("svg",Vf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Lf(Lf({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&me.createElement("title",null,s),t.children)};return _T!==void 0?me.createElement(_T.Consumer,null,n=>e(n)):e(jA)}function nM(t){return ml({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(t)}function rM(t){return ml({attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:`M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31
		c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z
		 M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02
		z`},child:[]}]}]})(t)}function iM(t){return ml({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(t)}const sM="_fixed_pbnox_5",oM="_header_container_pbnox_15",aM="_header_logo_pbnox_31",lM="_delivery_pbnox_57",uM="_search_pbnox_81",cM="_order_container_pbnox_143",dM="_language_pbnox_173",hM="_cart_pbnox_199",fM="_lower_container_pbnox_231",ei={fixed:sM,header_container:oM,header_logo:aM,delivery:lM,search:uM,order_container:cM,language:dM,cart:hM,lower_container:fM};function pM(t){return ml({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z"},child:[]}]})(t)}function mM(){return O.jsx("div",{className:ei.lower_container,children:O.jsxs("ul",{children:[O.jsx("li",{children:O.jsxs(Vt,{to:"",children:[O.jsx(pM,{}),"All"]})}),O.jsx("li",{children:O.jsx(Vt,{to:"",children:"Today's Deals"})}),O.jsx("li",{children:O.jsx(Vt,{to:"",children:" Customer Service"})}),O.jsx("li",{children:O.jsx(Vt,{to:"",children:"Registry"})}),O.jsx("li",{children:O.jsx(Vt,{to:"",children:"Gift Cards"})}),O.jsx("li",{children:O.jsx(Vt,{to:"",children:"Sell"})})]})})}const bi=V.createContext(),gM=({children:t,reducer:e,initialState:n})=>O.jsx(bi.Provider,{value:V.useReducer(e,n),children:t});var wT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},WA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new _M;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vM=function(t){const e=zA(t);return WA.encodeByteArray(e,!0)},Mf=function(t){return vM(t).replace(/\./g,"")},qA=function(t){try{return WA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ff(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!wM(n)||(t[n]=Ff(t[n],e[n]));return t}function wM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=()=>HA().__FIREBASE_DEFAULTS__,IM=()=>{if(typeof process>"u"||typeof wT>"u")return;const t=wT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qA(t[1]);return e&&JSON.parse(e)},Vp=()=>{try{return EM()||IM()||TM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SM=t=>{var e,n;return(n=(e=Vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KA=()=>{var t;return(t=Vp())===null||t===void 0?void 0:t.config},GA=t=>{var e;return(e=Vp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mf(JSON.stringify(n)),Mf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function u0(){var t;const e=(t=Vp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PM(){return typeof window<"u"||QA()}function QA(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function CM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YA(){const t=Xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XA(){return!u0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ec(){try{return typeof indexedDB=="object"}catch{return!1}}function kM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="FirebaseError";class un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xM,Object.setPrototypeOf(this,un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lo.prototype.create)}}class Lo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?OM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new un(i,a,r)}}function OM(t,e){return t.replace(NM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function DM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $a(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(IT(s)&&IT(o)){if(!$a(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZA(t,e){const n=new VM(t,e);return n.subscribe.bind(n)}class VM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vg),i.error===void 0&&(i.error=Vg),i.complete===void 0&&(i.complete=Vg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UM(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FM(t){return t===Gs?void 0:t}function UM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new MM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=[];var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const tP={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},BM=de.INFO,jM={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},$M=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=jM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lp{constructor(e){this.name=e,this._logLevel=BM,this._logHandler=$M,this._userLogHandler=null,d0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}function zM(t){d0.forEach(e=>{e.setLogLevel(t)})}function WM(t,e){for(const n of d0){let r=null;e&&e.level&&(r=tP[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:de[s].toLowerCase(),message:a,args:o,type:i.name})}}}const qM=(t,e)=>e.some(n=>t instanceof n);let TT,ST;function HM(){return TT||(TT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KM(){return ST||(ST=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nP=new WeakMap,i_=new WeakMap,rP=new WeakMap,Lg=new WeakMap,h0=new WeakMap;function GM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nP.set(n,t)}).catch(()=>{}),h0.set(e,t),e}function QM(t){if(i_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});i_.set(t,e)}let s_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return i_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JM(t){s_=t(s_)}function YM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mg(this),e,...n);return rP.set(r,e.sort?e.sort():[e]),ls(r)}:KM().includes(t)?function(...e){return t.apply(Mg(this),e),ls(nP.get(this))}:function(...e){return ls(t.apply(Mg(this),e))}}function XM(t){return typeof t=="function"?YM(t):(t instanceof IDBTransaction&&QM(t),qM(t,HM())?new Proxy(t,s_):t)}function ls(t){if(t instanceof IDBRequest)return GM(t);if(Lg.has(t))return Lg.get(t);const e=XM(t);return e!==t&&(Lg.set(t,e),h0.set(e,t)),e}const Mg=t=>h0.get(t);function ZM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ls(o.result),l.oldVersion,l.newVersion,ls(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const eF=["get","getKey","getAll","getAllKeys","count"],tF=["put","add","delete","clear"],Fg=new Map;function bT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fg.set(e,s),s}JM(t=>({...t,get:(e,n,r)=>bT(e,n)||t.get(e,n,r),has:(e,n)=>!!bT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Uf="@firebase/app",o_="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Lp("@firebase/app"),iF="@firebase/app-compat",sF="@firebase/analytics-compat",oF="@firebase/analytics",aF="@firebase/app-check-compat",lF="@firebase/app-check",uF="@firebase/auth",cF="@firebase/auth-compat",dF="@firebase/database",hF="@firebase/data-connect",fF="@firebase/database-compat",pF="@firebase/functions",mF="@firebase/functions-compat",gF="@firebase/installations",yF="@firebase/installations-compat",_F="@firebase/messaging",vF="@firebase/messaging-compat",wF="@firebase/performance",EF="@firebase/performance-compat",IF="@firebase/remote-config",TF="@firebase/remote-config-compat",SF="@firebase/storage",bF="@firebase/storage-compat",RF="@firebase/firestore",AF="@firebase/vertexai",PF="@firebase/firestore-compat",CF="firebase",kF="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]",xF={[Uf]:"fire-core",[iF]:"fire-core-compat",[oF]:"fire-analytics",[sF]:"fire-analytics-compat",[lF]:"fire-app-check",[aF]:"fire-app-check-compat",[uF]:"fire-auth",[cF]:"fire-auth-compat",[dF]:"fire-rtdb",[hF]:"fire-data-connect",[fF]:"fire-rtdb-compat",[pF]:"fire-fn",[mF]:"fire-fn-compat",[gF]:"fire-iid",[yF]:"fire-iid-compat",[_F]:"fire-fcm",[vF]:"fire-fcm-compat",[wF]:"fire-perf",[EF]:"fire-perf-compat",[IF]:"fire-rc",[TF]:"fire-rc-compat",[SF]:"fire-gcs",[bF]:"fire-gcs-compat",[RF]:"fire-fst",[PF]:"fire-fst-compat",[AF]:"fire-vertex","fire-js":"fire-js",[CF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Map,za=new Map,Wa=new Map;function Ic(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function iP(t,e){t.container.addOrOverwriteComponent(e)}function gs(t){const e=t.name;if(Wa.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;Wa.set(e,t);for(const n of ms.values())Ic(n,t);for(const n of za.values())Ic(n,t);return!0}function Mp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function OF(t,e,n=ps){Mp(t,e).clearInstance(n)}function sP(t){return t.options!==void 0}function it(t){return t.settings!==void 0}function NF(){Wa.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qn=new Lo("app","Firebase",DF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oP=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF extends oP{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,pr(Uf,o_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){p0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=kF;function f0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ps,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qn.create("bad-app-name",{appName:String(i)});if(n||(n=KA()),!n)throw Qn.create("no-options");const s=ms.get(i);if(s){if($a(n,s.options)&&$a(r,s.config))return s;throw Qn.create("duplicate-app",{appName:i})}const o=new eP(i);for(const l of Wa.values())o.addComponent(l);const a=new oP(n,r,o);return ms.set(i,a),a}function LF(t,e){if(PM()&&!QA())throw Qn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;sP(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Qn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=za.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new eP(s);for(const u of Wa.values())a.addComponent(u);const l=new VF(n,e,s,a);return za.set(s,l),l}function aP(t=ps){const e=ms.get(t);if(!e&&t===ps&&KA())return f0();if(!e)throw Qn.create("no-app",{appName:t});return e}function MF(){return Array.from(ms.values())}async function p0(t){let e=!1;const n=t.name;ms.has(n)?(e=!0,ms.delete(n)):za.has(n)&&t.decRefCount()<=0&&(za.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function pr(t,e,n){var r;let i=(r=xF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}gs(new jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function lP(t,e){if(t!==null&&typeof t!="function")throw Qn.create("invalid-log-argument");WM(t,e)}function uP(t){zM(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="firebase-heartbeat-database",UF=1,Tc="firebase-heartbeat-store";let Ug=null;function cP(){return Ug||(Ug=ZM(FF,UF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qn.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function BF(t){try{const n=(await cP()).transaction(Tc),r=await n.objectStore(Tc).get(dP(t));return await n.done,r}catch(e){if(e instanceof un)_i.warn(e.message);else{const n=Qn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function RT(t,e){try{const r=(await cP()).transaction(Tc,"readwrite");await r.objectStore(Tc).put(e,dP(t)),await r.done}catch(n){if(n instanceof un)_i.warn(n.message);else{const r=Qn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function dP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF=1024,$F=30*24*60*60*1e3;class zF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=$F}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=AT(),{heartbeatsToSend:r,unsentEntries:i}=WF(this._heartbeatsCache.heartbeats),s=Mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _i.warn(n),""}}}function AT(){return new Date().toISOString().substring(0,10)}function WF(t,e=jF){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),PT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),PT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ec()?kM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PT(t){return Mf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HF(t){gs(new jr("platform-logger",e=>new nF(e),"PRIVATE")),gs(new jr("heartbeat",e=>new zF(e),"PRIVATE")),pr(Uf,o_,t),pr(Uf,o_,"esm2017"),pr("fire-js","")}HF("");const KF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:un,SDK_VERSION:Ns,_DEFAULT_ENTRY_NAME:ps,_addComponent:Ic,_addOrOverwriteComponent:iP,_apps:ms,_clearComponents:NF,_components:Wa,_getProvider:Mp,_isFirebaseApp:sP,_isFirebaseServerApp:it,_registerComponent:gs,_removeServiceInstance:OF,_serverApps:za,deleteApp:p0,getApp:aP,getApps:MF,initializeApp:f0,initializeServerApp:LF,onLog:lP,registerVersion:pr,setLogLevel:uP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this._delegate=e,this.firebase=n,Ic(e,new jr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),p0(this._delegate)))}_getService(e,n=ps){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ps){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Ic(this._delegate,e)}_addOrOverwriteComponent(e){iP(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},CT=new Lo("app-compat","Firebase",QF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:pr,setLogLevel:uP,onLog:lP,apps:null,SDK_VERSION:Ns,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:KF}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||ps,!ET(e,u))throw CT.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,d={}){const h=f0(u,d);if(ET(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const d=u.name,h=d.replace("-compat","");if(gs(u)&&u.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw CT.create("invalid-app-argument",{appName:d});return m[h]()};u.serviceProps!==void 0&&Ff(f,u.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,u.multipleInstances?m:[])}}return u.type==="PUBLIC"?n[h]:null}function l(u,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){const t=JF(GF);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:hP,extendNamespace:e,createSubscribe:ZA,ErrorFactory:Lo,deepExtend:Ff});function e(n){Ff(t,n)}return t}const YF=hP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=new Lp("@firebase/app-compat"),XF="@firebase/app-compat",ZF="0.2.46";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){pr(XF,ZF,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=HA();if(t.firebase!==void 0){kT.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&kT.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const yl=YF;e4();var t4="firebase",n4="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yl.registerVersion(t4,n4,"app-compat");function m0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const ru={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Ko={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function fP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i4=r4,s4=fP,pP=new Lo("auth","Firebase",fP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Lp("@firebase/auth");function o4(t,...e){Bf.logLevel<=de.WARN&&Bf.warn(`Auth (${Ns}): ${t}`,...e)}function $h(t,...e){Bf.logLevel<=de.ERROR&&Bf.error(`Auth (${Ns}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,...e){throw y0(t,...e)}function Tt(t,...e){return y0(t,...e)}function g0(t,e,n){const r=Object.assign(Object.assign({},s4()),{[e]:n});return new Lo("auth","Firebase",r).create(e,{appName:t.name})}function Ct(t){return g0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _l(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kt(t,"argument-error"),g0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pP.create(t,...e)}function W(t,e,...n){if(!t)throw y0(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $h(e),new Error(e)}function gr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _0(){return xT()==="http:"||xT()==="https:"}function xT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_0()||JA()||"connection"in navigator)?navigator.onLine:!0}function l4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=AM()||c0()}get(){return a4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new ed(3e4,6e4);function ot(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function at(t,e,n,r,i={}){return gP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=gl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return CM()||(u.referrerPolicy="no-referrer"),mP.fetch()(yP(t,t.config.apiHost,n,a),u)})}async function gP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},u4),e);try{const i=new h4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Su(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Su(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Su(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Su(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw g0(t,d,u);kt(t,d)}}catch(i){if(i instanceof un)throw i;kt(t,"network-request-failed",{message:String(i)})}}async function Ri(t,e,n,r,i={}){const s=await at(t,e,n,r,i);return"mfaPendingCredential"in s&&kt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yP(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?v0(t.config,i):`${t.config.apiScheme}://${i}`}function d4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tt(this.auth,"network-request-failed")),c4.get())})}}function Su(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Tt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t){return t!==void 0&&t.getResponse!==void 0}function NT(t){return t!==void 0&&t.enterprise!==void 0}class _P{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return d4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t){return(await at(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function vP(t,e){return at(t,"GET","/v2/recaptchaConfig",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return at(t,"POST","/v1/accounts:delete",e)}async function m4(t,e){return at(t,"POST","/v1/accounts:update",e)}async function wP(t,e){return at(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g4(t,e=!1){const n=ee(t),r=await n.getIdToken(e),i=Fp(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ju(Bg(i.auth_time)),issuedAtTime:ju(Bg(i.iat)),expirationTime:ju(Bg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Bg(t){return Number(t)*1e3}function Fp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $h("JWT malformed, contained fewer than 3 sections"),null;try{const i=qA(n);return i?JSON.parse(i):($h("Failed to decode base64 JWT payload"),null)}catch(i){return $h("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function DT(t){const e=Fp(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof un&&y4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function y4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vi(t,wP(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EP(s.providerUserInfo):[],a=w4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new a_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function v4(t){const e=ee(t);await bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EP(t){return t.map(e=>{var{providerId:n}=e,r=m0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){const n=await gP(t,{},async()=>{const r=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I4(t,e){return at(t,"POST","/v2/accounts:revokeToken",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){W(e.length!==0,"internal-error");const n=DT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await E4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Aa;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=m0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new a_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vi(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g4(this,e)}reload(){return v4(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(it(this.auth.app))return Promise.reject(Ct(this.auth));const e=await this.getIdToken();return await vi(this,p4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:k,isAnonymous:x,providerData:D,stsTokenManager:b}=n;W(I&&b,e,"internal-error");const T=Aa.fromJSON(this.name,b);W(typeof I=="string",e,"internal-error"),Fi(h,e.name),Fi(f,e.name),W(typeof k=="boolean",e,"internal-error"),W(typeof x=="boolean",e,"internal-error"),Fi(m,e.name),Fi(_,e.name),Fi(w,e.name),Fi(S,e.name),Fi(E,e.name),Fi(v,e.name);const A=new ai({uid:I,auth:e,email:f,emailVerified:k,displayName:h,isAnonymous:x,photoURL:_,phoneNumber:m,tenantId:w,stsTokenManager:T,createdAt:E,lastLoginAt:v});return D&&Array.isArray(D)&&(A.providerData=D.map(g=>Object.assign({},g))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Aa;i.updateFromServerResponse(n);const s=new ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await bc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];W(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?EP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Aa;a.updateFromIdToken(r);const l=new ai({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;function Nn(t){gr(t instanceof Function,"Expected a class definition");let e=VT.get(t);return e?(gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IP.type="NONE";const qa=IP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t,e,n){return`firebase:${t}:${e}:${n}`}class Pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fo(this.userKey,i.apiKey,s),this.fullPersistenceKey=fo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Pa(Nn(qa),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Nn(qa);const o=fo(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=ai._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Pa(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Pa(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AP(e))return"Blackberry";if(PP(e))return"Webos";if(SP(e))return"Safari";if((e.includes("chrome/")||bP(e))&&!e.includes("edge/"))return"Chrome";if(td(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TP(t=Xe()){return/firefox\//i.test(t)}function SP(t=Xe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bP(t=Xe()){return/crios\//i.test(t)}function RP(t=Xe()){return/iemobile/i.test(t)}function td(t=Xe()){return/android/i.test(t)}function AP(t=Xe()){return/blackberry/i.test(t)}function PP(t=Xe()){return/webos/i.test(t)}function nd(t=Xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T4(t=Xe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function S4(t=Xe()){var e;return nd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function b4(){return YA()&&document.documentMode===10}function CP(t=Xe()){return nd(t)||td(t)||PP(t)||AP(t)||/windows phone/i.test(t)||RP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t,e=[]){let n;switch(t){case"Browser":n=LT(Xe());break;case"Worker":n=`${LT(Xe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ns}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(t,e={}){return at(t,"GET","/v2/passwordPolicy",ot(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=6;class C4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:P4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MT(this),this.idTokenSubscription=new MT(this),this.beforeStateQueue=new R4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Pa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wP(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(it(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(it(this.app))return Promise.reject(Ct(this));const n=e?ee(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return it(this.app)?Promise.reject(Ct(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return it(this.app)?Promise.reject(Ct(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await A4(this),n=new C4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nn(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[Nn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&o4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ze(t){return ee(t)}class MT{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZA(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x4(t){rd=t}function w0(t){return rd.loadJS(t)}function O4(){return rd.recaptchaV2Script}function N4(){return rd.recaptchaEnterpriseScript}function D4(){return rd.gapiScript}function xP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=500,L4=6e4,dh=1e12;class M4{constructor(e){this.auth=e,this.counter=dh,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new B4(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||dh;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||dh;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||dh;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class F4{constructor(){this.enterprise=new U4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class U4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class B4{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;W(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=j4(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},L4)},V4))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function j4(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const $4="recaptcha-enterprise",$u="NO_RECAPTCHA";class OP{constructor(e){this.type=$4,this.auth=Ze(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{vP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _P(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;NT(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o($u)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F4().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&NT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=N4();l.length!==0&&(l+=a),w0(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function iu(t,e,n,r=!1,i=!1){const s=new OP(t);let o;if(i)o=$u;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function us(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await iu(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await iu(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await iu(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await iu(t,e,n,!1,!0);return r(t,d)}return Promise.reject(l)})}else{const a=await iu(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}async function z4(t){const e=Ze(t),n=await vP(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new _P(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new OP(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){const n=Mp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($a(s,e??{}))return i;kt(i,"already-initialized")}return n.initialize({options:e})}function q4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NP(t,e,n){const r=Ze(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=DP(e),{host:o,port:a}=H4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||K4()}function DP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H4(t){const e=DP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:FT(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:FT(o)}}}function FT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){return at(t,"POST","/v1/accounts:resetPassword",ot(t,e))}async function G4(t,e){return at(t,"POST","/v1/accounts:update",e)}async function Q4(t,e){return at(t,"POST","/v1/accounts:signUp",e)}async function J4(t,e){return at(t,"POST","/v1/accounts:update",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e){return Ri(t,"POST","/v1/accounts:signInWithPassword",ot(t,e))}async function Up(t,e){return at(t,"POST","/v1/accounts:sendOobCode",ot(t,e))}async function X4(t,e){return Up(t,e)}async function Z4(t,e){return Up(t,e)}async function eU(t,e){return Up(t,e)}async function tU(t,e){return Up(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nU(t,e){return Ri(t,"POST","/v1/accounts:signInWithEmailLink",ot(t,e))}async function rU(t,e){return Ri(t,"POST","/v1/accounts:signInWithEmailLink",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends vl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return us(e,n,"signInWithPassword",Y4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nU(e,{email:this._email,oobCode:this._password});default:kt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return us(e,r,"signUpPassword",Q4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rU(e,{idToken:n,email:this._email,oobCode:this._password});default:kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fi(t,e){return Ri(t,"POST","/v1/accounts:signInWithIdp",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU="http://localhost";class $r extends vl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $r(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=m0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new $r(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fi(e,n)}buildRequest(){const e={requestUri:iU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(t,e){return at(t,"POST","/v1/accounts:sendVerificationCode",ot(t,e))}async function sU(t,e){return Ri(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,e))}async function oU(t,e){const n=await Ri(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,e));if(n.temporaryProof)throw Su(t,"account-exists-with-different-credential",n);return n}const aU={USER_NOT_FOUND:"user-not-found"};async function lU(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ri(t,"POST","/v1/accounts:signInWithPhoneNumber",ot(t,n),aU)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends vl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new po({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new po({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return sU(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return oU(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return lU(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new po({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cU(t){const e=wa(Tu(t)).link,n=e?wa(Tu(e)).deep_link_id:null,r=wa(Tu(t)).deep_link_id;return(r?wa(Tu(r)).link:null)||r||n||e||t}class Bp{constructor(e){var n,r,i,s,o,a;const l=wa(Tu(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=uU((i=l.mode)!==null&&i!==void 0?i:null);W(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=cU(e);try{return new Bp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(){this.providerId=Ds.PROVIDER_ID}static credential(e,n){return Rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bp.parseLink(n);return W(r,"argument-error"),Rc._fromEmailAndCode(e,r.code,r.tenantId)}}Ds.PROVIDER_ID="password";Ds.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ds.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ca extends wl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return W("providerId"in n&&"signInMethod"in n,"argument-error"),$r._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return W(e.idToken||e.accessToken,"argument-error"),$r._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Ca.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Ca.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Ca(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends wl{constructor(){super("facebook.com")}static credential(e){return $r._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $r._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends wl{constructor(){super("github.com")}static credential(e){return $r._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU="http://localhost";class Ha extends vl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Ha(r,s)}static _create(e,n){return new Ha(e,n)}buildRequest(){return{requestUri:dU,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU="saml.";class jf extends Ai{constructor(e){W(e.startsWith(hU),"argument-error"),super(e)}static credentialFromResult(e){return jf.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return jf.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Ha.fromJSON(e);return W(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Ha._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends wl{constructor(){super("twitter.com")}static credential(e,n){return $r._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(t,e){return Ri(t,"POST","/v1/accounts:signUp",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ai._fromIdTokenResponse(e,r,i),o=BT(r);return new Xn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=BT(r);return new Xn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function BT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t){var e;if(it(t.app))return Promise.reject(Ct(t));const n=Ze(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await LP(n,{returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends un{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $f(e,n,r,i)}}function MP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){const n=ee(t);await jp(!0,n,e);const{providerUserInfo:r}=await m4(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=FP(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function E0(t,e,n=!1){const r=await vi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xn._forOperation(t,"link",r)}async function jp(t,e,n){await bc(e);const r=FP(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";W(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t,e,n=!1){const{auth:r}=t;if(it(r.app))return Promise.reject(Ct(r));const i="reauthenticate";try{const s=await vi(t,MP(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=Fp(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),Xn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e,n=!1){if(it(t.app))return Promise.reject(Ct(t));const r="signIn",i=await MP(t,r,e),s=await Xn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $p(t,e){return BP(Ze(t),e)}async function jP(t,e){const n=ee(t);return await jp(!1,n,e.providerId),E0(n,e)}async function $P(t,e){return UP(ee(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(t,e){return Ri(t,"POST","/v1/accounts:signInWithCustomToken",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e){if(it(t.app))return Promise.reject(Ct(t));const n=Ze(t),r=await mU(n,{token:e,returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?I0._fromServerResponse(e,n):"totpInfo"in n?T0._fromServerResponse(e,n):kt(e,"internal-error")}}class I0 extends id{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new I0(n)}}class T0 extends id{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new T0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t,e,n){var r;W(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),W(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(W(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(W(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(t){const e=Ze(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yU(t,e,n){const r=Ze(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&zp(r,i,n),await us(r,i,"getOobCode",Z4,"EMAIL_PASSWORD_PROVIDER")}async function _U(t,e,n){await VP(ee(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&S0(t),r})}async function vU(t,e){await J4(ee(t),{oobCode:e})}async function zP(t,e){const n=ee(t),r=await VP(n,{oobCode:e}),i=r.requestType;switch(W(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(r.mfaInfo,n,"internal-error");default:W(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=id._fromServerResponse(Ze(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function wU(t,e){const{data:n}=await zP(ee(t),e);return n.email}async function WP(t,e,n){if(it(t.app))return Promise.reject(Ct(t));const r=Ze(t),o=await us(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LP,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&S0(t),l}),a=await Xn._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function qP(t,e,n){return it(t.app)?Promise.reject(Ct(t)):$p(ee(t),Ds.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&S0(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EU(t,e,n){const r=Ze(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){W(a.handleCodeInApp,r,"argument-error"),a&&zp(r,o,a)}s(i,n),await us(r,i,"getOobCode",eU,"EMAIL_PASSWORD_PROVIDER")}function IU(t,e){const n=Bp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function TU(t,e,n){if(it(t.app))return Promise.reject(Ct(t));const r=ee(t),i=Ds.credentialWithLink(e,n||Sc());return W(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),$p(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t,e){return at(t,"POST","/v1/accounts:createAuthUri",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e){const n=_0()?Sc():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await SU(ee(t),r);return i||[]}async function RU(t,e){const n=ee(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&zp(n.auth,i,e);const{email:s}=await X4(n.auth,i);s!==t.email&&await t.reload()}async function AU(t,e,n){const r=ee(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&zp(r.auth,s,n);const{email:o}=await tU(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(t,e){return at(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CU(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ee(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await vi(r,PU(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function kU(t,e){const n=ee(t);return it(n.auth.app)?Promise.reject(Ct(n.auth)):HP(n,e,null)}function xU(t,e){return HP(ee(t),null,e)}async function HP(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await vi(t,G4(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Fp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new ka(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new NU(s,i);case"github.com":return new DU(s,i);case"google.com":return new VU(s,i);case"twitter.com":return new LU(s,i,t.screenName||null);case"custom":case"anonymous":return new ka(s,null);default:return new ka(s,r,i)}}class ka{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class KP extends ka{constructor(e,n,r,i){super(e,n,r),this.username=i}}class NU extends ka{constructor(e,n){super(e,"facebook.com",n)}}class DU extends KP{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class VU extends ka{constructor(e,n){super(e,"google.com",n)}}class LU extends KP{constructor(e,n,r){super(e,"twitter.com",n,r)}}function MU(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:OU(n)}function FU(t,e,n,r){return ee(t).onIdTokenChanged(e,n,r)}function UU(t,e,n){return ee(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new oo("enroll",e,n)}static _fromMfaPendingCredential(e){return new oo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return oo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return oo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Ze(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>id._fromServerResponse(r,a));W(i.mfaPendingCredential,r,"internal-error");const o=oo._fromMfaPendingCredential(i.mfaPendingCredential);return new b0(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const d=await Xn._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(d.user),d;case"reauthenticate":return W(n.user,r,"internal-error"),Xn._forOperation(n.user,n.operationType,u);default:kt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function BU(t,e){var n;const r=ee(t),i=e;return W(e.customData.operationType,r,"argument-error"),W((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),b0._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){return at(t,"POST","/v2/accounts/mfaEnrollment:start",ot(t,e))}function jU(t,e){return at(t,"POST","/v2/accounts/mfaEnrollment:finalize",ot(t,e))}function $U(t,e){return at(t,"POST","/v2/accounts/mfaEnrollment:withdraw",ot(t,e))}class R0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>id._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new R0(e)}async getSession(){return oo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await vi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await vi(this.user,$U(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const jg=new WeakMap;function zU(t){const e=ee(t);return jg.has(e)||jg.set(e,R0._fromUser(e)),jg.get(e)}const zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=1e3,qU=10;class QP extends GP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);b4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QP.type="LOCAL";const Wp=QP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends GP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JP.type="SESSION";const ys=JP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await HU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=sd("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return window}function GU(t){mt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof mt().WorkerGlobalScope<"u"&&typeof mt().importScripts=="function"}async function QU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function YU(){return A0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="firebaseLocalStorageDb",XU=1,Wf="firebaseLocalStorage",XP="fbase_key";class od{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hp(t,e){return t.transaction([Wf],e?"readwrite":"readonly").objectStore(Wf)}function ZU(){const t=indexedDB.deleteDatabase(YP);return new od(t).toPromise()}function l_(){const t=indexedDB.open(YP,XU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wf,{keyPath:XP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wf)?e(r):(r.close(),await ZU(),e(await l_()))})})}async function $T(t,e,n){const r=Hp(t,!0).put({[XP]:e,value:n});return new od(r).toPromise()}async function eB(t,e){const n=Hp(t,!1).get(e),r=await new od(n).toPromise();return r===void 0?null:r.value}function zT(t,e){const n=Hp(t,!0).delete(e);return new od(n).toPromise()}const tB=800,nB=3;class ZP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await l_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qp._getInstance(YU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QU(),!this.activeServiceWorker)return;this.sender=new KU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await l_();return await $T(e,zf,"1"),await zT(e,zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$T(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hp(i,!1).getAll();return new od(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZP.type="LOCAL";const Ka=ZP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t,e){return at(t,"POST","/v2/accounts/mfaSignIn:start",ot(t,e))}function rB(t,e){return at(t,"POST","/v2/accounts/mfaSignIn:finalize",ot(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=xP("rcb"),iB=new ed(3e4,6e4);class sB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=mt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return W(oB(n),e,"argument-error"),this.shouldResolveImmediately(n)&&OT(mt().grecaptcha)?Promise.resolve(mt().grecaptcha):new Promise((r,i)=>{const s=mt().setTimeout(()=>{i(Tt(e,"network-request-failed"))},iB.get());mt()[$g]=()=>{mt().clearTimeout(s),delete mt()[$g];const a=mt().grecaptcha;if(!a||!OT(a)){i(Tt(e,"internal-error"));return}const l=a.render;a.render=(u,d)=>{const h=l(u,d);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${O4()}?${gl({onload:$g,render:"explicit",hl:n})}`;w0(o).catch(()=>{clearTimeout(s),i(Tt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=mt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function oB(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class aB{async load(e){return new M4(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="recaptcha",lB={theme:"light",type:"image"};let uB=class{constructor(e,n,r=Object.assign({},lB)){this.parameters=r,this.type=zu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ze(e),this.isInvisible=this.parameters.size==="invisible",W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;W(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aB:new sB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=mt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){W(_0()&&!A0(),this.auth,"internal-error"),await cB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await f4(this.auth);W(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function cB(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=po._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function dB(t,e,n){if(it(t.app))return Promise.reject(Ct(t));const r=Ze(t),i=await Kp(r,e,ee(n));return new P0(i,s=>$p(r,s))}async function hB(t,e,n){const r=ee(t);await jp(!1,r,"phone");const i=await Kp(r.auth,e,ee(n));return new P0(i,s=>jP(r,s))}async function fB(t,e,n){const r=ee(t);if(it(r.auth.app))return Promise.reject(Ct(r.auth));const i=await Kp(r.auth,e,ee(n));return new P0(i,s=>$P(r,s))}async function Kp(t,e,n){var r;if(!t._getRecaptchaConfig())try{await z4(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){W(s.type==="enroll",t,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await us(t,o,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===$u){W((n==null?void 0:n.type)===zu,d,"argument-error");const f=await zg(d,h,n);return jT(d,f)}return jT(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{W(s.type==="signin",t,"internal-error");const o=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;W(o,t,"missing-multi-factor-info");const a={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await us(t,a,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===$u){W((n==null?void 0:n.type)===zu,h,"argument-error");const m=await zg(h,f,n);return WT(h,m)}return WT(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await us(t,s,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===$u){W((n==null?void 0:n.type)===zu,u,"argument-error");const h=await zg(u,d,n);return UT(u,h)}return UT(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function pB(t,e){const n=ee(t);if(it(n.auth.app))return Promise.reject(Ct(n.auth));await E0(n,e)}async function zg(t,e,n){W(n.type===zu,t,"argument-error");const r=await n.verify();W(typeof r=="string",t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=class zh{constructor(e){this.providerId=zh.PROVIDER_ID,this.auth=Ze(e)}verifyPhoneNumber(e,n){return Kp(this.auth,e,ee(n))}static credential(e,n){return po._fromVerification(e,n)}static credentialFromResult(e){const n=e;return zh.credentialFromTaggedObject(n)}static credentialFromError(e){return zh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?po._fromTokenResponse(n,r):null}};Io.PROVIDER_ID="phone";Io.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t,e){return e?Nn(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0 extends vl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mB(t){return BP(t.auth,new C0(t),t.bypassAuthState)}function gB(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),UP(n,new C0(t),t.bypassAuthState)}async function yB(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),E0(n,new C0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mB;case"linkViaPopup":case"linkViaRedirect":return yB;case"reauthViaPopup":case"reauthViaRedirect":return gB;default:kt(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B=new ed(2e3,1e4);async function vB(t,e,n){if(it(t.app))return Promise.reject(Tt(t,"operation-not-supported-in-this-environment"));const r=Ze(t);_l(t,e,Ai);const i=Mo(r,n);return new li(r,"signInViaPopup",e,i).executeNotNull()}async function wB(t,e,n){const r=ee(t);if(it(r.auth.app))return Promise.reject(Tt(r.auth,"operation-not-supported-in-this-environment"));_l(r.auth,e,Ai);const i=Mo(r.auth,n);return new li(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function EB(t,e,n){const r=ee(t);_l(r.auth,e,Ai);const i=Mo(r.auth,n);return new li(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class li extends eC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,li.currentPopupAction&&li.currentPopupAction.cancel(),li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=sd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_B.get())};e()}}li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="pendingRedirect",Wu=new Map;class TB extends eC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wu.get(this.auth._key());if(!e){try{const r=await SB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wu.set(this.auth._key(),e)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SB(t,e){const n=nC(e),r=tC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function k0(t,e){return tC(t)._set(nC(e),"true")}function bB(){Wu.clear()}function x0(t,e){Wu.set(t._key(),e)}function tC(t){return Nn(t._redirectPersistence)}function nC(t){return fo(IB,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t,e,n){return AB(t,e,n)}async function AB(t,e,n){if(it(t.app))return Promise.reject(Ct(t));const r=Ze(t);_l(t,e,Ai),await r._initializationPromise;const i=Mo(r,n);return await k0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function PB(t,e,n){return CB(t,e,n)}async function CB(t,e,n){const r=ee(t);if(_l(r.auth,e,Ai),it(r.auth.app))return Promise.reject(Ct(r.auth));await r.auth._initializationPromise;const i=Mo(r.auth,n);await k0(i,r.auth);const s=await rC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function kB(t,e,n){return xB(t,e,n)}async function xB(t,e,n){const r=ee(t);_l(r.auth,e,Ai),await r.auth._initializationPromise;const i=Mo(r.auth,n);await jp(!1,r,e.providerId),await k0(i,r.auth);const s=await rC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function OB(t,e){return await Ze(t)._initializationPromise,Gp(t,e,!1)}async function Gp(t,e,n=!1){if(it(t.app))return Promise.reject(Ct(t));const r=Ze(t),i=Mo(r,e),o=await new TB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function rC(t){const e=sd(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=10*60*1e3;class iC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NB&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}}function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(t,e={}){return at(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LB=/^https?/;async function MB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oC(t);for(const n of e)try{if(FB(n))return}catch{}kt(t,"unauthorized-domain")}function FB(t){const e=Sc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!LB.test(n))return!1;if(VB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new ed(3e4,6e4);function HT(){const t=mt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BB(t){return new Promise((e,n)=>{var r,i,s;function o(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),n(Tt(t,"network-request-failed"))},timeout:UB.get()})}if(!((i=(r=mt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mt().gapi)===null||s===void 0)&&s.load)o();else{const a=xP("iframefcb");return mt()[a]=()=>{gapi.load?o():n(Tt(t,"network-request-failed"))},w0(`${D4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wh=null,e})}let Wh=null;function jB(t){return Wh=Wh||BB(t),Wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=new ed(5e3,15e3),zB="__/auth/iframe",WB="emulator/auth/iframe",qB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KB(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?v0(e,WB):`https://${t.config.authDomain}/${zB}`,r={apiKey:e.apiKey,appName:t.name,v:Ns},i=HB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gl(r).slice(1)}`}async function GB(t){const e=await jB(t),n=mt().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:KB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Tt(t,"network-request-failed"),a=mt().setTimeout(()=>{s(o)},$B.get());function l(){mt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JB=500,YB=600,XB="_blank",ZB="http://localhost";class KT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ej(t,e,n,r=JB,i=YB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},QB),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Xe().toLowerCase();n&&(a=bP(u)?XB:n),TP(u)&&(e=e||ZB,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,_])=>`${f}${m}=${_},`,"");if(S4(u)&&a!=="_self")return tj(e||"",a),new KT(null);const h=window.open(e||"",a,d);W(h,t,"popup-blocked");try{h.focus()}catch{}return new KT(h)}function tj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="__/auth/handler",rj="emulator/auth/handler",ij=encodeURIComponent("fac");async function u_(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ns,eventId:i};if(e instanceof Ai){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof wl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${ij}=${encodeURIComponent(l)}`:"";return`${sj(t)}?${gl(a).slice(1)}${u}`}function sj({config:t}){return t.emulator?v0(t,rj):`https://${t.authDomain}/${nj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="webStorageSupport";class oj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ys,this._completeRedirectFn=Gp,this._overrideRedirectResult=x0}async _openPopup(e,n,r,i){var s;gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await u_(e,n,r,Sc(),i);return ej(e,o,sd())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await u_(e,n,r,Sc(),i);return GU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GB(e),r=new iC(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wg,{type:Wg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Wg];o!==void 0&&n(!!o),kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CP()||SP()||nd()}}const aC=oj;class aj{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return xr("unexpected MultiFactorSessionType")}}}class O0 extends aj{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new O0(e)}_finalizeEnroll(e,n,r){return jU(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return rB(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class lC{constructor(){}static assertion(e){return O0._fromCredential(e)}}lC.FACTOR_ID="phone";var GT="@firebase/auth",QT="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cj(t){gs(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kP(t)},u=new k4(r,i,s,l);return q4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gs(new jr("auth-internal",e=>{const n=Ze(e.getProvider("auth").getImmediate());return(r=>new lj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(GT,QT,uj(t)),pr(GT,QT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=5*60,hj=GA("authIdTokenMaxAge")||dj;let JT=null;const fj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hj)return;const i=n==null?void 0:n.token;JT!==i&&(JT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pj(t=aP()){const e=Mp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=W4(t,{popupRedirectResolver:aC,persistence:[Ka,Wp,ys]}),r=GA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=fj(s.toString());UU(n,o,()=>o(n.currentUser)),FU(n,a=>o(a))}}const i=SM("auth");return i&&NP(n,`http://${i}`),n}function mj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Tt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cj("Browser");var YT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,uC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,T){function A(){}A.prototype=T.prototype,b.D=T.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(g,P,N){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return T.prototype[P].apply(g,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,T,A){A||(A=0);var g=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)g[P]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(P=0;16>P;++P)g[P]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=b.g[0],A=b.g[1],P=b.g[2];var N=b.g[3],C=T+(N^A&(P^N))+g[0]+3614090360&4294967295;T=A+(C<<7&4294967295|C>>>25),C=N+(P^T&(A^P))+g[1]+3905402710&4294967295,N=T+(C<<12&4294967295|C>>>20),C=P+(A^N&(T^A))+g[2]+606105819&4294967295,P=N+(C<<17&4294967295|C>>>15),C=A+(T^P&(N^T))+g[3]+3250441966&4294967295,A=P+(C<<22&4294967295|C>>>10),C=T+(N^A&(P^N))+g[4]+4118548399&4294967295,T=A+(C<<7&4294967295|C>>>25),C=N+(P^T&(A^P))+g[5]+1200080426&4294967295,N=T+(C<<12&4294967295|C>>>20),C=P+(A^N&(T^A))+g[6]+2821735955&4294967295,P=N+(C<<17&4294967295|C>>>15),C=A+(T^P&(N^T))+g[7]+4249261313&4294967295,A=P+(C<<22&4294967295|C>>>10),C=T+(N^A&(P^N))+g[8]+1770035416&4294967295,T=A+(C<<7&4294967295|C>>>25),C=N+(P^T&(A^P))+g[9]+2336552879&4294967295,N=T+(C<<12&4294967295|C>>>20),C=P+(A^N&(T^A))+g[10]+4294925233&4294967295,P=N+(C<<17&4294967295|C>>>15),C=A+(T^P&(N^T))+g[11]+2304563134&4294967295,A=P+(C<<22&4294967295|C>>>10),C=T+(N^A&(P^N))+g[12]+1804603682&4294967295,T=A+(C<<7&4294967295|C>>>25),C=N+(P^T&(A^P))+g[13]+4254626195&4294967295,N=T+(C<<12&4294967295|C>>>20),C=P+(A^N&(T^A))+g[14]+2792965006&4294967295,P=N+(C<<17&4294967295|C>>>15),C=A+(T^P&(N^T))+g[15]+1236535329&4294967295,A=P+(C<<22&4294967295|C>>>10),C=T+(P^N&(A^P))+g[1]+4129170786&4294967295,T=A+(C<<5&4294967295|C>>>27),C=N+(A^P&(T^A))+g[6]+3225465664&4294967295,N=T+(C<<9&4294967295|C>>>23),C=P+(T^A&(N^T))+g[11]+643717713&4294967295,P=N+(C<<14&4294967295|C>>>18),C=A+(N^T&(P^N))+g[0]+3921069994&4294967295,A=P+(C<<20&4294967295|C>>>12),C=T+(P^N&(A^P))+g[5]+3593408605&4294967295,T=A+(C<<5&4294967295|C>>>27),C=N+(A^P&(T^A))+g[10]+38016083&4294967295,N=T+(C<<9&4294967295|C>>>23),C=P+(T^A&(N^T))+g[15]+3634488961&4294967295,P=N+(C<<14&4294967295|C>>>18),C=A+(N^T&(P^N))+g[4]+3889429448&4294967295,A=P+(C<<20&4294967295|C>>>12),C=T+(P^N&(A^P))+g[9]+568446438&4294967295,T=A+(C<<5&4294967295|C>>>27),C=N+(A^P&(T^A))+g[14]+3275163606&4294967295,N=T+(C<<9&4294967295|C>>>23),C=P+(T^A&(N^T))+g[3]+4107603335&4294967295,P=N+(C<<14&4294967295|C>>>18),C=A+(N^T&(P^N))+g[8]+1163531501&4294967295,A=P+(C<<20&4294967295|C>>>12),C=T+(P^N&(A^P))+g[13]+2850285829&4294967295,T=A+(C<<5&4294967295|C>>>27),C=N+(A^P&(T^A))+g[2]+4243563512&4294967295,N=T+(C<<9&4294967295|C>>>23),C=P+(T^A&(N^T))+g[7]+1735328473&4294967295,P=N+(C<<14&4294967295|C>>>18),C=A+(N^T&(P^N))+g[12]+2368359562&4294967295,A=P+(C<<20&4294967295|C>>>12),C=T+(A^P^N)+g[5]+4294588738&4294967295,T=A+(C<<4&4294967295|C>>>28),C=N+(T^A^P)+g[8]+2272392833&4294967295,N=T+(C<<11&4294967295|C>>>21),C=P+(N^T^A)+g[11]+1839030562&4294967295,P=N+(C<<16&4294967295|C>>>16),C=A+(P^N^T)+g[14]+4259657740&4294967295,A=P+(C<<23&4294967295|C>>>9),C=T+(A^P^N)+g[1]+2763975236&4294967295,T=A+(C<<4&4294967295|C>>>28),C=N+(T^A^P)+g[4]+1272893353&4294967295,N=T+(C<<11&4294967295|C>>>21),C=P+(N^T^A)+g[7]+4139469664&4294967295,P=N+(C<<16&4294967295|C>>>16),C=A+(P^N^T)+g[10]+3200236656&4294967295,A=P+(C<<23&4294967295|C>>>9),C=T+(A^P^N)+g[13]+681279174&4294967295,T=A+(C<<4&4294967295|C>>>28),C=N+(T^A^P)+g[0]+3936430074&4294967295,N=T+(C<<11&4294967295|C>>>21),C=P+(N^T^A)+g[3]+3572445317&4294967295,P=N+(C<<16&4294967295|C>>>16),C=A+(P^N^T)+g[6]+76029189&4294967295,A=P+(C<<23&4294967295|C>>>9),C=T+(A^P^N)+g[9]+3654602809&4294967295,T=A+(C<<4&4294967295|C>>>28),C=N+(T^A^P)+g[12]+3873151461&4294967295,N=T+(C<<11&4294967295|C>>>21),C=P+(N^T^A)+g[15]+530742520&4294967295,P=N+(C<<16&4294967295|C>>>16),C=A+(P^N^T)+g[2]+3299628645&4294967295,A=P+(C<<23&4294967295|C>>>9),C=T+(P^(A|~N))+g[0]+4096336452&4294967295,T=A+(C<<6&4294967295|C>>>26),C=N+(A^(T|~P))+g[7]+1126891415&4294967295,N=T+(C<<10&4294967295|C>>>22),C=P+(T^(N|~A))+g[14]+2878612391&4294967295,P=N+(C<<15&4294967295|C>>>17),C=A+(N^(P|~T))+g[5]+4237533241&4294967295,A=P+(C<<21&4294967295|C>>>11),C=T+(P^(A|~N))+g[12]+1700485571&4294967295,T=A+(C<<6&4294967295|C>>>26),C=N+(A^(T|~P))+g[3]+2399980690&4294967295,N=T+(C<<10&4294967295|C>>>22),C=P+(T^(N|~A))+g[10]+4293915773&4294967295,P=N+(C<<15&4294967295|C>>>17),C=A+(N^(P|~T))+g[1]+2240044497&4294967295,A=P+(C<<21&4294967295|C>>>11),C=T+(P^(A|~N))+g[8]+1873313359&4294967295,T=A+(C<<6&4294967295|C>>>26),C=N+(A^(T|~P))+g[15]+4264355552&4294967295,N=T+(C<<10&4294967295|C>>>22),C=P+(T^(N|~A))+g[6]+2734768916&4294967295,P=N+(C<<15&4294967295|C>>>17),C=A+(N^(P|~T))+g[13]+1309151649&4294967295,A=P+(C<<21&4294967295|C>>>11),C=T+(P^(A|~N))+g[4]+4149444226&4294967295,T=A+(C<<6&4294967295|C>>>26),C=N+(A^(T|~P))+g[11]+3174756917&4294967295,N=T+(C<<10&4294967295|C>>>22),C=P+(T^(N|~A))+g[2]+718787259&4294967295,P=N+(C<<15&4294967295|C>>>17),C=A+(N^(P|~T))+g[9]+3951481745&4294967295,b.g[0]=b.g[0]+T&4294967295,b.g[1]=b.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,b.g[2]=b.g[2]+P&4294967295,b.g[3]=b.g[3]+N&4294967295}r.prototype.u=function(b,T){T===void 0&&(T=b.length);for(var A=T-this.blockSize,g=this.B,P=this.h,N=0;N<T;){if(P==0)for(;N<=A;)i(this,b,N),N+=this.blockSize;if(typeof b=="string"){for(;N<T;)if(g[P++]=b.charCodeAt(N++),P==this.blockSize){i(this,g),P=0;break}}else for(;N<T;)if(g[P++]=b[N++],P==this.blockSize){i(this,g),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var T=1;T<b.length-8;++T)b[T]=0;var A=8*this.o;for(T=b.length-8;T<b.length;++T)b[T]=A&255,A/=256;for(this.u(b),b=Array(16),T=A=0;4>T;++T)for(var g=0;32>g;g+=8)b[A++]=this.g[T]>>>g&255;return b};function s(b,T){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=T(b)}function o(b,T){this.h=T;for(var A=[],g=!0,P=b.length-1;0<=P;P--){var N=b[P]|0;g&&N==T||(A[P]=N,g=!1)}this.g=A}var a={};function l(b){return-128<=b&&128>b?s(b,function(T){return new o([T|0],0>T?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return S(u(-b));for(var T=[],A=1,g=0;b>=A;g++)T[g]=b/A|0,A*=4294967296;return new o(T,0)}function d(b,T){if(b.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b.charAt(0)=="-")return S(d(b.substring(1),T));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(T,8)),g=h,P=0;P<b.length;P+=8){var N=Math.min(8,b.length-P),C=parseInt(b.substring(P,P+N),T);8>N?(N=u(Math.pow(T,N)),g=g.j(N).add(u(C))):(g=g.j(A),g=g.add(u(C)))}return g}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-S(this).m();for(var b=0,T=1,A=0;A<this.g.length;A++){var g=this.i(A);b+=(0<=g?g:4294967296+g)*T,T*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(w(this))return"-"+S(this).toString(b);for(var T=u(Math.pow(b,6)),A=this,g="";;){var P=k(A,T).g;A=E(A,P.j(T));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=P,_(A))return N+g;for(;6>N.length;)N="0"+N;g=N+g}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(var T=0;T<b.g.length;T++)if(b.g[T]!=0)return!1;return!0}function w(b){return b.h==-1}t.l=function(b){return b=E(this,b),w(b)?-1:_(b)?0:1};function S(b){for(var T=b.g.length,A=[],g=0;g<T;g++)A[g]=~b.g[g];return new o(A,~b.h).add(f)}t.abs=function(){return w(this)?S(this):this},t.add=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],g=0,P=0;P<=T;P++){var N=g+(this.i(P)&65535)+(b.i(P)&65535),C=(N>>>16)+(this.i(P)>>>16)+(b.i(P)>>>16);g=C>>>16,N&=65535,C&=65535,A[P]=C<<16|N}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(b,T){return b.add(S(T))}t.j=function(b){if(_(this)||_(b))return h;if(w(this))return w(b)?S(this).j(S(b)):S(S(this).j(b));if(w(b))return S(this.j(S(b)));if(0>this.l(m)&&0>b.l(m))return u(this.m()*b.m());for(var T=this.g.length+b.g.length,A=[],g=0;g<2*T;g++)A[g]=0;for(g=0;g<this.g.length;g++)for(var P=0;P<b.g.length;P++){var N=this.i(g)>>>16,C=this.i(g)&65535,ie=b.i(P)>>>16,le=b.i(P)&65535;A[2*g+2*P]+=C*le,v(A,2*g+2*P),A[2*g+2*P+1]+=N*le,v(A,2*g+2*P+1),A[2*g+2*P+1]+=C*ie,v(A,2*g+2*P+1),A[2*g+2*P+2]+=N*ie,v(A,2*g+2*P+2)}for(g=0;g<T;g++)A[g]=A[2*g+1]<<16|A[2*g];for(g=T;g<2*T;g++)A[g]=0;return new o(A,0)};function v(b,T){for(;(b[T]&65535)!=b[T];)b[T+1]+=b[T]>>>16,b[T]&=65535,T++}function I(b,T){this.g=b,this.h=T}function k(b,T){if(_(T))throw Error("division by zero");if(_(b))return new I(h,h);if(w(b))return T=k(S(b),T),new I(S(T.g),S(T.h));if(w(T))return T=k(b,S(T)),new I(S(T.g),T.h);if(30<b.g.length){if(w(b)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var A=f,g=T;0>=g.l(b);)A=x(A),g=x(g);var P=D(A,1),N=D(g,1);for(g=D(g,2),A=D(A,2);!_(g);){var C=N.add(g);0>=C.l(b)&&(P=P.add(A),N=C),g=D(g,1),A=D(A,1)}return T=E(b,P.j(T)),new I(P,T)}for(P=h;0<=b.l(T);){for(A=Math.max(1,Math.floor(b.m()/T.m())),g=Math.ceil(Math.log(A)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),N=u(A),C=N.j(T);w(C)||0<C.l(b);)A-=g,N=u(A),C=N.j(T);_(N)&&(N=f),P=P.add(N),b=E(b,C)}return new I(P,b)}t.A=function(b){return k(this,b).h},t.and=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],g=0;g<T;g++)A[g]=this.i(g)&b.i(g);return new o(A,this.h&b.h)},t.or=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],g=0;g<T;g++)A[g]=this.i(g)|b.i(g);return new o(A,this.h|b.h)},t.xor=function(b){for(var T=Math.max(this.g.length,b.g.length),A=[],g=0;g<T;g++)A[g]=this.i(g)^b.i(g);return new o(A,this.h^b.h)};function x(b){for(var T=b.g.length+1,A=[],g=0;g<T;g++)A[g]=b.i(g)<<1|b.i(g-1)>>>31;return new o(A,b.h)}function D(b,T){var A=T>>5;T%=32;for(var g=b.g.length-A,P=[],N=0;N<g;N++)P[N]=0<T?b.i(N+A)>>>T|b.i(N+A+1)<<32-T:b.i(N+A);return new o(P,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,mo=o}).apply(typeof YT<"u"?YT:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cC,bu,dC,qh,c_,hC,fC,pC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,y){return c==Array.prototype||c==Object.prototype||(c[p]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var p=0;p<c.length;++p){var y=c[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var y=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var M=c[R];if(!(M in y))break e;y=y[M]}c=c[c.length-1],R=y[c],p=p(R),p!=R&&p!=null&&e(y,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var y=0,R=!1,M={next:function(){if(!R&&y<c.length){var U=y++;return{value:p(U,c[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,y){return c.call.apply(c.bind,arguments)}function h(c,p,y){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function f(c,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(c,p){var y=Array.prototype.slice.call(arguments,1);return function(){var R=y.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function _(c,p){function y(){}y.prototype=p.prototype,c.aa=p.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(R,M,U){for(var H=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)H[Pe-2]=arguments[Pe];return p.prototype[M].apply(R,H)}}function w(c){const p=c.length;if(0<p){const y=Array(p);for(let R=0;R<p;R++)y[R]=c[R];return y}return[]}function S(c,p){for(let y=1;y<arguments.length;y++){const R=arguments[y];if(l(R)){const M=c.length||0,U=R.length||0;c.length=M+U;for(let H=0;H<U;H++)c[M+H]=R[H]}else c.push(R)}}class E{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function k(c){return k[" "](c),c}k[" "]=function(){};var x=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function D(c,p,y){for(const R in c)p.call(y,c[R],R,c)}function b(c,p){for(const y in c)p.call(void 0,c[y],y,c)}function T(c){const p={};for(const y in c)p[y]=c[y];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(c,p){let y,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(y in R)c[y]=R[y];for(let U=0;U<A.length;U++)y=A[U],Object.prototype.hasOwnProperty.call(R,y)&&(c[y]=R[y])}}function P(c){var p=1;c=c.split(":");const y=[];for(;0<p&&c.length;)y.push(c.shift()),p--;return c.length&&y.push(c.join(":")),y}function N(c){a.setTimeout(()=>{throw c},0)}function C(){var c=te;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ie{constructor(){this.h=this.g=null}add(p,y){const R=le.get();R.set(p,y),this.h?this.h.next=R:this.g=R,this.h=R}}var le=new E(()=>new wt,c=>c.reset());class wt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,K=!1,te=new ie,ne=()=>{const c=a.Promise.resolve(void 0);Ie=()=>{c.then(ce)}};var ce=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(y){N(y)}var p=le;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}K=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var $n=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return c}();function er(c,p){if(qe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(x){e:{try{k(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=c.fromElement:y=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:tr[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&er.aa.h.call(this)}}_(er,qe);var tr={2:"touch",3:"pen",4:"mouse"};er.prototype.h=function(){er.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var nr="closure_listenable_"+(1e6*Math.random()|0),$m=0;function kd(c,p,y,R,M){this.listener=c,this.proxy=null,this.src=p,this.type=y,this.capture=!!R,this.ha=M,this.key=++$m,this.da=this.fa=!1}function _r(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bn(c){this.src=c,this.g={},this.h=0}bn.prototype.add=function(c,p,y,R,M){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var H=ft(c,p,R,M);return-1<H?(p=c[H],y||(p.fa=!1)):(p=new kd(p,this.src,U,!!R,M),p.fa=y,c.push(p)),p};function xe(c,p){var y=p.type;if(y in c.g){var R=c.g[y],M=Array.prototype.indexOf.call(R,p,void 0),U;(U=0<=M)&&Array.prototype.splice.call(R,M,1),U&&(_r(p),c.g[y].length==0&&(delete c.g[y],c.h--))}}function ft(c,p,y,R){for(var M=0;M<c.length;++M){var U=c[M];if(!U.da&&U.listener==p&&U.capture==!!y&&U.ha==R)return M}return-1}var en="closure_lm_"+(1e6*Math.random()|0),Oi={};function Gr(c,p,y,R,M){if(Array.isArray(p)){for(var U=0;U<p.length;U++)Gr(c,p[U],y,R,M);return null}return y=oE(y),c&&c[nr]?c.K(p,y,u(R)?!!R.capture:!!R,M):Ni(c,p,y,!1,R,M)}function Ni(c,p,y,R,M,U){if(!p)throw Error("Invalid event type");var H=u(M)?!!M.capture:!!M,Pe=zm(c);if(Pe||(c[en]=Pe=new bn(c)),y=Pe.add(p,y,R,H,U),y.proxy)return y;if(R=rr(),y.proxy=R,R.src=c,R.listener=y,c.addEventListener)$n||(M=H),M===void 0&&(M=!1),c.addEventListener(p.toString(),R,M);else if(c.attachEvent)c.attachEvent(sE(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return y}function rr(){function c(y){return p.call(c.src,c.listener,y)}const p=gN;return c}function vr(c,p,y,R,M){if(Array.isArray(p))for(var U=0;U<p.length;U++)vr(c,p[U],y,R,M);else R=u(R)?!!R.capture:!!R,y=oE(y),c&&c[nr]?(c=c.i,p=String(p).toString(),p in c.g&&(U=c.g[p],y=ft(U,y,R,M),-1<y&&(_r(U[y]),Array.prototype.splice.call(U,y,1),U.length==0&&(delete c.g[p],c.h--)))):c&&(c=zm(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ft(p,y,R,M)),(y=-1<c?p[c]:null)&&Us(y))}function Us(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[nr])xe(p.i,c);else{var y=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(y,R,c.capture):p.detachEvent?p.detachEvent(sE(y),R):p.addListener&&p.removeListener&&p.removeListener(R),(y=zm(p))?(xe(y,c),y.h==0&&(y.src=null,p[en]=null)):_r(c)}}}function sE(c){return c in Oi?Oi[c]:Oi[c]="on"+c}function gN(c,p){if(c.da)c=!0;else{p=new er(p,this);var y=c.listener,R=c.ha||c.src;c.fa&&Us(c),c=y.call(R,p)}return c}function zm(c){return c=c[en],c instanceof bn?c:null}var Wm="__closure_events_fn_"+(1e9*Math.random()>>>0);function oE(c){return typeof c=="function"?c:(c[Wm]||(c[Wm]=function(p){return c.handleEvent(p)}),c[Wm])}function Bt(){Te.call(this),this.i=new bn(this),this.M=this,this.F=null}_(Bt,Te),Bt.prototype[nr]=!0,Bt.prototype.removeEventListener=function(c,p,y,R){vr(this,c,p,y,R)};function tn(c,p){var y,R=c.F;if(R)for(y=[];R;R=R.F)y.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new qe(p,c);else if(p instanceof qe)p.target=p.target||c;else{var M=p;p=new qe(R,c),g(p,M)}if(M=!0,y)for(var U=y.length-1;0<=U;U--){var H=p.g=y[U];M=xd(H,R,!0,p)&&M}if(H=p.g=c,M=xd(H,R,!0,p)&&M,M=xd(H,R,!1,p)&&M,y)for(U=0;U<y.length;U++)H=p.g=y[U],M=xd(H,R,!1,p)&&M}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var y=c.g[p],R=0;R<y.length;R++)_r(y[R]);delete c.g[p],c.h--}}this.F=null},Bt.prototype.K=function(c,p,y,R){return this.i.add(String(c),p,!1,y,R)},Bt.prototype.L=function(c,p,y,R){return this.i.add(String(c),p,!0,y,R)};function xd(c,p,y,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,U=0;U<p.length;++U){var H=p[U];if(H&&!H.da&&H.capture==y){var Pe=H.listener,xt=H.ha||H.src;H.fa&&xe(c.i,H),M=Pe.call(xt,R)!==!1&&M}}return M&&!R.defaultPrevented}function aE(c,p,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function lE(c){c.g=aE(()=>{c.g=null,c.i&&(c.i=!1,lE(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class yN extends Te{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:lE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vl(c){Te.call(this),this.h=c,this.g={}}_(Vl,Te);var uE=[];function cE(c){D(c.g,function(p,y){this.g.hasOwnProperty(y)&&Us(p)},c),c.g={}}Vl.prototype.N=function(){Vl.aa.N.call(this),cE(this)},Vl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qm=a.JSON.stringify,_N=a.JSON.parse,vN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Hm(){}Hm.prototype.h=null;function dE(c){return c.h||(c.h=c.i())}function hE(){}var Ll={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Km(){qe.call(this,"d")}_(Km,qe);function Gm(){qe.call(this,"c")}_(Gm,qe);var Bs={},fE=null;function Od(){return fE=fE||new Bt}Bs.La="serverreachability";function pE(c){qe.call(this,Bs.La,c)}_(pE,qe);function Ml(c){const p=Od();tn(p,new pE(p))}Bs.STAT_EVENT="statevent";function mE(c,p){qe.call(this,Bs.STAT_EVENT,c),this.stat=p}_(mE,qe);function nn(c){const p=Od();tn(p,new mE(p,c))}Bs.Ma="timingevent";function gE(c,p){qe.call(this,Bs.Ma,c),this.size=p}_(gE,qe);function Fl(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Ul(){this.g=!0}Ul.prototype.xa=function(){this.g=!1};function wN(c,p,y,R,M,U){c.info(function(){if(c.g)if(U)for(var H="",Pe=U.split("&"),xt=0;xt<Pe.length;xt++){var _e=Pe[xt].split("=");if(1<_e.length){var jt=_e[0];_e=_e[1];var $t=jt.split("_");H=2<=$t.length&&$t[1]=="type"?H+(jt+"="+_e+"&"):H+(jt+"=redacted&")}}else H=null;else H=U;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+p+`
`+y+`
`+H})}function EN(c,p,y,R,M,U,H){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+p+`
`+y+`
`+U+" "+H})}function $o(c,p,y,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+TN(c,y)+(R?" "+R:"")})}function IN(c,p){c.info(function(){return"TIMEOUT: "+p})}Ul.prototype.info=function(){};function TN(c,p){if(!c.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var R=y[c];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(var H=1;H<M.length;H++)M[H]=""}}}}return qm(y)}catch{return p}}var Nd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qm;function Dd(){}_(Dd,Hm),Dd.prototype.g=function(){return new XMLHttpRequest},Dd.prototype.i=function(){return{}},Qm=new Dd;function Di(c,p,y,R){this.j=c,this.i=p,this.l=y,this.R=R||1,this.U=new Vl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _E}function _E(){this.i=null,this.g="",this.h=!1}var vE={},Jm={};function Ym(c,p,y){c.L=1,c.v=Fd(Qr(p)),c.m=y,c.P=!0,wE(c,null)}function wE(c,p){c.F=Date.now(),Vd(c),c.A=Qr(c.v);var y=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),DE(y.i,"t",R),c.C=0,y=c.j.J,c.h=new _E,c.g=XE(c.j,y?p:null,!c.m),0<c.O&&(c.M=new yN(f(c.Y,c,c.g),c.O)),p=c.U,y=c.g,R=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(uE[0]=M.toString()),M=uE);for(var U=0;U<M.length;U++){var H=Gr(y,M[U],R||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Ml(),wN(c.i,c.u,c.A,c.l,c.R,c.m)}Di.prototype.ca=function(c){c=c.target;const p=this.M;p&&Jr(c)==3?p.j():this.Y(c)},Di.prototype.Y=function(c){try{if(c==this.g)e:{const $t=Jr(this.g);var p=this.g.Ba();const qo=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||jE(this.g)))){this.J||$t!=4||p==7||(p==8||0>=qo?Ml(3):Ml(2)),Xm(this);var y=this.g.Z();this.X=y;t:if(EE(this)){var R=jE(this.g);c="";var M=R.length,U=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){js(this),Bl(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(U&&p==M-1)});R.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=y==200,EN(this.i,this.u,this.A,this.l,this.R,$t,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,xt=this.g;if((Pe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Pe)){var _e=Pe;break t}}_e=null}if(y=_e)$o(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zm(this,y);else{this.o=!1,this.s=3,nn(12),js(this),Bl(this);break e}}if(this.P){y=!0;let ir;for(;!this.J&&this.C<H.length;)if(ir=SN(this,H),ir==Jm){$t==4&&(this.s=4,nn(14),y=!1),$o(this.i,this.l,null,"[Incomplete Response]");break}else if(ir==vE){this.s=4,nn(15),$o(this.i,this.l,H,"[Invalid Chunk]"),y=!1;break}else $o(this.i,this.l,ir,null),Zm(this,ir);if(EE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||H.length!=0||this.h.h||(this.s=1,nn(16),y=!1),this.o=this.o&&y,!y)$o(this.i,this.l,H,"[Invalid Chunked Response]"),js(this),Bl(this);else if(0<H.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),sg(jt),jt.M=!0,nn(11))}}else $o(this.i,this.l,H,null),Zm(this,H);$t==4&&js(this),this.o&&!this.J&&($t==4?GE(this.j,this):(this.o=!1,Vd(this)))}else jN(this.g),y==400&&0<H.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),js(this),Bl(this)}}}catch{}finally{}};function EE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function SN(c,p){var y=c.C,R=p.indexOf(`
`,y);return R==-1?Jm:(y=Number(p.substring(y,R)),isNaN(y)?vE:(R+=1,R+y>p.length?Jm:(p=p.slice(R,R+y),c.C=R+y,p)))}Di.prototype.cancel=function(){this.J=!0,js(this)};function Vd(c){c.S=Date.now()+c.I,IE(c,c.I)}function IE(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fl(f(c.ba,c),p)}function Xm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Di.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(IN(this.i,this.A),this.L!=2&&(Ml(),nn(17)),js(this),this.s=2,Bl(this)):IE(this,this.S-c)};function Bl(c){c.j.G==0||c.J||GE(c.j,c)}function js(c){Xm(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,cE(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Zm(c,p){try{var y=c.j;if(y.G!=0&&(y.g==c||eg(y.h,c))){if(!c.K&&eg(y.h,c)&&y.G==3){try{var R=y.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Wd(y),$d(y);else break e;ig(y),nn(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Fl(f(y.Za,y),6e3));if(1>=bE(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else zs(y,11)}else if((c.K||y.g==c)&&Wd(y),!v(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let _e=M[p];if(y.T=_e[0],_e=_e[1],y.G==2)if(_e[0]=="c"){y.K=_e[1],y.ia=_e[2];const jt=_e[3];jt!=null&&(y.la=jt,y.j.info("VER="+y.la));const $t=_e[4];$t!=null&&(y.Aa=$t,y.j.info("SVER="+y.Aa));const qo=_e[5];qo!=null&&typeof qo=="number"&&0<qo&&(R=1.5*qo,y.L=R,y.j.info("backChannelRequestTimeoutMs_="+R)),R=y;const ir=c.g;if(ir){const Hd=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hd){var U=R.h;U.g||Hd.indexOf("spdy")==-1&&Hd.indexOf("quic")==-1&&Hd.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(tg(U,U.h),U.h=null))}if(R.D){const og=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;og&&(R.ya=og,De(R.I,R.D,og))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),R=y;var H=c;if(R.qa=YE(R,R.J?R.ia:null,R.W),H.K){RE(R.h,H);var Pe=H,xt=R.L;xt&&(Pe.I=xt),Pe.B&&(Xm(Pe),Vd(Pe)),R.g=H}else HE(R);0<y.i.length&&zd(y)}else _e[0]!="stop"&&_e[0]!="close"||zs(y,7);else y.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?zs(y,7):rg(y):_e[0]!="noop"&&y.l&&y.l.ta(_e),y.v=0)}}Ml(4)}catch{}}var bN=class{constructor(c,p){this.g=c,this.map=p}};function TE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bE(c){return c.h?1:c.g?c.g.size:0}function eg(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function tg(c,p){c.g?c.g.add(p):c.h=p}function RE(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}TE.prototype.cancel=function(){if(this.i=AE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function AE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const y of c.g.values())p=p.concat(y.D);return p}return w(c.i)}function RN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],y=c.length,R=0;R<y;R++)p.push(c[R]);return p}p=[],y=0;for(R in c)p[y++]=c[R];return p}function AN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var y=0;y<c;y++)p.push(y);return p}p=[],y=0;for(const R in c)p[y++]=R;return p}}}function PE(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var y=AN(c),R=RN(c),M=R.length,U=0;U<M;U++)p.call(void 0,R[U],y&&y[U],c)}var CE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PN(c,p){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var R=c[y].indexOf("="),M=null;if(0<=R){var U=c[y].substring(0,R);M=c[y].substring(R+1)}else U=c[y];p(U,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function $s(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $s){this.h=c.h,Ld(this,c.j),this.o=c.o,this.g=c.g,Md(this,c.s),this.l=c.l;var p=c.i,y=new zl;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),kE(this,y),this.m=c.m}else c&&(p=String(c).match(CE))?(this.h=!1,Ld(this,p[1]||"",!0),this.o=jl(p[2]||""),this.g=jl(p[3]||"",!0),Md(this,p[4]),this.l=jl(p[5]||"",!0),kE(this,p[6]||"",!0),this.m=jl(p[7]||"")):(this.h=!1,this.i=new zl(null,this.h))}$s.prototype.toString=function(){var c=[],p=this.j;p&&c.push($l(p,xE,!0),":");var y=this.g;return(y||p=="file")&&(c.push("//"),(p=this.o)&&c.push($l(p,xE,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push($l(y,y.charAt(0)=="/"?xN:kN,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",$l(y,NN)),c.join("")};function Qr(c){return new $s(c)}function Ld(c,p,y){c.j=y?jl(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Md(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function kE(c,p,y){p instanceof zl?(c.i=p,DN(c.i,c.h)):(y||(p=$l(p,ON)),c.i=new zl(p,c.h))}function De(c,p,y){c.i.set(p,y)}function Fd(c){return De(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jl(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function $l(c,p,y){return typeof c=="string"?(c=encodeURI(c).replace(p,CN),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function CN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xE=/[#\/\?@]/g,kN=/[#\?:]/g,xN=/[#\?]/g,ON=/[#\?@]/g,NN=/#/g;function zl(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Vi(c){c.g||(c.g=new Map,c.h=0,c.i&&PN(c.i,function(p,y){c.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=zl.prototype,t.add=function(c,p){Vi(this),this.i=null,c=zo(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(p),this.h+=1,this};function OE(c,p){Vi(c),p=zo(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function NE(c,p){return Vi(c),p=zo(c,p),c.g.has(p)}t.forEach=function(c,p){Vi(this),this.g.forEach(function(y,R){y.forEach(function(M){c.call(p,M,R,this)},this)},this)},t.na=function(){Vi(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let R=0;R<p.length;R++){const M=c[R];for(let U=0;U<M.length;U++)y.push(p[R])}return y},t.V=function(c){Vi(this);let p=[];if(typeof c=="string")NE(this,c)&&(p=p.concat(this.g.get(zo(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)p=p.concat(c[y])}return p},t.set=function(c,p){return Vi(this),this.i=null,c=zo(this,c),NE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function DE(c,p,y){OE(c,p),0<y.length&&(c.i=null,c.g.set(zo(c,p),w(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var R=p[y];const U=encodeURIComponent(String(R)),H=this.V(R);for(R=0;R<H.length;R++){var M=U;H[R]!==""&&(M+="="+encodeURIComponent(String(H[R]))),c.push(M)}}return this.i=c.join("&")};function zo(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function DN(c,p){p&&!c.j&&(Vi(c),c.i=null,c.g.forEach(function(y,R){var M=R.toLowerCase();R!=M&&(OE(this,R),DE(this,M,y))},c)),c.j=p}function VN(c,p){const y=new Ul;if(a.Image){const R=new Image;R.onload=m(Li,y,"TestLoadImage: loaded",!0,p,R),R.onerror=m(Li,y,"TestLoadImage: error",!1,p,R),R.onabort=m(Li,y,"TestLoadImage: abort",!1,p,R),R.ontimeout=m(Li,y,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function LN(c,p){const y=new Ul,R=new AbortController,M=setTimeout(()=>{R.abort(),Li(y,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(U=>{clearTimeout(M),U.ok?Li(y,"TestPingServer: ok",!0,p):Li(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Li(y,"TestPingServer: error",!1,p)})}function Li(c,p,y,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(y)}catch{}}function MN(){this.g=new vN}function FN(c,p,y){const R=y||"";try{PE(c,function(M,U){let H=M;u(M)&&(H=qm(M)),p.push(R+U+"="+encodeURIComponent(H))})}catch(M){throw p.push(R+"type="+encodeURIComponent("_badmap")),M}}function Ud(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Ud,Hm),Ud.prototype.g=function(){return new Bd(this.l,this.j)},Ud.prototype.i=function(c){return function(){return c}}({});function Bd(c,p){Bt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Bd,Bt),t=Bd.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ql(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function VE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Wl(this):ql(this),this.readyState==3&&VE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Wl(this))},t.Qa=function(c){this.g&&(this.response=c,Wl(this))},t.ga=function(){this.g&&Wl(this)};function Wl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ql(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=p.next();return c.join(`\r
`)};function ql(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function LE(c){let p="";return D(c,function(y,R){p+=R,p+=":",p+=y,p+=`\r
`}),p}function ng(c,p,y){e:{for(R in y){var R=!1;break e}R=!0}R||(y=LE(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):De(c,p,y))}function et(c){Bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(et,Bt);var UN=/^https?$/i,BN=["POST","PUT"];t=et.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,y,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qm.g(),this.v=this.o?dE(this.o):dE(Qm),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(U){ME(this,U);return}if(c=y||"",y=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)y.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())y.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(y.keys()).find(U=>U.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BN,p,void 0))||R||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,H]of y)this.g.setRequestHeader(U,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{BE(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){ME(this,U)}};function ME(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,FE(c),jd(c)}function FE(c){c.A||(c.A=!0,tn(c,"complete"),tn(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tn(this,"complete"),tn(this,"abort"),jd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jd(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?UE(this):this.bb())},t.bb=function(){UE(this)};function UE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Jr(c)!=4||c.Z()!=2)){if(c.u&&Jr(c)==4)aE(c.Ea,0,c);else if(tn(c,"readystatechange"),Jr(c)==4){c.h=!1;try{const H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var R;if(R=H===0){var M=String(c.D).match(CE)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!UN.test(M?M.toLowerCase():"")}y=R}if(y)tn(c,"complete"),tn(c,"success");else{c.m=6;try{var U=2<Jr(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",FE(c)}}finally{jd(c)}}}}function jd(c,p){if(c.g){BE(c);const y=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||tn(c,"ready");try{y.onreadystatechange=R}catch{}}}function BE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Jr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),_N(p)}};function jE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function jN(c){const p={};c=(c.g&&2<=Jr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(v(c[R]))continue;var y=P(c[R]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const U=p[M]||[];p[M]=U,U.push(y)}b(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hl(c,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||p}function $E(c){this.Aa=0,this.i=[],this.j=new Ul,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hl("baseRetryDelayMs",5e3,c),this.cb=Hl("retryDelaySeedMs",1e4,c),this.Wa=Hl("forwardChannelMaxRetries",2,c),this.wa=Hl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new TE(c&&c.concurrentRequestLimit),this.Da=new MN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$E.prototype,t.la=8,t.G=1,t.connect=function(c,p,y,R){nn(0),this.W=c,this.H=p||{},y&&R!==void 0&&(this.H.OSID=y,this.H.OAID=R),this.F=this.X,this.I=YE(this,null,this.W),zd(this)};function rg(c){if(zE(c),c.G==3){var p=c.U++,y=Qr(c.I);if(De(y,"SID",c.K),De(y,"RID",p),De(y,"TYPE","terminate"),Kl(c,y),p=new Di(c,c.j,p),p.L=2,p.v=Fd(Qr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=XE(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Vd(p)}JE(c)}function $d(c){c.g&&(sg(c),c.g.cancel(),c.g=null)}function zE(c){$d(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function zd(c){if(!SE(c.h)&&!c.s){c.s=!0;var p=c.Ga;Ie||ne(),K||(Ie(),K=!0),te.add(p,c),c.B=0}}function $N(c,p){return bE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fl(f(c.Ga,c,p),QE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Di(this,this.j,c);let U=this.o;if(this.S&&(U?(U=T(U),g(U,this.S)):U=this.S),this.m!==null||this.O||(M.H=U,U=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var R=this.i[y];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=qE(this,M,p),y=Qr(this.I),De(y,"RID",c),De(y,"CVER",22),this.D&&De(y,"X-HTTP-Session-Id",this.D),Kl(this,y),U&&(this.O?p="headers="+encodeURIComponent(String(LE(U)))+"&"+p:this.m&&ng(y,this.m,U)),tg(this.h,M),this.Ua&&De(y,"TYPE","init"),this.P?(De(y,"$req",p),De(y,"SID","null"),M.T=!0,Ym(M,y,null)):Ym(M,y,p),this.G=2}}else this.G==3&&(c?WE(this,c):this.i.length==0||SE(this.h)||WE(this))};function WE(c,p){var y;p?y=p.l:y=c.U++;const R=Qr(c.I);De(R,"SID",c.K),De(R,"RID",y),De(R,"AID",c.T),Kl(c,R),c.m&&c.o&&ng(R,c.m,c.o),y=new Di(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),p&&(c.i=p.D.concat(c.i)),p=qE(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tg(c.h,y),Ym(y,R,p)}function Kl(c,p){c.H&&D(c.H,function(y,R){De(p,R,y)}),c.l&&PE({},function(y,R){De(p,R,y)})}function qE(c,p,y){y=Math.min(c.i.length,y);var R=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let U=-1;for(;;){const H=["count="+y];U==-1?0<y?(U=M[0].g,H.push("ofs="+U)):U=0:H.push("ofs="+U);let Pe=!0;for(let xt=0;xt<y;xt++){let _e=M[xt].g;const jt=M[xt].map;if(_e-=U,0>_e)U=Math.max(0,M[xt].g-100),Pe=!1;else try{FN(jt,H,"req"+_e+"_")}catch{R&&R(jt)}}if(Pe){R=H.join("&");break e}}}return c=c.i.splice(0,y),p.D=c,R}function HE(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;Ie||ne(),K||(Ie(),K=!0),te.add(p,c),c.v=0}}function ig(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fl(f(c.Fa,c),QE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,KE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fl(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),$d(this),KE(this))};function sg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function KE(c){c.g=new Di(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Qr(c.qa);De(p,"RID","rpc"),De(p,"SID",c.K),De(p,"AID",c.T),De(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&De(p,"TO",c.ja),De(p,"TYPE","xmlhttp"),Kl(c,p),c.m&&c.o&&ng(p,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Fd(Qr(p)),y.m=null,y.P=!0,wE(y,c)}t.Za=function(){this.C!=null&&(this.C=null,$d(this),ig(this),nn(19))};function Wd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function GE(c,p){var y=null;if(c.g==p){Wd(c),sg(c),c.g=null;var R=2}else if(eg(c.h,p))y=p.D,RE(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;R=Od(),tn(R,new gE(R,y)),zd(c)}else HE(c);else if(M=p.s,M==3||M==0&&0<p.X||!(R==1&&$N(c,p)||R==2&&ig(c)))switch(y&&0<y.length&&(p=c.h,p.i=p.i.concat(y)),M){case 1:zs(c,5);break;case 4:zs(c,10);break;case 3:zs(c,6);break;default:zs(c,2)}}}function QE(c,p){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*p}function zs(c,p){if(c.j.info("Error code "+p),p==2){var y=f(c.fb,c),R=c.Xa;const M=!R;R=new $s(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ld(R,"https"),Fd(R),M?VN(R.toString(),y):LN(R.toString(),y)}else nn(2);c.G=0,c.l&&c.l.sa(p),JE(c),zE(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function JE(c){if(c.G=0,c.ka=[],c.l){const p=AE(c.h);(p.length!=0||c.i.length!=0)&&(S(c.ka,p),S(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function YE(c,p,y){var R=y instanceof $s?Qr(y):new $s(y);if(R.g!="")p&&(R.g=p+"."+R.g),Md(R,R.s);else{var M=a.location;R=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var U=new $s(null);R&&Ld(U,R),p&&(U.g=p),M&&Md(U,M),y&&(U.l=y),R=U}return y=c.D,p=c.ya,y&&p&&De(R,y,p),De(R,"VER",c.la),Kl(c,R),R}function XE(c,p,y){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new et(new Ud({eb:y})):new et(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZE(){}t=ZE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qd(){}qd.prototype.g=function(c,p){return new Rn(c,p)};function Rn(c,p){Bt.call(this),this.g=new $E(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!v(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Wo(this)}_(Rn,Bt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){rg(this.g)},Rn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=qm(c),c=y);p.i.push(new bN(p.Ya++,c)),p.G==3&&zd(p)},Rn.prototype.N=function(){this.g.l=null,delete this.j,rg(this.g),delete this.g,Rn.aa.N.call(this)};function eI(c){Km.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const y in p){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}_(eI,Km);function tI(){Gm.call(this),this.status=1}_(tI,Gm);function Wo(c){this.g=c}_(Wo,ZE),Wo.prototype.ua=function(){tn(this.g,"a")},Wo.prototype.ta=function(c){tn(this.g,new eI(c))},Wo.prototype.sa=function(c){tn(this.g,new tI)},Wo.prototype.ra=function(){tn(this.g,"b")},qd.prototype.createWebChannel=qd.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,pC=function(){return new qd},fC=function(){return Od()},hC=Bs,c_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nd.NO_ERROR=0,Nd.TIMEOUT=8,Nd.HTTP_ERROR=6,qh=Nd,yE.COMPLETE="complete",dC=yE,hE.EventType=Ll,Ll.OPEN="a",Ll.CLOSE="b",Ll.ERROR="c",Ll.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,bu=hE,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,cC=et}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const XT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let At=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};At.UNAUTHENTICATED=new At(null),At.GOOGLE_CREDENTIALS=new At("google-credentials-uid"),At.FIRST_PARTY=new At("first-party-uid"),At.MOCK_USER=new At("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Lp("@firebase/firestore");function ra(){return _s.logLevel}function gj(t){_s.setLogLevel(t)}function z(t,...e){if(_s.logLevel<=de.DEBUG){const n=e.map(N0);_s.debug(`Firestore (${El}): ${t}`,...n)}}function ut(t,...e){if(_s.logLevel<=de.ERROR){const n=e.map(N0);_s.error(`Firestore (${El}): ${t}`,...n)}}function zr(t,...e){if(_s.logLevel<=de.WARN){const n=e.map(N0);_s.warn(`Firestore (${El}): ${t}`,...n)}}function N0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: `+t;throw ut(e),new Error(e)}function X(t,e){t||J()}function yj(t,e){t||J()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _j{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(At.UNAUTHENTICATED))}shutdown(){}}class vj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wj{constructor(e){this.t=e,this.currentUser=At.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){X(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ft,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ft)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X(typeof r.accessToken=="string"),new mC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new At(e)}}class Ej{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=At.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ij{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ej(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(At.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sj{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){X(this.o===void 0);const r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string"),this.R=n.token,new Tj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function yC(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(e){return new Z(e)}static min(){return new Z(new ze(0,0))}static max(){return new Z(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ac.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ac?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Ac{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const Rj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends Ac{construct(e,n,r){return new je(e,n,r)}static isValidIdentifier(e){return Rj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(n)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(fe.fromString(e))}static fromName(e){return new G(fe.fromString(e).popFirst(5))}static empty(){return new G(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new fe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function d_(t){return t.fields.find(e=>e.kind===2)}function Qs(t){return t.fields.filter(e=>e.kind!==2)}qf.UNKNOWN_ID=-1;class Hh{constructor(e,n){this.fieldPath=e,this.kind=n}}class Pc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Pc(0,Un.min())}}function _C(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new Un(i,G.empty(),e)}function vC(t){return new Un(t.readTime,t.key,-1)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(Z.min(),G.empty(),-1)}static max(){return new Un(Z.max(),G.empty(),-1)}}function D0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==wC)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{static open(e,n,r,i){try{return new Qp(n,e.transaction(i,r))}catch(s){throw new qu(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ft,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new qu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=V0(r.target.error);this.V.reject(new qu(e,i))}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(z("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Pj(n)}}class Fr{static delete(e){return z("SimpleDb","Removing database:",e),Ys(window.indexedDB.deleteDatabase(e)).toPromise()}static p(){if(!Ec())return!1;if(Fr.S())return!0;const e=Xe(),n=Fr.D(e),r=0<n&&n<10,i=IC(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static S(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static C(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.F=r,Fr.D(Xe())===12.2&&ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async M(e){return this.db||(z("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new qu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new qu(e,o))},i.onupgradeneeded=s=>{z("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.F.O(o,i.transaction,s.oldVersion,this.version).next(()=>{z("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Qp.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(z("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function IC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Aj{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Ys(this.B.delete())}}class qu extends ${constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ls(t){return t.name==="IndexedDbTransactionError"}class Pj{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(z("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(z("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ys(r)}add(e){return z("SimpleDb","ADD",this.store.name,e,e),Ys(this.store.add(e))}get(e){return Ys(this.store.get(e)).next(n=>(n===void 0&&(n=null),z("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return z("SimpleDb","DELETE",this.store.name,e),Ys(this.store.delete(e))}count(){return z("SimpleDb","COUNT",this.store.name),Ys(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){z("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=s=>{const o=V0(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Aj(a),u=n(a.primaryKey,a.value,l);if(u instanceof L){const d=u.catch(h=>(l.done(),L.reject(h)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ys(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=V0(r.target.error);n(i)}})}let ZT=!1;function V0(t){const e=Fr.D(Xe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZT||(ZT=!0,setTimeout(()=>{throw r},0)),r}}return t}class Cj{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){z("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{z("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Ls(n)?z("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Vs(n)}await this.X(6e4)})}}class kj{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return L.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return z("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(z("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=vC(s);D0(o,r)>0&&(r=o)}),new Un(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yn.oe=-1;function ad(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function TC(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=eS(e)),e=xj(t.get(n),e);return eS(e)}function xj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function eS(t){return t+""}function Or(t){const e=t.length;if(X(e>=2),e===2)return X(t.charAt(0)===""&&t.charAt(1)===""),fe.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&J(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:J()}s=o+2}return new fe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t,e){return[t,Yt(e)]}function SC(t,e,n){return[t,Yt(e),n]}const Oj={},Nj=["prefixPath","collectionGroup","readTime","documentId"],Dj=["prefixPath","collectionGroup","documentId"],Vj=["collectionGroup","readTime","prefixPath","documentId"],Lj=["canonicalId","targetId"],Mj=["targetId","path"],Fj=["path","targetId"],Uj=["collectionId","parent"],Bj=["indexId","uid"],jj=["uid","sequenceNumber"],$j=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zj=["indexId","uid","orderedDocumentKey"],Wj=["userId","collectionPath","documentId"],qj=["userId","collectionPath","largestBatchId"],Hj=["userId","collectionGroup","largestBatchId"],bC=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kj=[...bC,"documentOverlays"],RC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AC=RC,L0=[...AC,"indexConfiguration","indexState","indexEntries"],Gj=L0,Qj=[...L0,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_ extends EC{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function St(t,e){const n=Q(t);return Fr.C(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ms(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rS(this.data.getIterator())}getIteratorFrom(e){return new rS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ae)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ae(this.comparator);return n.data=e,n}}class rS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Go(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new _n([])}unionWith(e){let n=new Ae(je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CC("Invalid base64 string: "+s):s}}(e);return new st(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const Yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(X(!!t),typeof t=="string"){let e=0;const n=Yj.exec(t);if(X(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ei(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yp(t){const e=t.mapValue.fields.__previous_value__;return Jp(e)?Yp(e):e}function kc(t){const e=wi(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class vs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gh={nullValue:"NULL_VALUE"};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jp(t)?4:kC(t)?9007199254740991:Xp(t)?10:11:J()}function Wr(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wi(i.timestampValue),a=wi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ei(i.bytesValue).isEqual(Ei(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ue(i.doubleValue),a=Ue(s.doubleValue);return o===a?Cc(o)===Cc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(nS(o)!==nS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wr(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function xc(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function Es(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ue(s.integerValue||s.doubleValue),l=Ue(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return iS(t.timestampValue,e.timestampValue);case 4:return iS(kc(t),kc(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ei(s),l=Ei(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=re(a[u],l[u]);if(d!==0)return d}return re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(Ue(s.latitude),Ue(o.latitude));return a!==0?a:re(Ue(s.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=re(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:sS(m,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Xi.mapValue&&o===Xi.mapValue)return 0;if(s===Xi.mapValue)return 1;if(o===Xi.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=re(l[h],d[h]);if(f!==0)return f;const m=Es(a[l[h]],u[d[h]]);if(m!==0)return m}return re(l.length,d.length)}(t.mapValue,e.mapValue);default:throw J()}}function iS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=wi(t),r=wi(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function sS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Es(n[i],r[i]);if(s)return s}return re(n.length,r.length)}function Qa(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=f_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${f_(n.fields[o])}`;return i+"}"}(t.mapValue):J()}function Qh(t){switch(ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yp(t);return e?16+Qh(e):16;case 5:return 2*t.stringValue.length;case 6:return Ei(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Qh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ms(r.fields,(s,o)=>{i+=s.length+Qh(o)}),i}(t.mapValue);default:throw J()}}function To(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p_(t){return!!t&&"integerValue"in t}function Oc(t){return!!t&&"arrayValue"in t}function oS(t){return!!t&&"nullValue"in t}function aS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jh(t){return!!t&&"mapValue"in t}function Xp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ms(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const xC={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Zj(t){return"nullValue"in t?Gh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?To(vs.empty(),G.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Xp(t)?xC:{mapValue:{}}:J()}function e5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?To(vs.empty(),G.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?xC:"mapValue"in t?Xp(t)?{mapValue:{}}:Xi:J()}function lS(t,e){const n=Es(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function uS(t,e){const n=Es(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.value=e}static empty(){return new Lt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hu(n)}setAll(e){let n=je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ms(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Lt(Hu(this.value))}}function OC(t){const e=[];return Ms(t.fields,(n,r)=>{const i=new je([n]);if(Jh(r)){const s=OC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Le(e,0,Z.min(),Z.min(),Z.min(),Lt.empty(),0)}static newFoundDocument(e,n,r,i){return new Le(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new Le(e,2,n,Z.min(),Z.min(),Lt.empty(),0)}static newUnknownDocument(e,n){return new Le(e,3,n,Z.min(),Z.min(),Lt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Le&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Le(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.position=e,this.inclusive=n}}function cS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Es(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n="asc"){this.field=e,this.dir=n}}function t5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{}class pe extends NC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new n5(e,n,r):n==="array-contains"?new s5(e,r):n==="in"?new UC(e,r):n==="not-in"?new o5(e,r):n==="array-contains-any"?new a5(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r5(e,r):new i5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Es(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class be extends NC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new be(e,n)}matches(e){return Ja(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ja(t){return t.op==="and"}function m_(t){return t.op==="or"}function M0(t){return DC(t)&&Ja(t)}function DC(t){for(const e of t.filters)if(e instanceof be)return!1;return!0}function g_(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(M0(t))return t.filters.map(e=>g_(e)).join(",");{const e=t.filters.map(n=>g_(n)).join(",");return`${t.op}(${e})`}}function VC(t,e){return t instanceof pe?function(r,i){return i instanceof pe&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)}(t,e):t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&VC(o,i.filters[a]),!0):!1}(t,e):void J()}function LC(t,e){const n=t.filters.concat(e);return be.create(n,t.op)}function MC(t){return t instanceof pe?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof be?function(n){return n.op.toString()+" {"+n.getFilters().map(MC).join(" ,")+"}"}(t):"Filter"}class n5 extends pe{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class r5 extends pe{constructor(e,n){super(e,"in",n),this.keys=FC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class i5 extends pe{constructor(e,n){super(e,"not-in",n),this.keys=FC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class s5 extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Oc(n)&&xc(n.arrayValue,this.value)}}class UC extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&xc(this.value.arrayValue,n)}}class o5 extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!xc(this.value.arrayValue,n)}}class a5 extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Oc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function y_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new l5(t,e,n,r,i,s,o)}function So(t){const e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>g_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e.ue=n}return e.ue}function ld(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dS(t.startAt,e.startAt)&&dS(t.endAt,e.endAt)}function Hf(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Kf(t,e){return t.filters.filter(n=>n instanceof pe&&n.field.isEqual(e))}function hS(t,e,n){let r=Gh,i=!0;for(const s of Kf(t,e)){let o=Gh,a=!0;switch(s.op){case"<":case"<=":o=Zj(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Gh}lS({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];lS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function fS(t,e,n){let r=Xi,i=!0;for(const s of Kf(t,e)){let o=Xi,a=!0;switch(s.op){case">=":case">":o=e5(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Xi}uS({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];uS({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BC(t,e,n,r,i,s,o,a){return new Pi(t,e,n,r,i,s,o,a)}function Il(t){return new Pi(t)}function pS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F0(t){return t.collectionGroup!==null}function xa(t){const e=Q(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ae(je.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Nc(s,r))}),n.has(je.keyField().canonicalString())||e.ce.push(new Nc(je.keyField(),r))}return e.ce}function cn(t){const e=Q(t);return e.le||(e.le=u5(e,xa(t))),e.le}function u5(t,e){if(t.limitType==="F")return y_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Nc(i.field,s)});const n=t.endAt?new Is(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Is(t.startAt.position,t.startAt.inclusive):null;return y_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function __(t,e){const n=t.filters.concat([e]);return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gf(t,e,n){return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ud(t,e){return ld(cn(t),cn(e))&&t.limitType===e.limitType}function jC(t){return`${So(cn(t))}|lt:${t.limitType}`}function ia(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>MC(i)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qa(i)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function cd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of xa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=cS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,xa(r),i)||r.endAt&&!function(o,a,l){const u=cS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,xa(r),i))}(t,e)}function $C(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zC(t){return(e,n)=>{let r=!1;for(const i of xa(t)){const s=c5(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function c5(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Es(l,u):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return PC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=new Ne(G.comparator);function vn(){return d5}const WC=new Ne(G.comparator);function Ru(...t){let e=WC;for(const n of t)e=e.insert(n.key,n);return e}function qC(t){let e=WC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Nr(){return Ku()}function HC(){return Ku()}function Ku(){return new Ci(t=>t.toString(),(t,e)=>t.isEqual(e))}const h5=new Ne(G.comparator),f5=new Ae(G.comparator);function oe(...t){let e=f5;for(const n of t)e=e.add(n);return e}const p5=new Ae(re);function U0(){return p5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function KC(t){return{integerValue:""+t}}function GC(t,e){return TC(e)?KC(e):B0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this._=void 0}}function m5(t,e,n){return t instanceof Ya?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jp(s)&&(s=Yp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof bo?JC(t,e):t instanceof Ro?YC(t,e):function(i,s){const o=QC(i,s),a=mS(o)+mS(i.Pe);return p_(o)&&p_(i.Pe)?KC(a):B0(i.serializer,a)}(t,e)}function g5(t,e,n){return t instanceof bo?JC(t,e):t instanceof Ro?YC(t,e):n}function QC(t,e){return t instanceof Xa?function(r){return p_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ya extends Zp{}class bo extends Zp{constructor(e){super(),this.elements=e}}function JC(t,e){const n=XC(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ro extends Zp{constructor(e){super(),this.elements=e}}function YC(t,e){let n=XC(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class Xa extends Zp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function mS(t){return Ue(t.integerValue||t.doubleValue)}function XC(t){return Oc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.field=e,this.transform=n}}function y5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bo&&i instanceof bo||r instanceof Ro&&i instanceof Ro?Ga(r.elements,i.elements,Wr):r instanceof Xa&&i instanceof Xa?Wr(r.Pe,i.Pe):r instanceof Ya&&i instanceof Ya}(t.transform,e.transform)}class _5{constructor(e,n){this.version=e,this.transformResults=n}}class $e{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $e}static exists(e){return new $e(void 0,e)}static updateTime(e){return new $e(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class em{}function ZC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sl(t.key,$e.none()):new Tl(t.key,t.data,$e.none());{const n=t.data,r=Lt.empty();let i=new Ae(je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ki(t.key,r,new _n(i.toArray()),$e.none())}}function v5(t,e,n){t instanceof Tl?function(i,s,o){const a=i.value.clone(),l=yS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ki?function(i,s,o){if(!Yh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=yS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(ek(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gu(t,e,n,r){return t instanceof Tl?function(s,o,a,l){if(!Yh(s.precondition,o))return a;const u=s.value.clone(),d=_S(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ki?function(s,o,a,l){if(!Yh(s.precondition,o))return a;const u=_S(s.fieldTransforms,l,o),d=o.data;return d.setAll(ek(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Yh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function w5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=QC(r.transform,i||null);s!=null&&(n===null&&(n=Lt.empty()),n.set(r.field,s))}return n||null}function gS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ga(r,i,(s,o)=>y5(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tl extends em{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ki extends em{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ek(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yS(t,e,n){const r=new Map;X(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,g5(o,a,n[i]))}return r}function _S(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,m5(s,o,e))}return r}class Sl extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j0 extends em{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&v5(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ZC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,r)=>gS(n,r))&&Ga(this.baseMutations,e.baseMutations,(n,r)=>gS(n,r))}}class z0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length);let i=function(){return h5}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new z0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,ge;function tk(t){switch(t){default:return J();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function nk(t){if(t===void 0)return ut("GRPC error has no .code"),F.UNKNOWN;switch(t){case pt.OK:return F.OK;case pt.CANCELLED:return F.CANCELLED;case pt.UNKNOWN:return F.UNKNOWN;case pt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pt.INTERNAL:return F.INTERNAL;case pt.UNAVAILABLE:return F.UNAVAILABLE;case pt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pt.NOT_FOUND:return F.NOT_FOUND;case pt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pt.ABORTED:return F.ABORTED;case pt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pt.DATA_LOSS:return F.DATA_LOSS;default:return J()}}(ge=pt||(pt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=new mo([4294967295,4294967295],0);function vS(t){const e=rk().encode(t),n=new uC;return n.update(e),new Uint8Array(n.digest())}function wS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,s],0)]}class q0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Au(`Invalid padding: ${n}`);if(r<0)throw new Au(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Au(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Au(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=mo.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(I5)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=vS(e),[r,i]=wS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new q0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=vS(e),[r,i]=wS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hd(Z.min(),i,new Ne(re),vn(),oe())}}class fd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fd(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class ik{constructor(e,n){this.targetId=e,this.me=n}}class sk{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ES{constructor(){this.fe=0,this.ge=IS(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new fd(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=IS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,X(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class T5{constructor(e){this.Le=e,this.Be=new Map,this.ke=vn(),this.qe=ph(),this.Qe=ph(),this.Ke=new Ne(re)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(Hf(s))if(r===0){const o=new G(s.path);this.We(n,o,Le.newNoDocument(o,Z.min()))}else X(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ei(r).toUint8Array()}catch(l){if(l instanceof CC)return zr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new q0(o,i,s)}catch(l){return zr(l instanceof Au?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Hf(a.target)){const l=new G(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,Le.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=oe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new hd(e,n,this.Ke,this.ke,r);return this.ke=vn(),this.qe=ph(),this.Qe=ph(),this.Ke=new Ne(re),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new ES,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new Ae(re),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ae(re),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ES),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ph(){return new Ne(G.comparator)}function IS(){return new Ne(G.comparator)}const S5={asc:"ASCENDING",desc:"DESCENDING"},b5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R5={and:"AND",or:"OR"};class A5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function v_(t,e){return t.useProto3Json||ad(e)?e:{value:e}}function Za(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ok(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P5(t,e){return Za(t,e.toTimestamp())}function ct(t){return X(!!t),Z.fromTimestamp(function(n){const r=wi(n);return new ze(r.seconds,r.nanos)}(t))}function H0(t,e){return w_(t,e).canonicalString()}function w_(t,e){const n=function(i){return new fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ak(t){const e=fe.fromString(t);return X(yk(e)),e}function Dc(t,e){return H0(t.databaseId,e.path)}function Ur(t,e){const n=ak(e);if(n.get(1)!==t.databaseId.projectId)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(ck(n))}function lk(t,e){return H0(t.databaseId,e)}function uk(t){const e=ak(t);return e.length===4?fe.emptyPath():ck(e)}function E_(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ck(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TS(t,e,n){return{name:Dc(t,e),fields:n.value.mapValue.fields}}function dk(t,e,n){const r=Ur(t,e.name),i=ct(e.updateTime),s=e.createTime?ct(e.createTime):Z.min(),o=new Lt({mapValue:{fields:e.fields}}),a=Le.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function C5(t,e){return"found"in e?function(r,i){X(!!i.found),i.found.name,i.found.updateTime;const s=Ur(r,i.found.name),o=ct(i.found.updateTime),a=i.found.createTime?ct(i.found.createTime):Z.min(),l=new Lt({mapValue:{fields:i.found.fields}});return Le.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){X(!!i.missing),X(!!i.readTime);const s=Ur(r,i.missing),o=ct(i.readTime);return Le.newNoDocument(s,o)}(t,e):J()}function k5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(X(d===void 0||typeof d=="string"),st.fromBase64String(d||"")):(X(d===void 0||d instanceof Buffer||d instanceof Uint8Array),st.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?F.UNKNOWN:nk(u.code);return new $(d,u.message||"")}(o);n=new sk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ur(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):Z.min(),a=new Lt({mapValue:{fields:r.document.fields}}),l=Le.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Xh(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ur(t,r.document),s=r.readTime?ct(r.readTime):Z.min(),o=Le.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ur(t,r.document),s=r.removedTargetIds||[];n=new Xh([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new E5(i,s),a=r.targetId;n=new ik(a,o)}}return n}function Vc(t,e){let n;if(e instanceof Tl)n={update:TS(t,e.key,e.value)};else if(e instanceof Sl)n={delete:Dc(t,e.key)};else if(e instanceof ki)n={update:TS(t,e.key,e.data),updateMask:L5(e.fieldMask)};else{if(!(e instanceof j0))return J();n={verify:Dc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ya)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:P5(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function I_(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?$e.updateTime(ct(s.updateTime)):s.exists!==void 0?$e.exists(s.exists):$e.none()}(e.currentDocument):$e.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME"),l=new Ya;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new bo(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new Ro(d)}else"increment"in a?l=new Xa(o,a.increment):J();const u=je.fromServerFormat(a.fieldPath);return new dd(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ur(t,e.update.name),s=new Lt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new _n(u.map(d=>je.fromServerFormat(d)))}(e.updateMask);return new ki(i,s,o,n,r)}return new Tl(i,s,n,r)}if(e.delete){const i=Ur(t,e.delete);return new Sl(i,n)}if(e.verify){const i=Ur(t,e.verify);return new j0(i,n)}return J()}function x5(t,e){return t&&t.length>0?(X(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ct(i.updateTime):ct(s);return o.isEqual(Z.min())&&(o=ct(s)),new _5(o,i.transformResults||[])}(n,e))):[]}function hk(t,e){return{documents:[lk(t,e.path)]}}function fk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lk(t,i);const s=function(u){if(u.length!==0)return gk(be.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:sa(f.field),direction:N5(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=v_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:n,parent:i}}function pk(t){let e=uk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){X(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=mk(h);return f instanceof be&&M0(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Nc(oa(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ad(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Is(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,m=h.values||[];return new Is(m,f)}(n.endAt)),BC(e,i,o,s,a,"F",l,u)}function O5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oa(n.unaryFilter.field);return pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=oa(n.unaryFilter.field);return pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oa(n.unaryFilter.field);return pe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oa(n.unaryFilter.field);return pe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return pe.create(oa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return be.create(n.compositeFilter.filters.map(r=>mk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function N5(t){return S5[t]}function D5(t){return b5[t]}function V5(t){return R5[t]}function sa(t){return{fieldPath:t.canonicalString()}}function oa(t){return je.fromServerFormat(t.fieldPath)}function gk(t){return t instanceof pe?function(n){if(n.op==="=="){if(aS(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NAN"}};if(oS(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aS(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NAN"}};if(oS(n.value))return{unaryFilter:{field:sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(n.field),op:D5(n.op),value:n.value}}}(t):t instanceof be?function(n){const r=n.getFilters().map(i=>gk(i));return r.length===1?r[0]:{compositeFilter:{op:V5(n.op),filters:r}}}(t):J()}function L5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=st.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.ht=e}}function M5(t,e){let n;if(e.document)n=dk(t.ht,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=G.fromSegments(e.noDocument.path),i=Po(e.noDocument.readTime);n=Le.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return J();{const r=G.fromSegments(e.unknownDocument.path),i=Po(e.unknownDocument.version);n=Le.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new ze(i[0],i[1]);return Z.fromTimestamp(s)}(e.readTime)),n}function SS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Dc(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Za(s,o.version.toTimestamp()),createTime:Za(s,o.createTime.toTimestamp())}}(t.ht,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ao(e.version)};else{if(!e.isUnknownDocument())return J();r.unknownDocument={path:n.path.toArray(),version:Ao(e.version)}}return r}function Qf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ao(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Po(t){const e=new ze(t.seconds,t.nanoseconds);return Z.fromTimestamp(e)}function Xs(t,e){const n=(e.baseMutations||[]).map(s=>I_(t.ht,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>I_(t.ht,s)),i=ze.fromMillis(e.localWriteTimeMs);return new $0(e.batchId,i,n,r)}function Pu(t){const e=Po(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Po(t.lastLimboFreeSnapshotVersion):Z.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return X(s.documents.length===1),cn(Il(uk(s.documents[0])))}(t.query):function(s){return cn(pk(s))}(t.query),new ui(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,st.fromBase64String(t.resumeToken))}function vk(t,e){const n=Ao(e.snapshotVersion),r=Ao(e.lastLimboFreeSnapshotVersion);let i;i=Hf(e.target)?hk(t.ht,e.target):fk(t.ht,e.target).ct;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:So(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function K0(t){const e=pk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gf(e,e.limit,"L"):e}function qg(t,e){return new W0(e.largestBatchId,I_(t.ht,e.overlayMutation))}function bS(t,e){const n=e.path.lastSegment();return[t,Yt(e.path.popLast()),n]}function RS(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ao(r.readTime),documentKey:Yt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{getBundleMetadata(e,n){return AS(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Po(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return AS(e).put(function(i){return{bundleId:i.id,createTime:Ao(ct(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return PS(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:K0(s.bundledQuery),readTime:Po(s.readTime)}}(r)})}saveNamedQuery(e,n){return PS(e).put(function(i){return{name:i.name,readTime:Ao(ct(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function AS(t){return St(t,"bundles")}function PS(t){return St(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.serializer=e,this.userId=n}static Pt(e,n){const r=n.uid||"";return new tm(e,r)}getOverlay(e,n){return su(e).get(bS(this.userId,n)).next(r=>r?qg(this.serializer,r):null)}getOverlays(e,n){const r=Nr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new W0(n,o);i.push(this.Tt(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Yt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(su(e).j("collectionPathOverlayIndex",a))}),L.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Nr(),s=Yt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return su(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=qg(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Nr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return su(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,d)=>{const h=qg(this.serializer,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}Tt(e,n){return su(e).put(function(i,s,o){const[a,l,u]=bS(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Vc(i.ht,o.mutation)}}(this.serializer,this.userId,n))}}function su(t){return St(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{It(e){return St(e,"globals")}getSessionToken(e){return this.It(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?st.fromUint8Array(r):st.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.It(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(){}Et(e,n){this.dt(e,n),n.At()}dt(e,n){if("nullValue"in e)this.Rt(n,5);else if("booleanValue"in e)this.Rt(n,10),n.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(n,15),n.Vt(Ue(e.integerValue));else if("doubleValue"in e){const r=Ue(e.doubleValue);isNaN(r)?this.Rt(n,13):(this.Rt(n,15),Cc(r)?n.Vt(0):n.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(n,20),typeof r=="string"&&(r=wi(r)),n.ft(`${r.seconds||""}`),n.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,n),this.yt(n);else if("bytesValue"in e)this.Rt(n,30),n.wt(Ei(e.bytesValue)),this.yt(n);else if("referenceValue"in e)this.St(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Rt(n,45),n.Vt(r.latitude||0),n.Vt(r.longitude||0)}else"mapValue"in e?kC(e)?this.Rt(n,Number.MAX_SAFE_INTEGER):Xp(e)?this.bt(e.mapValue,n):(this.Dt(e.mapValue,n),this.yt(n)):"arrayValue"in e?(this.vt(e.arrayValue,n),this.yt(n)):J()}gt(e,n){this.Rt(n,25),this.Ct(e,n)}Ct(e,n){n.ft(e)}Dt(e,n){const r=e.fields||{};this.Rt(n,55);for(const i of Object.keys(r))this.gt(i,n),this.dt(r[i],n)}bt(e,n){var r,i;const s=e.fields||{};this.Rt(n,53);const o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Rt(n,15),n.Vt(Ue(a)),this.gt(o,n),this.dt(s[o],n)}vt(e,n){const r=e.values||[];this.Rt(n,50);for(const i of r)this.dt(i,n)}St(e,n){this.Rt(n,37),G.fromName(e).path.forEach(r=>{this.Rt(n,60),this.Ct(r,n)})}Rt(e,n){e.Vt(n)}yt(e){e.Vt(2)}}Zs.Ft=new Zs;function B5(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function CS(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=B5(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class j5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Mt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.xt(r.value),r=n.next();this.Ot()}Nt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Lt(r.value),r=n.next();this.Bt()}kt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.xt(r);else if(r<2048)this.xt(960|r>>>6),this.xt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.xt(480|r>>>12),this.xt(128|63&r>>>6),this.xt(128|63&r);else{const i=n.codePointAt(0);this.xt(240|i>>>18),this.xt(128|63&i>>>12),this.xt(128|63&i>>>6),this.xt(128|63&i)}}this.Ot()}qt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Lt(r);else if(r<2048)this.Lt(960|r>>>6),this.Lt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Lt(480|r>>>12),this.Lt(128|63&r>>>6),this.Lt(128|63&r);else{const i=n.codePointAt(0);this.Lt(240|i>>>18),this.Lt(128|63&i>>>12),this.Lt(128|63&i>>>6),this.Lt(128|63&i)}}this.Bt()}Qt(e){const n=this.Kt(e),r=CS(n);this.$t(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Ut(e){const n=this.Kt(e),r=CS(n);this.$t(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Wt(){this.Gt(255),this.Gt(255)}zt(){this.jt(255),this.jt(255)}reset(){this.position=0}seed(e){this.$t(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ht(){return this.buffer.slice(0,this.position)}Kt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}xt(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(n)}Lt(e){const n=255&e;n===0?(this.jt(0),this.jt(255)):n===255?(this.jt(255),this.jt(0)):this.jt(e)}Ot(){this.Gt(0),this.Gt(1)}Bt(){this.jt(0),this.jt(1)}Gt(e){this.$t(1),this.buffer[this.position++]=e}jt(e){this.$t(1),this.buffer[this.position++]=~e}$t(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class $5{constructor(e){this.Jt=e}wt(e){this.Jt.Mt(e)}ft(e){this.Jt.kt(e)}Vt(e){this.Jt.Qt(e)}At(){this.Jt.Wt()}}class z5{constructor(e){this.Jt=e}wt(e){this.Jt.Nt(e)}ft(e){this.Jt.qt(e)}Vt(e){this.Jt.Ut(e)}At(){this.Jt.zt()}}class ou{constructor(){this.Jt=new j5,this.Yt=new $5(this.Jt),this.Zt=new z5(this.Jt)}seed(e){this.Jt.seed(e)}Xt(e){return e===0?this.Yt:this.Zt}Ht(){return this.Jt.Ht()}reset(){this.Jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}en(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new eo(this.indexId,this.documentKey,this.arrayValue,r)}}function Ui(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=kS(t.arrayValue,e.arrayValue),n!==0?n:(n=kS(t.directionalValue,e.directionalValue),n!==0?n:G.comparator(t.documentKey,e.documentKey)))}function kS(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.tn=new Ae((n,r)=>je.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.nn=e.orderBy,this.rn=[];for(const n of e.filters){const r=n;r.isInequality()?this.tn=this.tn.add(r):this.rn.push(r)}}get sn(){return this.tn.size>1}on(e){if(X(e.collectionGroup===this.collectionId),this.sn)return!1;const n=d_(e);if(n!==void 0&&!this._n(n))return!1;const r=Qs(e);let i=new Set,s=0,o=0;for(;s<r.length&&this._n(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.tn.size>0){const a=this.tn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.an(a,l)||!this.un(this.nn[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.nn.length||!this.un(this.nn[o++],a))return!1}return!0}cn(){if(this.sn)return null;let e=new Ae(je.comparator);const n=[];for(const r of this.rn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Hh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Hh(r.field,0))}for(const r of this.nn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Hh(r.field,r.dir==="asc"?0:1)));return new qf(qf.UNKNOWN_ID,this.collectionId,n,Pc.empty())}_n(e){for(const n of this.rn)if(this.an(n,e))return!0;return!1}an(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}un(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t){var e,n;if(X(t instanceof pe||t instanceof be),t instanceof pe){if(t instanceof UC){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>pe.create(t.field,"==",s)))||[];return be.create(i,"or")}return t}const r=t.filters.map(i=>wk(i));return be.create(r,t.op)}function W5(t){if(t.getFilters().length===0)return[];const e=b_(wk(t));return X(Ek(e)),T_(e)||S_(e)?[e]:e.getFilters()}function T_(t){return t instanceof pe}function S_(t){return t instanceof be&&M0(t)}function Ek(t){return T_(t)||S_(t)||function(n){if(n instanceof be&&m_(n)){for(const r of n.getFilters())if(!T_(r)&&!S_(r))return!1;return!0}return!1}(t)}function b_(t){if(X(t instanceof pe||t instanceof be),t instanceof pe)return t;if(t.filters.length===1)return b_(t.filters[0]);const e=t.filters.map(r=>b_(r));let n=be.create(e,t.op);return n=Jf(n),Ek(n)?n:(X(n instanceof be),X(Ja(n)),X(n.filters.length>1),n.filters.reduce((r,i)=>G0(r,i)))}function G0(t,e){let n;return X(t instanceof pe||t instanceof be),X(e instanceof pe||e instanceof be),n=t instanceof pe?e instanceof pe?function(i,s){return be.create([i,s],"and")}(t,e):OS(t,e):e instanceof pe?OS(e,t):function(i,s){if(X(i.filters.length>0&&s.filters.length>0),Ja(i)&&Ja(s))return LC(i,s.getFilters());const o=m_(i)?i:s,a=m_(i)?s:i,l=o.filters.map(u=>G0(u,a));return be.create(l,"or")}(t,e),Jf(n)}function OS(t,e){if(Ja(e))return LC(e,t.getFilters());{const n=e.filters.map(r=>G0(t,r));return be.create(n,"or")}}function Jf(t){if(X(t instanceof pe||t instanceof be),t instanceof pe)return t;const e=t.getFilters();if(e.length===1)return Jf(e[0]);if(DC(t))return t;const n=e.map(i=>Jf(i)),r=[];return n.forEach(i=>{i instanceof pe?r.push(i):i instanceof be&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:be.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.ln=new Q0}addToCollectionParentIndex(e,n){return this.ln.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Un.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class Q0{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ae(fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ae(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Uint8Array(0);class H5{constructor(e,n){this.databaseId=n,this.hn=new Q0,this.Pn=new Ci(r=>So(r),(r,i)=>ld(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.hn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.hn.add(n)});const s={collectionId:r,parent:Yt(i)};return NS(e).put(s)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[yC(n),""],!1,!0);return NS(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Or(o.parent))}return r})}addFieldIndex(e,n){const r=au(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Jo(e);return s.next(a=>{o.put(RS(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=au(e),i=Jo(e),s=Qo(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=au(e),r=Qo(e),i=Jo(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.Tn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new xS(r).cn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Qo(e);let i=!0;const s=new Map;return L.forEach(this.Tn(n),o=>this.In(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=oe();const a=[];return L.forEach(s,(l,u)=>{z("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`}(l)} to execute ${So(n)}`);const d=function(I,k){const x=d_(k);if(x===void 0)return null;for(const D of Kf(I,x.fieldPath))switch(D.op){case"array-contains-any":return D.value.arrayValue.values||[];case"array-contains":return[D.value]}return null}(u,l),h=function(I,k){const x=new Map;for(const D of Qs(k))for(const b of Kf(I,D.fieldPath))switch(b.op){case"==":case"in":x.set(D.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return x.set(D.fieldPath.canonicalString(),b.value),Array.from(x.values())}return null}(u,l),f=function(I,k){const x=[];let D=!0;for(const b of Qs(k)){const T=b.kind===0?hS(I,b.fieldPath,I.startAt):fS(I,b.fieldPath,I.startAt);x.push(T.value),D&&(D=T.inclusive)}return new Is(x,D)}(u,l),m=function(I,k){const x=[];let D=!0;for(const b of Qs(k)){const T=b.kind===0?fS(I,b.fieldPath,I.endAt):hS(I,b.fieldPath,I.endAt);x.push(T.value),D&&(D=T.inclusive)}return new Is(x,D)}(u,l),_=this.En(l,u,f),w=this.En(l,u,m),S=this.dn(l,u,h),E=this.An(l.indexId,d,_,f.inclusive,w,m.inclusive,S);return L.forEach(E,v=>r.G(v,n.limit).next(I=>{I.forEach(k=>{const x=G.fromSegments(k.documentKey);o.has(x)||(o=o.add(x),a.push(x))})}))}).next(()=>a)}return L.resolve(null)})}Tn(e){let n=this.Pn.get(e);return n||(e.filters.length===0?n=[e]:n=W5(be.create(e.filters,"and")).map(r=>y_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Pn.set(e,n),n)}An(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Rn(n[h/u]):mh,m=this.Vn(e,f,r[h%u],i),_=this.mn(e,f,s[h%u],o),w=a.map(S=>this.Vn(e,f,S,!0));d.push(...this.createRange(m,_,w))}return d}Vn(e,n,r,i){const s=new eo(e,G.empty(),n,r);return i?s:s.en()}mn(e,n,r,i){const s=new eo(e,G.empty(),n,r);return i?s.en():s}In(e,n){const r=new xS(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.on(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Tn(n);return L.forEach(i,s=>this.In(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new Ae(je.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:u=u.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}fn(e,n){const r=new ou;for(const i of Qs(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Xt(i.kind);Zs.Ft.Et(s,o)}return r.Ht()}Rn(e){const n=new ou;return Zs.Ft.Et(e,n.Xt(0)),n.Ht()}gn(e,n){const r=new ou;return Zs.Ft.Et(To(this.databaseId,n),r.Xt(function(s){const o=Qs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ht()}dn(e,n,r){if(r===null)return[];let i=[];i.push(new ou);let s=0;for(const o of Qs(e)){const a=r[s++];for(const l of i)if(this.pn(n,o.fieldPath)&&Oc(a))i=this.yn(i,o,a);else{const u=l.Xt(o.kind);Zs.Ft.Et(a,u)}}return this.wn(i)}En(e,n,r){return this.dn(e,n,r.position)}wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ht();return n}yn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new ou;l.seed(a.Ht()),Zs.Ft.Et(o,l.Xt(n.kind)),s.push(l)}return s}pn(e,n){return!!e.filters.find(r=>r instanceof pe&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=au(e),i=Jo(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return L.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new Pc(h.sequenceNumber,new Un(Po(h.readTime),new G(Or(h.documentKey)),h.largestBatchId)):Pc.empty(),m=d.fields.map(([_,w])=>new Hh(je.fromServerFormat(_),w));return new qf(d.indexId,d.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:re(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=au(e),s=Jo(e);return this.Sn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>s.put(RS(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,l=>this.bn(e,i,l).next(u=>{const d=this.Dn(s,l);return u.isEqual(d)?L.resolve():this.vn(e,s,l,u,d)}))))})}Cn(e,n,r,i){return Qo(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Fn(e,n,r,i){return Qo(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}bn(e,n,r){const i=Qo(e);let s=new Ae(Ui);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{s=s.add(new eo(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}Dn(e,n){let r=new Ae(Ui);const i=this.fn(n,e);if(i==null)return r;const s=d_(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Oc(o))for(const a of o.arrayValue.values||[])r=r.add(new eo(n.indexId,e.key,this.Rn(a),i))}else r=r.add(new eo(n.indexId,e.key,mh,i));return r}vn(e,n,r,i,s){z("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,d,h,f){const m=l.getIterator(),_=u.getIterator();let w=Go(m),S=Go(_);for(;w||S;){let E=!1,v=!1;if(w&&S){const I=d(w,S);I<0?v=!0:I>0&&(E=!0)}else w!=null?v=!0:E=!0;E?(h(S),S=Go(_)):v?(f(w),w=Go(m)):(w=Go(m),S=Go(_))}}(i,s,Ui,a=>{o.push(this.Cn(e,n,r,a))},a=>{o.push(this.Fn(e,n,r,a))}),L.waitFor(o)}Sn(e){let n=1;return Jo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ui(o,a)).filter((o,a,l)=>!a||Ui(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Ui(o,e),l=Ui(o,n);if(a===0)i[0]=e.en();else if(a>0&&l<0)i.push(o),i.push(o.en());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Mn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,mh,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,mh,[]];s.push(IDBKeyRange.bound(a,l))}return s}Mn(e,n){return Ui(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(DS)}getMinOffset(e,n){return L.mapArray(this.Tn(n),r=>this.In(e,r).next(i=>i||J())).next(DS)}}function NS(t){return St(t,"collectionParents")}function Qo(t){return St(t,"indexEntries")}function au(t){return St(t,"indexConfiguration")}function Jo(t){return St(t,"indexState")}function DS(t){X(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;D0(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Un(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{X(a===1)}));const u=[];for(const d of n.mutations){const h=SC(e,d.key.path,n.batchId);s.push(i.delete(h)),u.push(d.key)}return L.waitFor(s).next(()=>u)}function Yf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw J();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);class nm{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.xn={}}static Pt(e,n,r,i){X(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new nm(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=aa(e),o=Bi(e);return o.add({}).next(a=>{X(typeof a=="number");const l=new $0(a,n,r,i),u=function(m,_,w){const S=w.baseMutations.map(v=>Vc(m.ht,v)),E=w.mutations.map(v=>Vc(m.ht,v));return{userId:_,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:S,mutations:E}}(this.serializer,this.userId,l),d=[];let h=new Ae((f,m)=>re(f.canonicalString(),m.canonicalString()));for(const f of i){const m=SC(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(u)),d.push(s.put(m,Oj))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.xn[a]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Bi(e).get(n).next(r=>r?(X(r.userId===this.userId),Xs(this.serializer,r)):null)}On(e,n){return this.xn[n]?L.resolve(this.xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.xn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Bi(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(X(a.batchId>=r),s=Xs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).U("userMutationsIndex",n).next(r=>r.map(i=>Xs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Kh(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return aa(e).J({range:i},(o,a,l)=>{const[u,d,h]=o,f=Or(d);if(u===this.userId&&n.path.isEqual(f))return Bi(e).get(h).next(m=>{if(!m)throw J();X(m.userId===this.userId),s.push(Xs(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ae(re);const i=[];return n.forEach(s=>{const o=Kh(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=aa(e).J({range:a},(u,d,h)=>{const[f,m,_]=u,w=Or(m);f===this.userId&&s.path.isEqual(w)?r=r.add(_):h.done()});i.push(l)}),L.waitFor(i).next(()=>this.Nn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Kh(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Ae(re);return aa(e).J({range:o},(l,u,d)=>{const[h,f,m]=l,_=Or(f);h===this.userId&&r.isPrefixOf(_)?_.length===i&&(a=a.add(m)):d.done()}).next(()=>this.Nn(e,a))}Nn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Bi(e).get(s).next(o=>{if(o===null)throw J();X(o.userId===this.userId),r.push(Xs(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Ik(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Ln(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Ln(e){delete this.xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return aa(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Or(s[1]);i.push(l)}else a.done()}).next(()=>{X(i.length===0)})})}containsKey(e,n){return Tk(e,this.userId,n)}Bn(e){return Sk(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Tk(t,e,n){const r=Kh(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return aa(t).J({range:s,H:!0},(a,l,u)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function Bi(t){return St(t,"mutations")}function aa(t){return St(t,"documentMutations")}function Sk(t){return St(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Co(0)}static Qn(){return new Co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Kn(e).next(n=>{const r=new Co(n.highestTargetId);return n.highestTargetId=r.next(),this.$n(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Kn(e).next(n=>Z.fromTimestamp(new ze(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Kn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Kn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.$n(e,i)))}addTargetData(e,n){return this.Un(e,n).next(()=>this.Kn(e).next(r=>(r.targetCount+=1,this.Wn(n,r),this.$n(e,r))))}updateTargetData(e,n){return this.Un(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Yo(e).delete(n.targetId)).next(()=>this.Kn(e)).next(r=>(X(r.targetCount>0),r.targetCount-=1,this.$n(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Yo(e).J((o,a)=>{const l=Pu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Yo(e).J((r,i)=>{const s=Pu(i);n(s)})}Kn(e){return LS(e).get("targetGlobalKey").next(n=>(X(n!==null),n))}$n(e,n){return LS(e).put("targetGlobalKey",n)}Un(e,n){return Yo(e).put(vk(this.serializer,n))}Wn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Kn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=So(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Yo(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Pu(a);ld(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Gi(e);return n.forEach(o=>{const a=Yt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=Gi(e);return L.forEach(n,s=>{const o=Yt(s.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Gi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gi(e);let s=oe();return i.J({range:r,H:!0},(o,a,l)=>{const u=Or(o[1]),d=new G(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=Yt(n.path),i=IDBKeyRange.bound([r],[yC(r)],!1,!0);let s=0;return Gi(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ut(e,n){return Yo(e).get(n).next(r=>r?Pu(r):null)}}function Yo(t){return St(t,"targets")}function LS(t){return St(t,"targetGlobal")}function Gi(t){return St(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS([t,e],[n,r]){const i=re(t,n);return i===0?re(e,r):i}class G5{constructor(e){this.Gn=e,this.buffer=new Ae(MS),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ls(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Vs(n)}await this.Yn(3e5)})}}class Q5{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(yn.oe);const r=new G5(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(VS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VS):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),ra()<=de.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Rk(t,e){return new Q5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,n){this.db=e,this.garbageCollector=Rk(this,n)}Xn(e){const n=this.nr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}er(e,n){return this.rr(e,(r,i)=>n(i))}addReference(e,n,r){return gh(e,r)}removeReference(e,n,r){return gh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return gh(e,n)}ir(e,n){return function(i,s){let o=!1;return Sk(i).Y(a=>Tk(i,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.rr(e,(o,a)=>{if(a<=n){const l=this.ir(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Z.min()),Gi(e).delete(function(h){return[0,Yt(h.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return gh(e,n)}rr(e,n){const r=Gi(e);let i,s=yn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==yn.oe&&n(new G(Or(i)),s),s=u,i=l):s=yn.oe}).next(()=>{s!==yn.oe&&n(new G(Or(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gh(t,e){return Gi(t).put(function(r,i){return{targetId:0,path:Yt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.changes=new Ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Le.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ws(e).put(r)}removeEntry(e,n,r){return Ws(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Qf(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.sr(e,r)))}getEntry(e,n){let r=Le.newInvalidDocument(n);return Ws(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(lu(n))},(i,s)=>{r=this._r(n,s)}).next(()=>r)}ar(e,n){let r={size:0,document:Le.newInvalidDocument(n)};return Ws(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(lu(n))},(i,s)=>{r={document:this._r(n,s),size:Yf(s)}}).next(()=>r)}getEntries(e,n){let r=vn();return this.ur(e,n,(i,s)=>{const o=this._r(i,s);r=r.insert(i,o)}).next(()=>r)}cr(e,n){let r=vn(),i=new Ne(G.comparator);return this.ur(e,n,(s,o)=>{const a=this._r(s,o);r=r.insert(s,a),i=i.insert(s,Yf(o))}).next(()=>({documents:r,lr:i}))}ur(e,n,r){if(n.isEmpty())return L.resolve();let i=new Ae(BS);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(lu(i.first()),lu(i.last())),o=i.getIterator();let a=o.getNext();return Ws(e).J({index:"documentKeyIndex",range:s},(l,u,d)=>{const h=G.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&BS(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(lu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Qf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ws(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let d=vn();for(const h of u){const f=this._r(G.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(cd(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=vn();const o=US(n,r),a=US(n,Un.max());return Ws(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,d)=>{const h=this._r(G.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new X5(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return FS(e).get("remoteDocumentGlobalKey").next(n=>(X(!!n),n))}sr(e,n){return FS(e).put("remoteDocumentGlobalKey",n)}_r(e,n){if(n){const r=M5(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Z.min())))return r}return Le.newInvalidDocument(e)}}function Pk(t){return new Y5(t)}class X5 extends Ak{constructor(e,n){super(),this.hr=e,this.trackRemovals=n,this.Pr=new Ci(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ae((s,o)=>re(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Pr.get(s);if(n.push(this.hr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=SS(this.hr.serializer,o);i=i.add(s.path.popLast());const u=Yf(l);r+=u-a.size,n.push(this.hr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=SS(this.hr.serializer,o.convertToNoDocument(Z.min()));n.push(this.hr.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.hr.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.hr.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.hr.ar(e,n).next(r=>(this.Pr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.hr.cr(e,n).next(({documents:r,lr:i})=>(i.forEach((s,o)=>{this.Pr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function FS(t){return St(t,"remoteDocumentGlobal")}function Ws(t){return St(t,"remoteDocumentsV14")}function lu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function US(t,e){const n=e.documentKey.path.toArray();return[t,Qf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function BS(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=re(n[s],r[s]),i)return i;return i=re(n.length,r.length),i||(i=re(n[n.length-2],r[r.length-2]),i||re(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gu(r.mutation,i,_n.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ru();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Nr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vn();const o=Ku(),a=function(){return Ku()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ki)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Gu(d.mutation,u,d.mutation.getFieldMask(),ze.now())):o.set(u.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new Z5(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ku();let i=new Ne((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||_n.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=HC();d.forEach(f=>{if(!s.has(f)){const m=ZC(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Nr());let a=-1,l=s;return o.next(u=>L.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,oe())).next(d=>({batchId:a,changes:qC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ru();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const u=function(h,f){return new Pi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Le.newInvalidDocument(d)))});let a=Ru();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Gu(d.mutation,u,_n.empty(),ze.now()),cd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return L.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ct(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:K0(i.bundledQuery),readTime:ct(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.overlays=new Ne(G.comparator),this.Er=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Nr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Nr(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Nr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Nr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return L.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new W0(n,r));let s=this.Er.get(n);s===void 0&&(s=oe(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.dr=new Ae(bt.Ar),this.Rr=new Ae(bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new bt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new G(new fe([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new G(new fe([])),r=new bt(n,e),i=new bt(n,e+1);let s=oe();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return G.comparator(e.key,n.key)||re(e.br,n.br)}static Vr(e,n){return re(e.br,n.br)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new Ae(bt.Ar)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ae(re);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),L.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new bt(new G(s),0);let a=new Ae(re);return this.vr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.br)),!0)},o),L.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){X(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return L.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new bt(n,0),i=this.vr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.Nr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Le.newInvalidDocument(n))}getEntries(e,n){let r=vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Le.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vn();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||D0(vC(d),r)<=0||(i.has(d.key)||cd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Lr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new s$(this)}getSize(e){return L.resolve(this.size)}}class s$ extends Ak{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.persistence=e,this.Br=new Ci(n=>So(n),ld),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.kr=0,this.qr=new J0,this.targetCount=0,this.Qr=Co.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),L.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Co(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Un(n),L.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.Kr={},this.overlays={},this.$r=new yn(0),this.Ur=!1,this.Ur=!0,this.Wr=new n$,this.referenceDelegate=e(this),this.Gr=new o$(this),this.indexManager=new q5,this.remoteDocumentCache=function(i){return new i$(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new _k(n),this.jr=new e$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new r$(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new a$(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return L.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class a$ extends EC{constructor(e){super(),this.currentSequenceNumber=e}}class rm{constructor(e){this.persistence=e,this.Zr=new J0,this.Xr=null}static ei(e){return new rm(e)}get ti(){if(this.Xr)return this.Xr;throw J()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),L.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.ti,r=>{const i=G.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return L.or([()=>L.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Xf{constructor(e,n){this.persistence=e,this.ri=new Ci(r=>Yt(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Rk(this,n)}static ei(e,n){return new Xf(e,n)}Hr(){}Jr(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return L.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?L.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Z.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),L.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qh(e.data.value)),n}ir(e,n,r){return L.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.serializer=e}O(e,n,r,i){const s=new Qp("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tS,{unique:!0}),l.createObjectStore("documentMutations")}(e),jS(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),jS(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Z.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tS,{unique:!0});const h=u.store("mutations"),f=d.map(m=>h.put(m));return L.waitFor(f)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ii(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.si(s)))),r<7&&i>=7&&(o=o.next(()=>this.oi(s))),r<8&&i>=8&&(o=o.next(()=>this._i(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ai(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Wj});u.createIndex("collectionPathOverlayIndex",qj,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Hj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:Nj});u.createIndex("documentKeyIndex",Dj),u.createIndex("collectionGroupIndex",Vj)}(e)).next(()=>this.ui(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ci(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Bj}).createIndex("sequenceNumberIndex",jj,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:$j}).createIndex("documentKeyIndex",zj,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),o}si(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Yf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ii(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{X(l.userId===s.userId);const u=Xs(this.serializer,l);return Ik(e,s.userId,u).next(()=>{})}))}))}oi(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new fe(o),u=function(h){return[0,Yt(h)]}(l);s.push(n.get(u).next(d=>d?L.resolve():(h=>n.put({targetId:0,path:Yt(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(s))})}_i(e,n){e.createObjectStore("collectionParents",{keyPath:Uj});const r=n.store("collectionParents"),i=new Q0,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Yt(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new fe(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],u)=>{const d=Or(a);return s(d.popLast())}))}ai(e){const n=e.store("targets");return n.J((r,i)=>{const s=Pu(i),o=vk(this.serializer,s);return n.put(o)})}ui(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(h){return h.document?new G(fe.fromString(h.document.name).popFirst(5)):h.noDocument?G.fromSegments(h.noDocument.path):h.unknownDocument?G.fromSegments(h.unknownDocument.path):J()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>L.waitFor(i))}ci(e,n){const r=n.store("mutations"),i=Pk(this.serializer),s=new Y0(rm.ei,this.serializer.ht);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var u;let d=(u=a.get(l.userId))!==null&&u!==void 0?u:oe();Xs(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),L.forEach(a,(l,u)=>{const d=new At(u),h=tm.Pt(this.serializer,d),f=s.getIndexManager(d),m=nm.Pt(d,this.serializer,f,s.referenceDelegate);return new Ck(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new h_(n,yn.oe),l).next()})})}}function jS(t){t.createObjectStore("targetDocuments",{keyPath:Mj}).createIndex("documentTargetsIndex",Fj,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lj,{unique:!0}),t.createObjectStore("targetGlobal")}const Hg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class X0{constructor(e,n,r,i,s,o,a,l,u,d,h=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.li=s,this.window=o,this.document=a,this.hi=u,this.Pi=d,this.Ti=h,this.$r=null,this.Ur=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ii=null,this.inForeground=!1,this.Ei=null,this.di=null,this.Ai=Number.NEGATIVE_INFINITY,this.Ri=f=>Promise.resolve(),!X0.p())throw new $(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new J5(this,i),this.Vi=n+"main",this.serializer=new _k(l),this.mi=new Fr(this.Vi,this.Ti,new l$(this.serializer)),this.Wr=new U5,this.Gr=new K5(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Pk(this.serializer),this.jr=new F5,this.window&&this.window.localStorage?this.fi=this.window.localStorage:(this.fi=null,d===!1&&ut("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(F.FAILED_PRECONDITION,Hg);return this.pi(),this.yi(),this.wi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Gr.getHighestSequenceNumber(e))}).then(e=>{this.$r=new yn(e,this.hi)}).then(()=>{this.Ur=!0}).catch(e=>(this.mi&&this.mi.close(),Promise.reject(e)))}Si(e){return this.Ri=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.mi.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.li.enqueueAndForget(async()=>{this.started&&await this.gi()}))}gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.bi(e).next(n=>{n||(this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)))})}).next(()=>this.Di(e)).next(n=>this.isPrimary&&!n?this.vi(e).next(()=>!1):!!n&&this.Ci(e).next(()=>!0))).catch(e=>{if(Ls(e))return z("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.li.enqueueRetryable(()=>this.Ri(e)),this.isPrimary=e})}bi(e){return uu(e).get("owner").next(n=>L.resolve(this.Fi(n)))}Mi(e){return yh(e).delete(this.clientId)}async xi(){if(this.isPrimary&&!this.Oi(this.Ai,18e5)){this.Ai=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=St(n,"clientMetadata");return r.U().next(i=>{const s=this.Ni(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.fi)for(const n of e)this.fi.removeItem(this.Li(n.clientId))}}wi(){this.di=this.li.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gi().then(()=>this.xi()).then(()=>this.wi()))}Fi(e){return!!e&&e.ownerId===this.clientId}Di(e){return this.Pi?L.resolve(!0):uu(e).get("owner").next(n=>{if(n!==null&&this.Oi(n.leaseTimestampMs,5e3)&&!this.Bi(n.ownerId)){if(this.Fi(n)&&this.networkEnabled)return!0;if(!this.Fi(n)){if(!n.allowTabSynchronization)throw new $(F.FAILED_PRECONDITION,Hg);return!1}}return!(!this.networkEnabled||!this.inForeground)||yh(e).U().next(r=>this.Ni(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&z("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Ur=!1,this.ki(),this.di&&(this.di.cancel(),this.di=null),this.qi(),this.Qi(),await this.mi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new h_(e,yn.oe);return this.vi(n).next(()=>this.Mi(n))}),this.mi.close(),this.Ki()}Ni(e,n){return e.filter(r=>this.Oi(r.updateTimeMs,n)&&!this.Bi(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>yh(e).U().next(n=>this.Ni(n,18e5).map(r=>r.clientId)))}get started(){return this.Ur}getGlobalsCache(){return this.Wr}getMutationQueue(e,n){return nm.Pt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new H5(e,this.serializer.ht.databaseId)}getDocumentOverlayCache(e){return tm.Pt(this.serializer,e)}getBundleCache(){return this.jr}runTransaction(e,n,r){z("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===17?Qj:l===16?Gj:l===15?L0:l===14?AC:l===13?RC:l===12?Kj:l===11?bC:void J()}(this.Ti);let o;return this.mi.runTransaction(e,i,s,a=>(o=new h_(a,this.$r?this.$r.next():yn.oe),n==="readwrite-primary"?this.bi(o).next(l=>!!l||this.Di(o)).next(l=>{if(!l)throw ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.li.enqueueRetryable(()=>this.Ri(!1)),new $(F.FAILED_PRECONDITION,wC);return r(o)}).next(l=>this.Ci(o).next(()=>l)):this.Ui(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ui(e){return uu(e).get("owner").next(n=>{if(n!==null&&this.Oi(n.leaseTimestampMs,5e3)&&!this.Bi(n.ownerId)&&!this.Fi(n)&&!(this.Pi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $(F.FAILED_PRECONDITION,Hg)})}Ci(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return uu(e).put("owner",n)}static p(){return Fr.p()}vi(e){const n=uu(e);return n.get("owner").next(r=>this.Fi(r)?(z("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Oi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(ut(`Detected an update time that is in the future: ${e} > ${r}`),!1))}pi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ei=()=>{this.li.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.gi()))},this.document.addEventListener("visibilitychange",this.Ei),this.inForeground=this.document.visibilityState==="visible")}qi(){this.Ei&&(this.document.removeEventListener("visibilitychange",this.Ei),this.Ei=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ii=()=>{this.ki();const n=/(?:Version|Mobile)\/1[456]/;XA()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.li.enterRestrictedMode(!0),this.li.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ii))}Qi(){this.Ii&&(this.window.removeEventListener("pagehide",this.Ii),this.Ii=null)}Bi(e){var n;try{const r=((n=this.fi)===null||n===void 0?void 0:n.getItem(this.Li(e)))!==null;return z("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ut("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}ki(){if(this.fi)try{this.fi.setItem(this.Li(this.clientId),String(Date.now()))}catch(e){ut("Failed to set zombie client id.",e)}}Ki(){if(this.fi)try{this.fi.removeItem(this.Li(this.clientId))}catch{}}Li(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function uu(t){return St(t,"owner")}function yh(t){return St(t,"clientMetadata")}function Z0(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ew(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return XA()?8:IC(Xe())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new u$;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(ra()<=de.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",ia(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),L.resolve()):(ra()<=de.DEBUG&&z("QueryEngine","Query:",ia(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(ra()<=de.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",ia(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):L.resolve())}Xi(e,n){if(pS(n))return L.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gf(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.rs(n,a);return this.ss(n,u,o,l.readTime)?this.Xi(e,Gf(n,null,"F")):this.os(e,u,n,l)}))})))}es(e,n,r,i){return pS(n)||i.isEqual(Z.min())?L.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?L.resolve(null):(ra()<=de.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ia(n)),this.os(e,o,n,_C(i,-1)).next(a=>a))})}rs(e,n){let r=new Ae(zC(e));return n.forEach((i,s)=>{cd(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return ra()<=de.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",ia(n)),this.Zi.getDocumentsMatchingQuery(e,n,Un.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ne(re),this.cs=new Ci(s=>So(s),ld),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ck(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function xk(t,e,n,r){return new c$(t,e,n,r)}async function Ok(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=oe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ts:u,removedBatchIds:o,addedBatchIds:a}))})})}function d$(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let m=L.resolve();return f.forEach(_=>{m=m.next(()=>d.getEntry(l,_)).next(w=>{const S=u.docVersions.get(_);X(S!==null),w.version.compareTo(S)<0&&(h.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Nk(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function h$(t,e){const n=Q(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Gr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(st.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(w,S,E){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,m,d)&&a.push(n.Gr.updateTargetData(s,m))});let l=vn(),u=oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Dk(s,o,e.documentUpdates).next(d=>{l=d.Is,u=d.Es})),!r.isEqual(Z.min())){const d=n.Gr.getLastRemoteSnapshotVersion(s).next(h=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.us=i,s))}function Dk(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Is:o,Es:i}})}function f$(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function el(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new ui(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function tl(t,e,n){const r=Q(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ls(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Zf(t,e,n){const r=Q(t);let i=Z.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Q(l),f=h.cs.get(d);return f!==void 0?L.resolve(h.us.get(f)):h.Gr.getTargetData(u,d)}(r,o,cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:oe())).next(a=>(Mk(r,$C(e),a),{documents:a,ds:s})))}function Vk(t,e){const n=Q(t),r=Q(n.Gr),i=n.us.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ut(s,e).next(o=>o?o.target:null))}function Lk(t,e){const n=Q(t),r=n.ls.get(e)||Z.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.hs.getAllFromCollectionGroup(i,e,_C(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Mk(n,e,i),i))}function Mk(t,e,n){let r=t.ls.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}async function p$(t,e,n,r){const i=Q(t);let s=oe(),o=vn();for(const u of n){const d=e.As(u.metadata.name);u.document&&(s=s.add(d));const h=e.Rs(u);h.setReadTime(e.Vs(u.metadata.readTime)),o=o.insert(d,h)}const a=i.hs.newChangeBuffer({trackRemovals:!0}),l=await el(i,function(d){return cn(Il(fe.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>Dk(u,a,o).next(d=>(a.apply(u),d)).next(d=>i.Gr.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Gr.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,d.Is,d.Es)).next(()=>d.Is)))}async function m$(t,e,n=oe()){const r=await el(t,cn(K0(e.bundledQuery))),i=Q(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ct(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.jr.saveNamedQuery(s,e);const a=r.withResumeToken(st.EMPTY_BYTE_STRING,o);return i.us=i.us.insert(a.targetId,a),i.Gr.updateTargetData(s,a).next(()=>i.Gr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Gr.addMatchingKeys(s,n,r.targetId)).next(()=>i.jr.saveNamedQuery(s,e))})}function $S(t,e){return`firestore_clients_${t}_${e}`}function zS(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Kg(t,e){return`firestore_targets_${t}_${e}`}class ep{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static fs(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new $(i.error.code,i.error.message))),o?new ep(e,n,i.state,s):(ut("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static fs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new $(r.error.code,r.error.message))),s?new Qu(e,r.state,i):(ut("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tp{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static fs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=U0();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=TC(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new tp(e,s):(ut("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class tw{constructor(e,n){this.clientId=e,this.onlineState=n}static fs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new tw(n.clientId,n.onlineState):(ut("SharedClientState",`Failed to parse online state: ${e}`),null)}}class R_{constructor(){this.activeTargetIds=U0()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gg{constructor(e,n,r,i,s){this.window=e,this.li=n,this.persistenceKey=r,this.ws=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ss=this.bs.bind(this),this.Ds=new Ne(re),this.started=!1,this.vs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Cs=$S(this.persistenceKey,this.ws),this.Fs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ds=this.Ds.insert(this.ws,new R_),this.Ms=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.xs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Os=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Ns=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Ls=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ss)}static p(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.ws)continue;const i=this.getItem($S(this.persistenceKey,r));if(i){const s=tp.fs(r,i);s&&(this.Ds=this.Ds.insert(s.clientId,s))}}this.Bs();const n=this.storage.getItem(this.Ns);if(n){const r=this.ks(n);r&&this.qs(r)}for(const r of this.vs)this.bs(r);this.vs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Fs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Qs(this.Ds)}isActiveQueryTarget(e){let n=!1;return this.Ds.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ks(e,"pending")}updateMutationState(e,n,r){this.Ks(e,n,r),this.$s(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Kg(this.persistenceKey,e));if(i){const s=Qu.fs(e,i);s&&(r=s.state)}}return n&&this.Us.ps(e),this.Bs(),r}removeLocalQueryTarget(e){this.Us.ys(e),this.Bs()}isLocalQueryTarget(e){return this.Us.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Kg(this.persistenceKey,e))}updateQueryState(e,n,r){this.Ws(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.$s(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Gs(e)}notifyBundleLoaded(e){this.zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ss),this.removeItem(this.Cs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return z("SharedClientState","READ",e,n),n}setItem(e,n){z("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){z("SharedClientState","REMOVE",e),this.storage.removeItem(e)}bs(e){const n=e;if(n.storageArea===this.storage){if(z("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Cs)return void ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.li.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Ms.test(n.key)){if(n.newValue==null){const r=this.js(n.key);return this.Hs(r,null)}{const r=this.Js(n.key,n.newValue);if(r)return this.Hs(r.clientId,r)}}else if(this.xs.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(this.Os.test(n.key)){if(n.newValue!==null){const r=this.Xs(n.key,n.newValue);if(r)return this.eo(r)}}else if(n.key===this.Ns){if(n.newValue!==null){const r=this.ks(n.newValue);if(r)return this.qs(r)}}else if(n.key===this.Fs){const r=function(s){let o=yn.oe;if(s!=null)try{const a=JSON.parse(s);X(typeof a=="number"),o=a}catch(a){ut("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==yn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Ls){const r=this.no(n.newValue);await Promise.all(r.map(i=>this.syncEngine.ro(i)))}}}else this.vs.push(n)})}}get Us(){return this.Ds.get(this.ws)}Bs(){this.setItem(this.Cs,this.Us.gs())}Ks(e,n,r){const i=new ep(this.currentUser,e,n,r),s=zS(this.persistenceKey,this.currentUser,e);this.setItem(s,i.gs())}$s(e){const n=zS(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Gs(e){const n={clientId:this.ws,onlineState:e};this.storage.setItem(this.Ns,JSON.stringify(n))}Ws(e,n,r){const i=Kg(this.persistenceKey,e),s=new Qu(e,n,r);this.setItem(i,s.gs())}zs(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Ls,n)}js(e){const n=this.Ms.exec(e);return n?n[1]:null}Js(e,n){const r=this.js(e);return tp.fs(r,n)}Ys(e,n){const r=this.xs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ep.fs(new At(s),i,n)}Xs(e,n){const r=this.Os.exec(e),i=Number(r[1]);return Qu.fs(i,n)}ks(e){return tw.fs(e)}no(e){return JSON.parse(e)}async Zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.io(e.batchId,e.state,e.error);z("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}eo(e){return this.syncEngine.so(e.targetId,e.state,e.error)}Hs(e,n){const r=n?this.Ds.insert(e,n):this.Ds.remove(e),i=this.Qs(this.Ds),s=this.Qs(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.oo(o,a).then(()=>{this.Ds=r})}qs(e){this.Ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Qs(e){let n=U0();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Fk{constructor(){this._o=new R_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new R_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function Qg(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class v$ extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=Qg(),l=this.No(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,s,o),this.Bo(n,l,u,i).then(d=>(z("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw zr("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=y$[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=Qg();return new Promise((o,a)=>{const l=new cC;l.setWithCredentials(!0),l.listenOnce(dC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qh.NO_ERROR:const d=l.getResponseJson();z(qt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case qh.TIMEOUT:z(qt,`RPC '${e}' ${s} timed out`),a(new $(F.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const h=l.getStatus();if(z(qt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const _=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(m.status);a(new $(_,m.message))}else a(new $(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(F.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{z(qt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);z(qt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}qo(e,n,r){const i=Qg(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pC(),a=fC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");z(qt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const _=new _$({Eo:S=>{m?z(qt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(f||(z(qt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),z(qt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Ao:()=>h.close()}),w=(S,E,v)=>{S.listen(E,I=>{try{v(I)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,bu.EventType.OPEN,()=>{m||(z(qt,`RPC '${e}' stream ${i} transport opened.`),_.So())}),w(h,bu.EventType.CLOSE,()=>{m||(m=!0,z(qt,`RPC '${e}' stream ${i} transport closed`),_.Do())}),w(h,bu.EventType.ERROR,S=>{m||(m=!0,zr(qt,`RPC '${e}' stream ${i} transport errored:`,S),_.Do(new $(F.UNAVAILABLE,"The operation could not be completed")))}),w(h,bu.EventType.MESSAGE,S=>{var E;if(!m){const v=S.data[0];X(!!v);const I=v,k=(I==null?void 0:I.error)||((E=I[0])===null||E===void 0?void 0:E.error);if(k){z(qt,`RPC '${e}' stream ${i} received error:`,k);const x=k.status;let D=function(A){const g=pt[A];if(g!==void 0)return nk(g)}(x),b=k.message;D===void 0&&(D=F.INTERNAL,b="Unknown error status: "+x+" with message "+k.message),m=!0,_.Do(new $(D,b)),h.close()}else z(qt,`RPC '${e}' stream ${i} received:`,v),_.vo(v)}}),w(a,hC.STAT_EVENT,S=>{S.stat===c_.PROXY?z(qt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===c_.NOPROXY&&z(qt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.bo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(){return typeof window<"u"?window:null}function Zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new A5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new nw(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ut(n.toString()),ut("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new $(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class w$ extends Bk{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=k5(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?ct(o.readTime):Z.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=E_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Hf(l)?{documents:hk(s,l)}:{query:fk(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ok(s,o.resumeToken);const u=v_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Za(s,o.snapshotVersion.toTimestamp());const u=v_(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=O5(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=E_(this.serializer),n.removeTarget=e,this.c_(n)}}class E$ extends Bk{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return X(!!e.streamToken),this.lastStreamToken=e.streamToken,X(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=x5(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=E_(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Vc(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I$ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,w_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(F.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,w_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(F.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class T${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ut(n),this.C_=!1):z("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S${constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Fs(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Q(l);u.k_.add(4),await bl(u),u.K_.set("Unknown"),u.k_.delete(4),await md(u)}(this))})}),this.K_=new T$(r,i)}}async function md(t){if(Fs(t))for(const e of t.q_)await e(!0)}async function bl(t){for(const e of t.q_)await e(!1)}function im(t,e){const n=Q(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),sw(n)?iw(n):Al(n).s_()&&rw(n,e))}function nl(t,e){const n=Q(t),r=Al(n);n.B_.delete(e),r.s_()&&jk(n,e),n.B_.size===0&&(r.s_()?r.a_():Fs(n)&&n.K_.set("Unknown"))}function rw(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Al(t).V_(e)}function jk(t,e){t.U_.xe(e),Al(t).m_(e)}function iw(t){t.U_=new T5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Al(t).start(),t.K_.F_()}function sw(t){return Fs(t)&&!Al(t).i_()&&t.B_.size>0}function Fs(t){return Q(t).k_.size===0}function $k(t){t.U_=void 0}async function b$(t){t.K_.set("Online")}async function R$(t){t.B_.forEach((e,n)=>{rw(t,e)})}async function A$(t,e){$k(t),sw(t)?(t.K_.O_(e),iw(t)):t.K_.set("Unknown")}async function P$(t,e,n){if(t.K_.set("Online"),e instanceof sk&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await np(t,r)}else if(e instanceof Xh?t.U_.$e(e):e instanceof ik?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Z.min()))try{const r=await Nk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.B_.get(u);d&&s.B_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.B_.get(l);if(!d)return;s.B_.set(l,d.withResumeToken(st.EMPTY_BYTE_STRING,d.snapshotVersion)),jk(s,l);const h=new ui(d.target,l,u,d.sequenceNumber);rw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await np(t,r)}}async function np(t,e,n){if(!Ls(e))throw e;t.k_.add(1),await bl(t),t.K_.set("Offline"),n||(n=()=>Nk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await md(t)})}function zk(t,e){return e().catch(n=>np(t,n,e))}async function Rl(t){const e=Q(t),n=Ts(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;C$(e);)try{const i=await f$(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,k$(e,i)}catch(i){await np(e,i)}Wk(e)&&qk(e)}function C$(t){return Fs(t)&&t.L_.length<10}function k$(t,e){t.L_.push(e);const n=Ts(t);n.s_()&&n.f_&&n.g_(e.mutations)}function Wk(t){return Fs(t)&&!Ts(t).i_()&&t.L_.length>0}function qk(t){Ts(t).start()}async function x$(t){Ts(t).w_()}async function O$(t){const e=Ts(t);for(const n of t.L_)e.g_(n.mutations)}async function N$(t,e,n){const r=t.L_.shift(),i=z0.from(r,e,n);await zk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Rl(t)}async function D$(t,e){e&&Ts(t).f_&&await async function(r,i){if(function(o){return tk(o)&&o!==F.ABORTED}(i.code)){const s=r.L_.shift();Ts(r).__(),await zk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Rl(r)}}(t,e),Wk(t)&&qk(t)}async function qS(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=Fs(n);n.k_.add(3),await bl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await md(n)}async function A_(t,e){const n=Q(t);e?(n.k_.delete(2),await md(n)):e||(n.k_.add(2),await bl(n),n.K_.set("Unknown"))}function Al(t){return t.W_||(t.W_=function(n,r,i){const s=Q(n);return s.b_(),new w$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:b$.bind(null,t),mo:R$.bind(null,t),po:A$.bind(null,t),R_:P$.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),sw(t)?iw(t):t.K_.set("Unknown")):(await t.W_.stop(),$k(t))})),t.W_}function Ts(t){return t.G_||(t.G_=function(n,r,i){const s=Q(n);return s.b_(),new E$(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:x$.bind(null,t),po:D$.bind(null,t),p_:O$.bind(null,t),y_:N$.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Rl(t)):(await t.G_.stop(),t.L_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ow(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pl(t,e){if(ut("AsyncQueue",`${e}: ${t}`),Ls(t))return new $(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{static emptySet(e){return new Oa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Ru(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.z_=new Ne(G.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):J():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class rl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new rl(e,n,Oa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class L${constructor(){this.queries=KS(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Q(n),s=i.queries;i.queries=KS(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new $(F.ABORTED,"Firestore shutting down"))}}function KS(){return new Ci(t=>jC(t),ud)}async function aw(t,e){const n=Q(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new V$,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Pl(o,`Initialization of query '${ia(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&uw(n)}async function lw(t,e){const n=Q(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M$(t,e){const n=Q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&uw(n)}function F$(t,e,n){const r=Q(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function uw(t){t.X_.forEach(e=>{e.next()})}var P_,GS;(GS=P_||(P_={})).na="default",GS.Cache="cache";class cw{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.ca=e,this.byteLength=n}la(){return"metadata"in this.ca}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.serializer=e}As(e){return Ur(this.serializer,e)}Rs(e){return e.metadata.exists?dk(this.serializer,e.document,!1):Le.newNoDocument(this.As(e.metadata.name),this.Vs(e.metadata.readTime))}Vs(e){return ct(e)}}class B${constructor(e,n,r){this.ha=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hk(e)}Pa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ca.namedQuery)this.queries.push(e.ca.namedQuery);else if(e.ca.documentMetadata){this.documents.push({metadata:e.ca.documentMetadata}),e.ca.documentMetadata.exists||++n;const r=fe.fromString(e.ca.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ca.document&&(this.documents[this.documents.length-1].document=e.ca.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Ta(e){const n=new Map,r=new QS(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.As(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||oe()).add(s);n.set(o,a)}}return n}async complete(){const e=await p$(this.localStore,new QS(this.serializer),this.documents,this.ha.id),n=this.Ta(this.documents);for(const r of this.queries)await m$(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ia:this.collectionGroups,Ea:e}}}function Hk(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.key=e}}class Gk{constructor(e){this.key=e}}class Qk{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=oe(),this.mutatedKeys=oe(),this.Va=zC(e),this.ma=new Oa(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new HS,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=cd(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?_!==w&&(r.track({type:3,doc:m}),S=!0):this.ya(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Va(m,l)>0||u&&this.Va(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,h)=>function(m,_){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return w(m)-w(_)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,u=l!==this.Aa;return this.Aa=l,o.length!==0||u?{snapshot:new rl(this.query,e.ma,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new HS,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=oe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new Gk(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new Kk(r))}),n}va(e){this.da=e.ds,this.Ra=oe();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return rl.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class j${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $${constructor(e){this.key=e,this.Fa=!1}}class z${constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Ci(a=>jC(a),ud),this.Oa=new Map,this.Na=new Set,this.La=new Ne(G.comparator),this.Ba=new Map,this.ka=new J0,this.qa={},this.Qa=new Map,this.Ka=Co.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function W$(t,e,n=!0){const r=sm(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await Jk(r,e,n,!0),i}async function q$(t,e){const n=sm(t);await Jk(n,e,!0,!1)}async function Jk(t,e,n,r){const i=await el(t.localStore,cn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await dw(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&im(t.remoteStore,i),a}async function dw(t,e,n,r,i){t.Ua=(h,f,m)=>async function(w,S,E,v){let I=S.view.ga(E);I.ss&&(I=await Zf(w.localStore,S.query,!1).then(({documents:b})=>S.view.ga(b,I)));const k=v&&v.targetChanges.get(S.targetId),x=v&&v.targetMismatches.get(S.targetId)!=null,D=S.view.applyChanges(I,w.isPrimaryClient,k,x);return C_(w,S.targetId,D.ba),D.snapshot}(t,h,f,m);const s=await Zf(t.localStore,e,!0),o=new Qk(e,s.ds),a=o.ga(s.documents),l=fd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);C_(t,n,u.ba);const d=new j$(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),u.snapshot}async function H$(t,e,n){const r=Q(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!ud(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nl(r.remoteStore,i.targetId),il(r,i.targetId)}).catch(Vs)):(il(r,i.targetId),await tl(r.localStore,i.targetId,!0))}async function K$(t,e){const n=Q(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nl(n.remoteStore,r.targetId))}async function G$(t,e,n){const r=mw(t);try{const i=await function(o,a){const l=Q(o),u=ze.now(),d=a.reduce((m,_)=>m.add(_.key),oe());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=vn(),w=oe();return l.hs.getEntries(m,d).next(S=>{_=S,_.forEach((E,v)=>{v.isValidDocument()||(w=w.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(S=>{h=S;const E=[];for(const v of a){const I=w5(v,h.get(v.key).overlayedDocument);I!=null&&E.push(new ki(v.key,I,OC(I.value.mapValue),$e.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,E,a)}).next(S=>{f=S;const E=S.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,S.batchId,E)})}).then(()=>({batchId:f.batchId,changes:qC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.qa[o.currentUser.toKey()];u||(u=new Ne(re)),u=u.insert(a,l),o.qa[o.currentUser.toKey()]=u}(r,i.batchId,n),await xi(r,i.changes),await Rl(r.remoteStore)}catch(i){const s=Pl(i,"Failed to persist write");n.reject(s)}}async function Yk(t,e){const n=Q(t);try{const r=await h$(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?X(o.Fa):i.removedDocuments.size>0&&(X(o.Fa),o.Fa=!1))}),await xi(n,r,e)}catch(r){await Vs(r)}}function JS(t,e,n){const r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Q(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.J_)f.ea(a)&&(u=!0)}),u&&uw(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Q$(t,e,n){const r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Ne(G.comparator);o=o.insert(s,Le.newNoDocument(s,Z.min()));const a=oe().add(s),l=new hd(Z.min(),new Map,new Ne(re),o,a);await Yk(r,l),r.La=r.La.remove(s),r.Ba.delete(e),pw(r)}else await tl(r.localStore,e,!1).then(()=>il(r,e,n)).catch(Vs)}async function J$(t,e){const n=Q(t),r=e.batch.batchId;try{const i=await d$(n.localStore,e);fw(n,r,null),hw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xi(n,i)}catch(i){await Vs(i)}}async function Y$(t,e,n){const r=Q(t);try{const i=await function(o,a){const l=Q(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(X(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);fw(r,e,n),hw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xi(r,i)}catch(i){await Vs(i)}}async function X$(t,e){const n=Q(t);Fs(n.remoteStore)||z("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=Q(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Qa.get(r)||[];i.push(e),n.Qa.set(r,i)}catch(r){const i=Pl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function hw(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function fw(t,e,n){const r=Q(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function il(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||Xk(t,r)})}function Xk(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(nl(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),pw(t))}function C_(t,e,n){for(const r of n)r instanceof Kk?(t.ka.addReference(r.key,e),Z$(t,r)):r instanceof Gk?(z("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||Xk(t,r.key)):J()}function Z$(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(z("SyncEngine","New document in limbo: "+n),t.Na.add(r),pw(t))}function pw(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new G(fe.fromString(e)),r=t.Ka.next();t.Ba.set(r,new $$(n)),t.La=t.La.insert(n,r),im(t.remoteStore,new ui(cn(Il(n.path)),r,"TargetPurposeLimboResolution",yn.oe))}}async function xi(t,e,n){const r=Q(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=ew.zi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,u){const d=Q(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(u,f=>L.forEach(f.Wi,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>L.forEach(f.Gi,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!Ls(h))throw h;z("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const m=d.us.get(f),_=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(_);d.us=d.us.insert(f,w)}}}(r.localStore,s))}async function e3(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await Ok(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new $(F.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xi(n,r.Ts)}}function t3(t,e){const n=Q(t),r=n.Ba.get(e);if(r&&r.Fa)return oe().add(r.key);{let i=oe();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}async function n3(t,e){const n=Q(t),r=await Zf(n.localStore,e.query,!0),i=e.view.va(r);return n.isPrimaryClient&&C_(n,e.targetId,i.ba),i}async function r3(t,e){const n=Q(t);return Lk(n.localStore,e).then(r=>xi(n,r))}async function i3(t,e,n,r){const i=Q(t),s=await function(a,l){const u=Q(a),d=Q(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.On(h,l).next(f=>f?u.localDocuments.getDocuments(h,f):L.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await Rl(i.remoteStore):n==="acknowledged"||n==="rejected"?(fw(i,e,r||null),hw(i,e),function(a,l){Q(Q(a).mutationQueue).Ln(l)}(i.localStore,e)):J(),await xi(i,s)):z("SyncEngine","Cannot apply mutation batch with id: "+e)}async function s3(t,e){const n=Q(t);if(sm(n),mw(n),e===!0&&n.$a!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await YS(n,r.toArray());n.$a=!0,await A_(n.remoteStore,!0);for(const s of i)im(n.remoteStore,s)}else if(e===!1&&n.$a!==!1){const r=[];let i=Promise.resolve();n.Oa.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(il(n,o),tl(n.localStore,o,!0))),nl(n.remoteStore,o)}),await i,await YS(n,r),function(o){const a=Q(o);a.Ba.forEach((l,u)=>{nl(a.remoteStore,u)}),a.ka.wr(),a.Ba=new Map,a.La=new Ne(G.comparator)}(n),n.$a=!1,await A_(n.remoteStore,!1)}}async function YS(t,e,n){const r=Q(t),i=[],s=[];for(const o of e){let a;const l=r.Oa.get(o);if(l&&l.length!==0){a=await el(r.localStore,cn(l[0]));for(const u of l){const d=r.xa.get(u),h=await n3(r,d);h.snapshot&&s.push(h.snapshot)}}else{const u=await Vk(r.localStore,o);a=await el(r.localStore,u),await dw(r,Zk(u),o,!1,a.resumeToken)}i.push(a)}return r.Ma.R_(s),i}function Zk(t){return BC(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function o3(t){return function(n){return Q(Q(n).persistence).$i()}(Q(t).localStore)}async function a3(t,e,n,r){const i=Q(t);if(i.$a)return void z("SyncEngine","Ignoring unexpected query state notification.");const s=i.Oa.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await Lk(i.localStore,$C(s[0])),a=hd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",st.EMPTY_BYTE_STRING);await xi(i,o,a);break}case"rejected":await tl(i.localStore,e,!0),il(i,e,r);break;default:J()}}async function l3(t,e,n){const r=sm(t);if(r.$a){for(const i of e){if(r.Oa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){z("SyncEngine","Adding an already active target "+i);continue}const s=await Vk(r.localStore,i),o=await el(r.localStore,s);await dw(r,Zk(s),o.targetId,!1,o.resumeToken),im(r.remoteStore,o)}for(const i of n)r.Oa.has(i)&&await tl(r.localStore,i,!1).then(()=>{nl(r.remoteStore,i),il(r,i)}).catch(Vs)}}function sm(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q$.bind(null,e),e.Ma.R_=M$.bind(null,e.eventManager),e.Ma.Wa=F$.bind(null,e.eventManager),e}function mw(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y$.bind(null,e),e}function u3(t,e,n){const r=Q(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(m,_){const w=Q(m),S=ct(_.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",E=>w.jr.getBundleMetadata(E,_.id)).then(E=>!!E&&E.createTime.compareTo(S)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(Hk(l));const u=new B$(l,s.localStore,o.serializer);let d=await o.Ga();for(;d;){const f=await u.Pa(d);f&&a._updateProgress(f),d=await o.Ga()}const h=await u.complete();return await xi(s,h.Ea,void 0),await function(m,_){const w=Q(m);return w.persistence.runTransaction("Save bundle","readwrite",S=>w.jr.saveBundleMetadata(S,_))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.Ia)}catch(l){return zr("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return xk(this.persistence,new kk,e.initialUser,this.serializer)}ja(e){return new Y0(rm.ei,this.serializer)}za(e){return new Fk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class c3 extends Lc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){X(this.persistence.referenceDelegate instanceof Xf);const r=this.persistence.referenceDelegate.garbageCollector;return new bk(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new Y0(r=>Xf.ei(r,n),this.serializer)}}class ex extends Lc{constructor(e,n,r){super(),this.Za=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Za.initialize(this,e),await mw(this.Za.syncEngine),await Rl(this.Za.remoteStore),await this.persistence.Si(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ha(e){return xk(this.persistence,new kk,e.initialUser,this.serializer)}Ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new bk(r,e.asyncQueue,n)}Ya(e,n){const r=new kj(n,this.persistence);return new Cj(e.asyncQueue,r)}ja(e){const n=Z0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new X0(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Uk(),Zh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}za(e){return new Fk}}class d3 extends ex{constructor(e,n){super(e,n,!1),this.Za=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Za.syncEngine;this.sharedClientState instanceof Gg&&(this.sharedClientState.syncEngine={io:i3.bind(null,n),so:a3.bind(null,n),oo:l3.bind(null,n),$i:o3.bind(null,n),ro:r3.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Si(async r=>{await s3(this.Za.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}za(e){const n=Uk();if(!Gg.p(n))throw new $(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Z0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gg(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class Mc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=e3.bind(null,this.syncEngine),await A_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L$}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),r=function(s){return new v$(s)}(e.databaseInfo);return function(s,o,a,l){return new I$(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new S$(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>JS(this.syncEngine,n,0),function(){return WS.p()?new WS:new g$}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new z$(i,s,o,a,l,u);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Q(i);z("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await bl(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mc.provider={build:()=>new Mc};function XS(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ut("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.tu=e,this.serializer=n,this.metadata=new Ft,this.buffer=new Uint8Array,this.nu=function(){return new TextDecoder("utf-8")}(),this.ru().then(r=>{r&&r.la()?this.metadata.resolve(r.ca.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ca)}`))},r=>this.metadata.reject(r))}close(){return this.tu.cancel()}async getMetadata(){return this.metadata.promise}async Ga(){return await this.getMetadata(),this.ru()}async ru(){const e=await this.iu();if(e===null)return null;const n=this.nu.decode(e),r=Number(n);isNaN(r)&&this.su(`length string (${n}) is not valid number`);const i=await this.ou(r);return new U$(JSON.parse(i),e.length+r)}_u(){return this.buffer.findIndex(e=>e===123)}async iu(){for(;this._u()<0&&!await this.au(););if(this.buffer.length===0)return null;const e=this._u();e<0&&this.su("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async ou(e){for(;this.buffer.length<e;)await this.au()&&this.su("Reached the end of bundle when more is expected.");const n=this.nu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}su(e){throw this.tu.cancel(),new Error(`Invalid bundle format: ${e}`)}async au(){const e=await this.tu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new $(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=Q(i),a={documents:s.map(h=>Dc(o.serializer,h))},l=await o.ko("BatchGetDocuments",o.serializer.databaseId,fe.emptyPath(),a,s.length),u=new Map;l.forEach(h=>{const f=C5(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=u.get(h.toString());X(!!f),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=G.fromPath(r);this.mutations.push(new j0(i,this.precondition(i)))}),await async function(r,i){const s=Q(r),o={writes:i.map(a=>Vc(s.serializer,a))};await s.Oo("Commit",s.serializer.databaseId,fe.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw J();n=Z.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new $(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Z.min())?$e.exists(!1):$e.updateTime(n):$e.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Z.min()))throw new $(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $e.updateTime(n)}return $e.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.uu=r.maxAttempts,this.r_=new nw(this.asyncQueue,"transaction_retry")}cu(){this.uu-=1,this.lu()}lu(){this.r_.jo(async()=>{const e=new f3(this.datastore),n=this.hu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Pu(i)}))}).catch(r=>{this.Pu(r)})})}hu(e){try{const n=this.updateFunction(e);return!ad(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Pu(e){this.uu>0&&this.Tu(e)?(this.uu-=1,this.asyncQueue.enqueueAndForget(()=>(this.lu(),Promise.resolve()))):this.deferred.reject(e)}Tu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!tk(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=At.UNAUTHENTICATED,this.clientId=gC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Jg(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ok(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gw(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qS(e.remoteStore,i)),t._onlineComponents=e}async function gw(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zr("Error using user provided cache. Falling back to memory cache: "+n),await Jg(t,new Lc)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await Jg(t,new c3(void 0));return t._offlineComponents}async function am(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await ZS(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await ZS(t,new Mc))),t._onlineComponents}function tx(t){return gw(t).then(e=>e.persistence)}function yw(t){return gw(t).then(e=>e.localStore)}function nx(t){return am(t).then(e=>e.remoteStore)}function _w(t){return am(t).then(e=>e.syncEngine)}function g3(t){return am(t).then(e=>e.datastore)}async function sl(t){const e=await am(t),n=e.eventManager;return n.onListen=W$.bind(null,e.syncEngine),n.onUnlisten=H$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=K$.bind(null,e.syncEngine),n}function y3(t){return t.asyncQueue.enqueue(async()=>{const e=await tx(t),n=await nx(t);return e.setNetworkEnabled(!0),function(i){const s=Q(i);return s.k_.delete(0),md(s)}(n)})}function _3(t){return t.asyncQueue.enqueue(async()=>{const e=await tx(t),n=await nx(t);return e.setNetworkEnabled(!1),async function(i){const s=Q(i);s.k_.add(0),await bl(s),s.K_.set("Offline")}(n)})}function v3(t,e){const n=new Ft;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(u,d){const h=Q(u);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new $(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Pl(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await yw(t),e,n)),n.promise}function rx(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new om({next:f=>{d.eu(),o.enqueueAndForget(()=>lw(s,h));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new $(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new $(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new cw(Il(a.path),d,{includeMetadataChanges:!0,ua:!0});return aw(s,h)}(await sl(t),t.asyncQueue,e,n,r)),r.promise}function w3(t,e){const n=new Ft;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await Zf(i,s,!0),l=new Qk(s,a.ds),u=l.ga(a.documents),d=l.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){const l=Pl(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await yw(t),e,n)),n.promise}function ix(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new om({next:f=>{d.eu(),o.enqueueAndForget(()=>lw(s,h)),f.fromCache&&l.source==="server"?u.reject(new $(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new cw(a,d,{includeMetadataChanges:!0,ua:!0});return aw(s,h)}(await sl(t),t.asyncQueue,e,n,r)),r.promise}function E3(t,e){const n=new om(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).X_.add(s),s.next()}(await sl(t),n)),()=>{n.eu(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){Q(i).X_.delete(s)}(await sl(t),n))}}function I3(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?rk().encode(o):o,function(d,h){return new h3(d,h)}(function(d,h){if(d instanceof Uint8Array)return XS(d,h);if(d instanceof ArrayBuffer)return XS(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,pd(e));t.asyncQueue.enqueueAndForget(async()=>{u3(await _w(t),i,r)})}function T3(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=Q(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.jr.getNamedQuery(o,i))}(await yw(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e,n){if(!n)throw new $(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ox(t,e,n,r){if(e===!0&&r===!0)throw new $(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function t1(t){if(!G.isDocumentKey(t))throw new $(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function n1(t){if(G.isDocumentKey(t))throw new $(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function ve(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lm(t);throw new $(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function ax(t,e){if(e<=0)throw new $(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ox("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _j;switch(r.type){case"firstParty":return new Ij(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=e1.get(n);r&&(z("ComponentProvider","Removing Datastore"),e1.delete(n),r.terminate())}(this),Promise.resolve()}}function S3(t,e,n,r={}){var i;const s=(t=ve(t,gd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=At.MOCK_USER;else{a=RM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new At(u)}t._authCredentials=new vj(new mC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class lx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lx(this.firestore,e,this._query)}},Je=class ux{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ux(this.firestore,e,this._key)}},cs=class cx extends dn{constructor(e,n,r){super(e,n,Il(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Je(this.firestore,null,new G(e))}withConverter(e){return new cx(this.firestore,e,this._path)}};function dx(t,e,...n){if(t=ee(t),vw("collection","path",e),t instanceof gd){const r=fe.fromString(e,...n);return n1(r),new cs(t,null,r)}{if(!(t instanceof Je||t instanceof cs))throw new $(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return n1(r),new cs(t.firestore,null,r)}}function b3(t,e){if(t=ve(t,gd),vw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $(F.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new dn(t,null,function(r){return new Pi(fe.emptyPath(),r)}(e))}function rp(t,e,...n){if(t=ee(t),arguments.length===1&&(e=gC.newId()),vw("doc","path",e),t instanceof gd){const r=fe.fromString(e,...n);return t1(r),new Je(t,null,new G(r))}{if(!(t instanceof Je||t instanceof cs))throw new $(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return t1(r),new Je(t.firestore,t instanceof cs?t.converter:null,new G(r))}}function hx(t,e){return t=ee(t),e=ee(e),(t instanceof Je||t instanceof cs)&&(e instanceof Je||e instanceof cs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function fx(t,e){return t=ee(t),e=ee(e),t instanceof dn&&e instanceof dn&&t.firestore===e.firestore&&ud(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new nw(this,"async_queue_retry"),this.fu=()=>{const r=Zh();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Zh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Zh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ft;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ls(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ut("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=ow.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&J()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}function k_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class R3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ft,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=-1;let dt=class extends gd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new i1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new i1(e),this._firestoreClient=void 0,await e}}};function Zt(t){if(t._terminated)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||px(t),t._firestoreClient}function px(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new Xj(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sx(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new m3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function P3(t,e){zr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return mx(t,Mc.provider,{build:r=>new ex(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function C3(t){zr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();mx(t,Mc.provider,{build:n=>new d3(n,e.cacheSizeBytes)})}function mx(t,e,n){if((t=ve(t,dt))._firestoreClient||t._terminated)throw new $(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new $(F.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},px(t)}function k3(t){if(t._initialized&&!t._terminated)throw new $(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ft;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Fr.p())return Promise.resolve();const i=r+"main";await Fr.delete(i)}(Z0(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function x3(t){return function(n){const r=new Ft;return n.asyncQueue.enqueueAndForget(async()=>X$(await _w(n),r)),r.promise}(Zt(t=ve(t,dt)))}function O3(t){return y3(Zt(t=ve(t,dt)))}function N3(t){return _3(Zt(t=ve(t,dt)))}function D3(t,e){const n=Zt(t=ve(t,dt)),r=new R3;return I3(n,t._databaseId,e,r),r}function V3(t,e){return T3(Zt(t=ve(t,dt)),e).then(n=>n?new dn(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qr(st.fromBase64String(e))}catch(n){throw new $(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qr(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=/^__.*__$/;class M3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tl(e,this.data,n,this.fieldTransforms)}}class gx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ki(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class cm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ip(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(yx(this.Mu)&&L3.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class F3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}$u(e,n,r,i=!1){return new cm({Mu:e,methodName:n,Ku:r,path:je.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uo(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new F3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dm(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);Aw("Data must be an object, but it was:",o,r);const a=wx(r,o);let l,u;if(s.merge)l=new _n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=x_(e,h,n);if(!o.contains(f))throw new $(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Ix(d,f)||d.push(f)}l=new _n(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new M3(new Lt(a),l,u)}class yd extends Fo{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}function _x(t,e,n){return new cm({Mu:3,Ku:e.settings.Ku,methodName:t._methodName,Nu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ew extends Fo{_toFieldTransform(e){return new dd(e.path,new Ya)}isEqual(e){return e instanceof Ew}}class Iw extends Fo{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=_x(this,e,!0),r=this.Uu.map(s=>Bo(s,n)),i=new bo(r);return new dd(e.path,i)}isEqual(e){return e instanceof Iw&&$a(this.Uu,e.Uu)}}class Tw extends Fo{constructor(e,n){super(e),this.Uu=n}_toFieldTransform(e){const n=_x(this,e,!0),r=this.Uu.map(s=>Bo(s,n)),i=new Ro(r);return new dd(e.path,i)}isEqual(e){return e instanceof Tw&&$a(this.Uu,e.Uu)}}class Sw extends Fo{constructor(e,n){super(e),this.Wu=n}_toFieldTransform(e){const n=new Xa(e.serializer,GC(e.serializer,this.Wu));return new dd(e.path,n)}isEqual(e){return e instanceof Sw&&this.Wu===e.Wu}}function bw(t,e,n,r){const i=t.$u(1,e,n);Aw("Data must be an object, but it was:",i,r);const s=[],o=Lt.empty();Ms(r,(l,u)=>{const d=Pw(e,l,n);u=ee(u);const h=i.Bu(d);if(u instanceof yd)s.push(d);else{const f=Bo(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new _n(s);return new gx(o,a,i.fieldTransforms)}function Rw(t,e,n,r,i,s){const o=t.$u(1,e,n),a=[x_(e,r,n)],l=[i];if(s.length%2!=0)throw new $(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(x_(e,s[f])),l.push(s[f+1]);const u=[],d=Lt.empty();for(let f=a.length-1;f>=0;--f)if(!Ix(u,a[f])){const m=a[f];let _=l[f];_=ee(_);const w=o.Bu(m);if(_ instanceof yd)u.push(m);else{const S=Bo(_,w);S!=null&&(u.push(m),d.set(m,S))}}const h=new _n(u);return new gx(d,h,o.fieldTransforms)}function vx(t,e,n,r=!1){return Bo(n,t.$u(r?4:3,e))}function Bo(t,e){if(Ex(t=ee(t)))return Aw("Unsupported field value:",e,t),wx(t,e);if(t instanceof Fo)return function(r,i){if(!yx(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Bo(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ee(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GC(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ze.fromDate(r);return{timestampValue:Za(i.serializer,s)}}if(r instanceof ze){const s=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Za(i.serializer,s)}}if(r instanceof um)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qr)return{bytesValue:ok(i.serializer,r._byteString)};if(r instanceof Je){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:H0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ww)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return B0(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${lm(r)}`)}(t,e)}function wx(t,e){const n={};return PC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(t,(r,i)=>{const s=Bo(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ex(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof um||t instanceof qr||t instanceof Je||t instanceof Fo||t instanceof ww)}function Aw(t,e,n){if(!Ex(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lm(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function x_(t,e,n){if((e=ee(e))instanceof Ss)return e._internalPath;if(typeof e=="string")return Pw(t,e);throw ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const U3=new RegExp("[~\\*/\\[\\]]");function Pw(t,e,n){if(e.search(U3)>=0)throw ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ss(...e.split("."))._internalPath}catch{throw ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ip(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(F.INVALID_ARGUMENT,a+t+l)}function Ix(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new B3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class B3 extends Fc{data(){return super.data()}}function hm(t,e){return typeof e=="string"?Pw(t,e):e instanceof Ss?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cw{}class _d extends Cw{}function ji(t,e,...n){let r=[];e instanceof Cw&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof kw).length,a=s.filter(l=>l instanceof fm).length;if(o>1||o>0&&a>0)throw new $(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class fm extends _d{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fm(e,n,r)}_apply(e){const n=this._parse(e);return bx(e._query,n),new dn(e.firestore,e.converter,__(e._query,n))}_parse(e){const n=Uo(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new $(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){o1(h,d);const m=[];for(const _ of h)m.push(s1(l,s,_));f={arrayValue:{values:m}}}else f=s1(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||o1(h,d),f=vx(a,o,h,d==="in"||d==="not-in");return pe.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function j3(t,e,n){const r=e,i=hm("where",t);return fm._create(i,r,n)}class kw extends Cw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:be.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)bx(o,l),o=__(o,l)}(e._query,n),new dn(e.firestore,e.converter,__(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xw extends _d{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xw(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nc(s,o)}(e._query,this._field,this._direction);return new dn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Pi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function $3(t,e="asc"){const n=e,r=hm("orderBy",t);return xw._create(r,n)}class pm extends _d{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new pm(e,n,r)}_apply(e){return new dn(e.firestore,e.converter,Gf(e._query,this._limit,this._limitType))}}function z3(t){return ax("limit",t),pm._create("limit",t,"F")}function W3(t){return ax("limitToLast",t),pm._create("limitToLast",t,"L")}class mm extends _d{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new mm(e,n,r)}_apply(e){const n=Sx(e,this.type,this._docOrFields,this._inclusive);return new dn(e.firestore,e.converter,function(i,s){return new Pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function q3(...t){return mm._create("startAt",t,!0)}function H3(...t){return mm._create("startAfter",t,!1)}class gm extends _d{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new gm(e,n,r)}_apply(e){const n=Sx(e,this.type,this._docOrFields,this._inclusive);return new dn(e.firestore,e.converter,function(i,s){return new Pi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function K3(...t){return gm._create("endBefore",t,!1)}function G3(...t){return gm._create("endAt",t,!0)}function Sx(t,e,n,r){if(n[0]=ee(n[0]),n[0]instanceof Fc)return function(s,o,a,l,u){if(!l)throw new $(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of xa(s))if(h.field.isKeyField())d.push(To(o,l.key));else{const f=l.data.field(h.field);if(Jp(f))throw new $(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new $(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new Is(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Uo(t.firestore);return function(o,a,l,u,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new $(F.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let _=0;_<d.length;_++){const w=d[_];if(f[_].field.isKeyField()){if(typeof w!="string")throw new $(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!F0(o)&&w.indexOf("/")!==-1)throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const S=o.path.child(fe.fromString(w));if(!G.isDocumentKey(S))throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${S}' is not because it contains an odd number of segments.`);const E=new G(S);m.push(To(a,E))}else{const S=vx(l,u,w);m.push(S)}}return new Is(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function s1(t,e,n){if(typeof(n=ee(n))=="string"){if(n==="")throw new $(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F0(e)&&n.indexOf("/")!==-1)throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!G.isDocumentKey(r))throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return To(t,new G(r))}if(n instanceof Je)return To(t,n._key);throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lm(n)}.`)}function o1(t,e){if(!Array.isArray(t)||t.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bx(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ow{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ms(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ue(o.doubleValue));return new ww(s)}convertGeoPoint(e){return new um(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const n=wi(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);X(yk(r));const i=new vs(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Q3 extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ii=class extends Fc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ju(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ju=class extends Ii{data(e={}){return super.data(e)}},bs=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ju(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ju(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ao(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ju(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ao(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:J3(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function J3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}function Rx(t,e){return t instanceof Ii&&e instanceof Ii?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof bs&&e instanceof bs&&t._firestore===e._firestore&&fx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){t=ve(t,Je);const e=ve(t.firestore,dt);return rx(Zt(e),t._key).then(n=>Nw(e,t,n))}class jo extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Je(this.firestore,null,n)}}function X3(t){t=ve(t,Je);const e=ve(t.firestore,dt),n=Zt(e),r=new jo(e);return v3(n,t._key).then(i=>new Ii(e,r,t._key,i,new ao(i!==null&&i.hasLocalMutations,!0),t.converter))}function Z3(t){t=ve(t,Je);const e=ve(t.firestore,dt);return rx(Zt(e),t._key,{source:"server"}).then(n=>Nw(e,t,n))}function ez(t){t=ve(t,dn);const e=ve(t.firestore,dt),n=Zt(e),r=new jo(e);return Tx(t._query),ix(n,t._query).then(i=>new bs(e,r,t,i))}function tz(t){t=ve(t,dn);const e=ve(t.firestore,dt),n=Zt(e),r=new jo(e);return w3(n,t._query).then(i=>new bs(e,r,t,i))}function nz(t){t=ve(t,dn);const e=ve(t.firestore,dt),n=Zt(e),r=new jo(e);return ix(n,t._query,{source:"server"}).then(i=>new bs(e,r,t,i))}function a1(t,e,n){t=ve(t,Je);const r=ve(t.firestore,dt),i=ym(t.converter,e,n);return vd(r,[dm(Uo(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$e.none())])}function l1(t,e,n,...r){t=ve(t,Je);const i=ve(t.firestore,dt),s=Uo(i);let o;return o=typeof(e=ee(e))=="string"||e instanceof Ss?Rw(s,"updateDoc",t._key,e,n,r):bw(s,"updateDoc",t._key,e),vd(i,[o.toMutation(t._key,$e.exists(!0))])}function rz(t){return vd(ve(t.firestore,dt),[new Sl(t._key,$e.none())])}function iz(t,e){const n=ve(t.firestore,dt),r=rp(t),i=ym(t.converter,e);return vd(n,[dm(Uo(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function Ax(t,...e){var n,r,i;t=ee(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||k_(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(k_(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof Je)u=ve(t.firestore,dt),d=Il(t._key.path),l={next:h=>{e[o]&&e[o](Nw(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ve(t,dn);u=ve(h.firestore,dt),d=h._query;const f=new jo(u);l={next:m=>{e[o]&&e[o](new bs(u,f,h,m))},error:e[o+1],complete:e[o+2]},Tx(t._query)}return function(f,m,_,w){const S=new om(w),E=new cw(m,S,_);return f.asyncQueue.enqueueAndForget(async()=>aw(await sl(f),E)),()=>{S.eu(),f.asyncQueue.enqueueAndForget(async()=>lw(await sl(f),E))}}(Zt(u),d,a,l)}function sz(t,e){return E3(Zt(t=ve(t,dt)),k_(e)?e:{next:e})}function vd(t,e){return function(r,i){const s=new Ft;return r.asyncQueue.enqueueAndForget(async()=>G$(await _w(r),i,s)),s.promise}(Zt(t),e)}function Nw(t,e,n){const r=n.docs.get(e._key),i=new jo(t);return new Ii(t,i,e._key,r,new ao(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let az=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Uo(e)}set(e,n,r){this._verifyNotCommitted();const i=Qi(e,this._firestore),s=ym(i.converter,n,r),o=dm(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,$e.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Qi(e,this._firestore);let o;return o=typeof(n=ee(n))=="string"||n instanceof Ss?Rw(this._dataReader,"WriteBatch.update",s._key,n,r,i):bw(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,$e.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Qi(e,this._firestore);return this._mutations=this._mutations.concat(new Sl(n._key,$e.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Qi(t,e){if((t=ee(t)).firestore!==e)throw new $(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lz=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Uo(n)}get(n){const r=Qi(n,this._firestore),i=new Q3(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return J();const o=s[0];if(o.isFoundDocument())return new Fc(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Fc(this._firestore,i,r._key,null,r.converter);throw J()})}set(n,r,i){const s=Qi(n,this._firestore),o=ym(s.converter,r,i),a=dm(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Qi(n,this._firestore);let a;return a=typeof(r=ee(r))=="string"||r instanceof Ss?Rw(this._dataReader,"Transaction.update",o._key,r,i,s):bw(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Qi(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Qi(e,this._firestore),r=new jo(this._firestore);return super.get(e).then(i=>new Ii(this._firestore,r,n._key,i._document,new ao(!1,!1),n.converter))}};function uz(t,e,n){t=ve(t,dt);const r=Object.assign(Object.assign({},oz),n);return function(s){if(s.maxAttempts<1)throw new $(F.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Ft;return s.asyncQueue.enqueueAndForget(async()=>{const u=await g3(s);new p3(s.asyncQueue,u,a,o,l).cu()}),l.promise}(Zt(t),i=>e(new lz(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(){return new yd("deleteField")}function dz(){return new Ew("serverTimestamp")}function hz(...t){return new Iw("arrayUnion",t)}function fz(...t){return new Tw("arrayRemove",t)}function pz(t){return new Sw("increment",t)}(function(e,n=!0){(function(i){El=i})(Ns),gs(new jr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new dt(new wj(r.getProvider("auth-internal")),new Sj(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vs(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pr(XT,"4.7.5",e),pr(XT,"4.7.5","esm2017")})();const mz="@firebase/firestore-compat",gz="0.3.40";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new $("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){if(typeof Uint8Array>"u")throw new $("unimplemented","Uint8Arrays are not available in this environment.")}function c1(){if(!Jj())throw new $("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Px=class O_{constructor(e){this._delegate=e}static fromBase64String(e){return c1(),new O_(qr.fromBase64String(e))}static fromUint8Array(e){return u1(),new O_(qr.fromUint8Array(e))}toBase64(){return c1(),this._delegate.toBase64()}toUint8Array(){return u1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t){return yz(t,["next","error","complete"])}function yz(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{enableIndexedDbPersistence(e,n){return P3(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return C3(e._delegate)}clearIndexedDbPersistence(e){return k3(e._delegate)}}class Cx{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof vs||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&zr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){S3(this._delegate,e,n,r)}enableNetwork(){return O3(this._delegate)}disableNetwork(){return N3(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ox("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return x3(this._delegate)}onSnapshotsInSync(e){return sz(this._delegate,e)}get app(){if(!this._appCompat)throw new $("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ol(this,dx(this._delegate,e))}catch(n){throw an(n,"collection()","Firestore.collection()")}}doc(e){try{return new Kn(this,rp(this._delegate,e))}catch(n){throw an(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new on(this,b3(this._delegate,e))}catch(n){throw an(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return uz(this._delegate,n=>e(new kx(this,n)))}batch(){return Zt(this._delegate),new xx(new az(this._delegate,e=>vd(this._delegate,e)))}loadBundle(e){return D3(this._delegate,e)}namedQuery(e){return V3(this._delegate,e).then(n=>n?new on(this,n):null)}}class _m extends Ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new Px(new qr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Kn.forKey(n,this.firestore,null)}}function vz(t){gj(t)}class kx{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new _m(e)}get(e){const n=lo(e);return this._delegate.get(n).then(r=>new Uc(this._firestore,new Ii(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=lo(e);return r?(Dw("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=lo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=lo(e);return this._delegate.delete(n),this}}class xx{constructor(e){this._delegate=e}set(e,n,r){const i=lo(e);return r?(Dw("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=lo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=lo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class ko{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Ju(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=ko.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new ko(e,new _m(e),n),i.set(n,s)),s}}ko.INSTANCES=new WeakMap;class Kn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _m(e)}static forPath(e,n,r){if(e.length%2!==0)throw new $("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Kn(n,new Je(n._delegate,r,new G(e)))}static forKey(e,n,r){return new Kn(n,new Je(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ol(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ol(this.firestore,dx(this._delegate,e))}catch(n){throw an(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ee(e),e instanceof Je?hx(this._delegate,e):!1}set(e,n){n=Dw("DocumentReference.set",n);try{return n?a1(this._delegate,e,n):a1(this._delegate,e)}catch(r){throw an(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?l1(this._delegate,e):l1(this._delegate,e,n,...r)}catch(i){throw an(i,"updateDoc()","DocumentReference.update()")}}delete(){return rz(this._delegate)}onSnapshot(...e){const n=Ox(e),r=Nx(e,i=>new Uc(this.firestore,new Ii(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Ax(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=X3(this._delegate):(e==null?void 0:e.source)==="server"?n=Z3(this._delegate):n=Y3(this._delegate),n.then(r=>new Uc(this.firestore,new Ii(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Kn(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function an(t,e,n){return t.message=t.message.replace(e,n),t}function Ox(t){for(const e of t)if(typeof e=="object"&&!N_(e))return e;return{}}function Nx(t,e){var n,r;let i;return N_(t[0])?i=t[0]:N_(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Uc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Kn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Rx(this._delegate,e._delegate)}}class Bc extends Uc{data(e){const n=this._delegate.data(e);return this._delegate._converter||yj(n!==void 0),n}}class on{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new _m(e)}where(e,n,r){try{return new on(this.firestore,ji(this._delegate,j3(e,n,r)))}catch(i){throw an(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new on(this.firestore,ji(this._delegate,$3(e,n)))}catch(r){throw an(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new on(this.firestore,ji(this._delegate,z3(e)))}catch(n){throw an(n,"limit()","Query.limit()")}}limitToLast(e){try{return new on(this.firestore,ji(this._delegate,W3(e)))}catch(n){throw an(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new on(this.firestore,ji(this._delegate,q3(...e)))}catch(n){throw an(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new on(this.firestore,ji(this._delegate,H3(...e)))}catch(n){throw an(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new on(this.firestore,ji(this._delegate,K3(...e)))}catch(n){throw an(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new on(this.firestore,ji(this._delegate,G3(...e)))}catch(n){throw an(n,"endAt()","Query.endAt()")}}isEqual(e){return fx(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=tz(this._delegate):(e==null?void 0:e.source)==="server"?n=nz(this._delegate):n=ez(this._delegate),n.then(r=>new D_(this.firestore,new bs(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Ox(e),r=Nx(e,i=>new D_(this.firestore,new bs(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Ax(this._delegate,n,r)}withConverter(e){return new on(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class wz{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Bc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class D_{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new on(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new wz(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Bc(this._firestore,r))})}isEqual(e){return Rx(this._delegate,e._delegate)}}class ol extends on{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Kn(this.firestore,e):null}doc(e){try{return e===void 0?new Kn(this.firestore,rp(this._delegate)):new Kn(this.firestore,rp(this._delegate,e))}catch(n){throw an(n,"doc()","CollectionReference.doc()")}}add(e){return iz(this._delegate,e).then(n=>new Kn(this.firestore,n))}isEqual(e){return hx(this._delegate,e._delegate)}withConverter(e){return new ol(this.firestore,e?this._delegate.withConverter(ko.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function lo(t){return ve(t,Je)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(...e){this._delegate=new Ss(...e)}static documentId(){return new Vw(je.keyField().canonicalString())}isEqual(e){return e=ee(e),e instanceof Ss?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static serverTimestamp(){const e=dz();return e._methodName="FieldValue.serverTimestamp",new to(e)}static delete(){const e=cz();return e._methodName="FieldValue.delete",new to(e)}static arrayUnion(...e){const n=hz(...e);return n._methodName="FieldValue.arrayUnion",new to(n)}static arrayRemove(...e){const n=fz(...e);return n._methodName="FieldValue.arrayRemove",new to(n)}static increment(e){const n=pz(e);return n._methodName="FieldValue.increment",new to(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez={Firestore:Cx,GeoPoint:um,Timestamp:ze,Blob:Px,Transaction:kx,WriteBatch:xx,DocumentReference:Kn,DocumentSnapshot:Uc,Query:on,QueryDocumentSnapshot:Bc,QuerySnapshot:D_,CollectionReference:ol,FieldPath:Vw,FieldValue:to,setLogLevel:vz,CACHE_SIZE_UNLIMITED:A3};function Iz(t,e){t.INTERNAL.registerComponent(new jr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Ez)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){Iz(t,(e,n)=>new Cx(e,n,new _z)),t.registerVersion(mz,gz)}Tz(yl);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz=2e3;async function bz(t,e,n){var r;const{BuildInfo:i}=xo();gr(e.sessionId,"AuthEvent did not contain a session ID");const s=await kz(e.sessionId),o={};return nd()?o.ibi=i.packageName:td()?o.apn=i.packageName:kt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,u_(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function Rz(t){const{BuildInfo:e}=xo(),n={};nd()?n.iosBundleId=e.packageName:td()?n.androidPackageName=e.packageName:kt(t,"operation-not-supported-in-this-environment"),await oC(t,n)}function Az(t){const{cordova:e}=xo();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,T4()?"_blank":"_system","location=yes"),n(i)})})}async function Pz(t,e,n){const{cordova:r}=xo();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var h;s();const f=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Tt(t,"redirect-cancelled-by-user"))},Sz))}function d(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),td()&&document.addEventListener("visibilitychange",d,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",d,!1),a&&window.clearTimeout(a)}})}finally{i()}}function Cz(t){var e,n,r,i,s,o,a,l,u,d;const h=xo();W(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),W(typeof((n=h==null?void 0:h.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),W(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((l=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),W(typeof((d=(u=h==null?void 0:h.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||d===void 0?void 0:d.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function kz(t){const e=xz(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function xz(t){if(gr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=20;class Nz extends iC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Dz(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Mz(),postBody:null,tenantId:t.tenantId,error:Tt(t,"no-auth-event")}}function Vz(t,e){return V_()._set(L_(t),e)}async function d1(t){const e=await V_()._get(L_(t));return e&&await V_()._remove(L_(t)),e}function Lz(t,e){var n,r;const i=Uz(e);if(i.includes("/__/auth/callback")){const s=ef(i),o=s.firebaseError?Fz(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Tt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Mz(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Oz;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function V_(){return Nn(Wp)}function L_(t){return fo("authEvent",t.config.apiKey,t.name)}function Fz(t){try{return JSON.parse(t)}catch{return null}}function Uz(t){const e=ef(t),n=e.link?decodeURIComponent(e.link):void 0,r=ef(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ef(i).link||i||r||n||t}function ef(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return wa(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=500;class jz{constructor(){this._redirectPersistence=ys,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gp,this._overrideRedirectResult=x0}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new Nz(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){kt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){Cz(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),bB(),await this._originValidation(e);const o=Dz(e,r,i);await Vz(e,o);const a=await bz(e,o,n),l=await Az(a);return Pz(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rz(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=xo(),o=setTimeout(async()=>{await d1(e),n.onEvent(h1())},Bz),a=async d=>{clearTimeout(o);const h=await d1(e);let f=null;h&&(d!=null&&d.url)&&(f=Lz(h,d.url)),n.onEvent(f||h1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;xo().handleOpenURL=async d=>{if(d.toLowerCase().startsWith(u)&&a({url:d}),typeof l=="function")try{l(d)}catch(h){console.error(h)}}}}const $z=jz;function h1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Tt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(t,e){Ze(t)._logFramework(e)}var Wz="@firebase/auth-compat",qz="0.5.16";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=1e3;function Yu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function Kz(){return Yu()==="http:"||Yu()==="https:"}function Dx(t=Xe()){return!!((Yu()==="file:"||Yu()==="ionic:"||Yu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gz(){return c0()||u0()}function Qz(){return YA()&&(document==null?void 0:document.documentMode)===11}function Jz(t=Xe()){return/Edge\/\d+/.test(t)}function Yz(t=Xe()){return Qz()||Jz(t)}function Vx(){try{const t=self.localStorage,e=sd();if(t)return t.setItem(e,"1"),t.removeItem(e),Yz()?Ec():!0}catch{return Lw()&&Ec()}return!1}function Lw(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yg(){return(Kz()||JA()||Dx())&&!Gz()&&Vx()&&!Lw()}function Lx(){return Dx()&&typeof document<"u"}async function Xz(){return Lx()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Hz);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function Zz(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn={LOCAL:"local",NONE:"none",SESSION:"session"},cu=W,Mx="persistence";function e9(t,e){if(cu(Object.values(Cn).includes(e),t,"invalid-persistence-type"),c0()){cu(e!==Cn.SESSION,t,"unsupported-persistence-type");return}if(u0()){cu(e===Cn.NONE,t,"unsupported-persistence-type");return}if(Lw()){cu(e===Cn.NONE||e===Cn.LOCAL&&Ec(),t,"unsupported-persistence-type");return}cu(e===Cn.NONE||Vx(),t,"unsupported-persistence-type")}async function M_(t){await t._initializationPromise;const e=Fx(),n=fo(Mx,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function t9(t,e){const n=Fx();if(!n)return[];const r=fo(Mx,t,e);switch(n.getItem(r)){case Cn.NONE:return[qa];case Cn.LOCAL:return[Ka,ys];case Cn.SESSION:return[ys];default:return[]}}function Fx(){var t;try{return((t=Zz())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=W;class Zi{constructor(){this.browserResolver=Nn(aC),this.cordovaResolver=Nn($z),this.underlyingResolver=null,this._redirectPersistence=ys,this._completeRedirectFn=Gp,this._overrideRedirectResult=x0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Lx()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return n9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await Xz();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t){return t.unwrap()}function r9(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t){return Bx(t)}function s9(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new o9(t,BU(t,e))}else if(r){const i=Bx(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function Bx(t){const{_tokenResponse:e}=t instanceof un?t.customData:t;if(!e)return null;if(!(t instanceof un)&&"temporaryProof"in e&&"phoneNumber"in e)return Io.credentialFromResult(t);const n=e.providerId;if(!n||n===ru.PASSWORD)return null;let r;switch(n){case ru.GOOGLE:r=Pr;break;case ru.FACEBOOK:r=Ar;break;case ru.GITHUB:r=Cr;break;case ru.TWITTER:r=kr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Ha._create(n,a):$r._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Ca(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof un?r.credentialFromError(t):r.credentialFromResult(t)}function pn(t,e){return e.catch(n=>{throw n instanceof un&&s9(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:i9(n),additionalUserInfo:MU(n),user:ci.getOrCreate(i)}})}async function F_(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>pn(t,n.confirm(r))}}class o9{constructor(e,n){this.resolver=n,this.auth=r9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return pn(Ux(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._delegate=e,this.multiFactor=zU(e)}static getOrCreate(e){return ci.USER_MAP.has(e)||ci.USER_MAP.set(e,new ci(e)),ci.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return pn(this.auth,jP(this._delegate,e))}async linkWithPhoneNumber(e,n){return F_(this.auth,hB(this._delegate,e,n))}async linkWithPopup(e){return pn(this.auth,EB(this._delegate,e,Zi))}async linkWithRedirect(e){return await M_(Ze(this.auth)),kB(this._delegate,e,Zi)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return pn(this.auth,$P(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return F_(this.auth,fB(this._delegate,e,n))}reauthenticateWithPopup(e){return pn(this.auth,wB(this._delegate,e,Zi))}async reauthenticateWithRedirect(e){return await M_(Ze(this.auth)),PB(this._delegate,e,Zi)}sendEmailVerification(e){return RU(this._delegate,e)}async unlink(e){return await pU(this._delegate,e),this}updateEmail(e){return kU(this._delegate,e)}updatePassword(e){return xU(this._delegate,e)}updatePhoneNumber(e){return pB(this._delegate,e)}updateProfile(e){return CU(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return AU(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ci.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=W;let U_=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;du(r,"invalid-api-key",{appName:e.name}),du(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Zi:void 0;this._delegate=n.initialize({options:{persistence:a9(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(i4),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ci.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){NP(this._delegate,e,n)}applyActionCode(e){return vU(this._delegate,e)}checkActionCode(e){return zP(this._delegate,e)}confirmPasswordReset(e,n){return _U(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return pn(this._delegate,WP(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return bU(this._delegate,e)}isSignInWithEmailLink(e){return IU(this._delegate,e)}async getRedirectResult(){du(Yg(),this._delegate,"operation-not-supported-in-this-environment");const e=await OB(this._delegate,Zi);return e?pn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){zz(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=f1(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=f1(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return EU(this._delegate,e,n)}sendPasswordResetEmail(e,n){return yU(this._delegate,e,n||void 0)}async setPersistence(e){e9(this._delegate,e);let n;switch(e){case Cn.SESSION:n=ys;break;case Cn.LOCAL:n=await Nn(Ka)._isAvailable()?Ka:Wp;break;case Cn.NONE:n=qa;break;default:return kt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return pn(this._delegate,fU(this._delegate))}signInWithCredential(e){return pn(this._delegate,$p(this._delegate,e))}signInWithCustomToken(e){return pn(this._delegate,gU(this._delegate,e))}signInWithEmailAndPassword(e,n){return pn(this._delegate,qP(this._delegate,e,n))}signInWithEmailLink(e,n){return pn(this._delegate,TU(this._delegate,e,n))}signInWithPhoneNumber(e,n){return F_(this._delegate,dB(this._delegate,e,n))}async signInWithPopup(e){return du(Yg(),this._delegate,"operation-not-supported-in-this-environment"),pn(this._delegate,vB(this._delegate,e,Zi))}async signInWithRedirect(e){return du(Yg(),this._delegate,"operation-not-supported-in-this-environment"),await M_(this._delegate),RB(this._delegate,e,Zi)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return wU(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};U_.Persistence=Cn;function f1(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&ci.getOrCreate(o)),error:e,complete:n}}function a9(t,e){const n=t9(t,e);if(typeof self<"u"&&!n.includes(Ka)&&n.push(Ka),typeof window<"u")for(const r of[Wp,ys])n.includes(r)||n.push(r);return n.includes(qa)||n.push(qa),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{static credential(e,n){return Io.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Io(Ux(yl.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}Mw.PHONE_SIGN_IN_METHOD=Io.PHONE_SIGN_IN_METHOD;Mw.PROVIDER_ID=Io.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=W;class u9{constructor(e,n,r=yl.app()){var i;l9((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new uB(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9="auth-compat";function d9(t){t.INTERNAL.registerComponent(new jr(c9,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new U_(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ko.EMAIL_SIGNIN,PASSWORD_RESET:Ko.PASSWORD_RESET,RECOVER_EMAIL:Ko.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ko.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ko.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ko.VERIFY_EMAIL}},EmailAuthProvider:Ds,FacebookAuthProvider:Ar,GithubAuthProvider:Cr,GoogleAuthProvider:Pr,OAuthProvider:Ca,SAMLAuthProvider:jf,PhoneAuthProvider:Mw,PhoneMultiFactorGenerator:lC,RecaptchaVerifier:u9,TwitterAuthProvider:kr,Auth:U_,AuthCredential:vl,Error:un}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Wz,qz)}d9(yl);const h9={apiKey:"AIzaSyDhwiGmMSidZuqztTobXPgMsHyMNTyobwY",authDomain:"clone-24a51.firebaseapp.com",projectId:"clone-24a51",storageBucket:"clone-24a51.firebasestorage.app",messagingSenderId:"298717927743",appId:"1:298717927743:web:1c15c75b67a032b3d95b8a"},jx=yl.initializeApp(h9),sp=pj(jx),$x=jx.firestore();function f9(){var i;const[{basket:t,user:e},n]=V.useContext(bi),r=t==null?void 0:t.reduce((s,o)=>o.amount+s,0);return O.jsxs("section",{className:ei.fixed,children:[O.jsxs("div",{className:ei.header_container,children:[O.jsxs("div",{className:ei.header_logo,children:[O.jsx(Vt,{to:"/",children:O.jsx("img",{src:"https://pngimg.com/uploads/amazon/small/amazon_PNG11.png",alt:"amazon logo"})}),O.jsxs("div",{className:ei.delivery,children:[O.jsx("span",{children:O.jsx(iM,{})}),O.jsxs("div",{children:[O.jsx("p",{children:"Delivered to"}),O.jsx("span",{children:"Canada"})]})]})]}),O.jsxs("div",{className:ei.search,children:[O.jsx("select",{name:"",id:"",children:O.jsx("option",{value:"",children:"All"})}),O.jsx("input",{type:"text",id:"",placeholder:"Search Amazon"}),O.jsx(rM,{size:38})]}),O.jsxs("div",{className:ei.order_container,children:[O.jsxs(Vt,{to:"/",className:ei.language,children:[O.jsx("img",{src:"https://pngimg.com/uploads/flags/small/flags_PNG14655.png",alt:"usa flag"}),O.jsx("select",{children:O.jsx("option",{value:"",children:"EN"})})]}),O.jsx(Vt,{to:!e&&"/auth",children:O.jsx("div",{children:e?O.jsxs(O.Fragment,{children:[O.jsxs("p",{children:["Hello,",(i=e==null?void 0:e.email)==null?void 0:i.split("@")[0]]}),O.jsx("span",{onClick:()=>sp.signOut(),children:"signOut"})]}):O.jsxs(O.Fragment,{children:[O.jsx("p",{children:"Hello, sign In"}),O.jsx("span",{children:"Accounts&Lists "})]})})}),O.jsxs(Vt,{to:"/Orders",children:[O.jsx("p",{children:"returns"}),O.jsx("span",{children:"& Orders"})]}),O.jsxs(Vt,{to:"/cart",className:ei.cart,children:[O.jsx(nM,{size:35}),O.jsxs("span",{children:[r," "]})]})]})]}),O.jsx(mM,{})]})}function Cl({children:t}){return O.jsxs("div",{children:[O.jsx(f9,{}),t]})}var zx={},vm={},Fw={},Xg={},Wx={exports:{}},p9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",m9=p9,g9=m9;function qx(){}function Hx(){}Hx.resetWarningCache=qx;var y9=function(){function t(r,i,s,o,a,l){if(l!==g9){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Hx,resetWarningCache:qx};return n.PropTypes=n,n};Wx.exports=y9();var Kx=Wx.exports;const He=lv(Kx);var p1;function _9(){return p1||(p1=1,function(t){(function(e,n){n(t,V,Kx)})(av,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=_;var i=o(n),s=o(r);function o(v){return v&&v.__esModule?v:{default:v}}var a=Object.assign||function(v){for(var I=1;I<arguments.length;I++){var k=arguments[I];for(var x in k)Object.prototype.hasOwnProperty.call(k,x)&&(v[x]=k[x])}return v};function l(v,I){var k={};for(var x in v)I.indexOf(x)>=0||Object.prototype.hasOwnProperty.call(v,x)&&(k[x]=v[x]);return k}function u(v,I){if(!(v instanceof I))throw new TypeError("Cannot call a class as a function")}var d=function(){function v(I,k){for(var x=0;x<k.length;x++){var D=k[x];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}return function(I,k,x){return k&&v(I.prototype,k),x&&v(I,x),I}}();function h(v,I){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:v}function f(v,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);v.prototype=Object.create(I&&I.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(v,I):v.__proto__=I)}var m=!1;function _(v){m=v}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){_(!0)}}))}catch{}function w(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return m?v:v.capture}function S(v){if("touches"in v){var I=v.touches[0],k=I.pageX,x=I.pageY;return{x:k,y:x}}var D=v.screenX,b=v.screenY;return{x:D,y:b}}var E=function(v){f(I,v);function I(){var k;u(this,I);for(var x=arguments.length,D=Array(x),b=0;b<x;b++)D[b]=arguments[b];var T=h(this,(k=I.__proto__||Object.getPrototypeOf(I)).call.apply(k,[this].concat(D)));return T._handleSwipeStart=T._handleSwipeStart.bind(T),T._handleSwipeMove=T._handleSwipeMove.bind(T),T._handleSwipeEnd=T._handleSwipeEnd.bind(T),T._onMouseDown=T._onMouseDown.bind(T),T._onMouseMove=T._onMouseMove.bind(T),T._onMouseUp=T._onMouseUp.bind(T),T._setSwiperRef=T._setSwiperRef.bind(T),T}return d(I,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,w({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,w({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(x){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(x))}},{key:"_onMouseMove",value:function(x){this.mouseDown&&this._handleSwipeMove(x)}},{key:"_onMouseUp",value:function(x){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(x)}},{key:"_handleSwipeStart",value:function(x){var D=S(x),b=D.x,T=D.y;this.moveStart={x:b,y:T},this.props.onSwipeStart(x)}},{key:"_handleSwipeMove",value:function(x){if(this.moveStart){var D=S(x),b=D.x,T=D.y,A=b-this.moveStart.x,g=T-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:A,y:g},x);P&&x.cancelable&&x.preventDefault(),this.movePosition={deltaX:A,deltaY:g}}}},{key:"_handleSwipeEnd",value:function(x){this.props.onSwipeEnd(x);var D=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-D?this.props.onSwipeLeft(1,x):this.movePosition.deltaX>D&&this.props.onSwipeRight(1,x),this.movePosition.deltaY<-D?this.props.onSwipeUp(1,x):this.movePosition.deltaY>D&&this.props.onSwipeDown(1,x)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(x){this.swiper=x,this.props.innerRef(x)}},{key:"render",value:function(){var x=this.props;x.tagName;var D=x.className,b=x.style,T=x.children;x.allowMouseEvents,x.onSwipeUp,x.onSwipeDown,x.onSwipeLeft,x.onSwipeRight,x.onSwipeStart,x.onSwipeMove,x.onSwipeEnd,x.innerRef,x.tolerance;var A=l(x,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:D,style:b},A),T)}}]),I}(n.Component);E.displayName="ReactSwipe",E.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},E.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=E})}(Xg)),Xg}(function(t){(function(e,n){n(t,_9())})(av,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(Fw);var wd={},Gx={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Gx);var v9=Gx.exports;Object.defineProperty(wd,"__esModule",{value:!0});wd.default=void 0;var $i=w9(v9);function w9(t){return t&&t.__esModule?t:{default:t}}function E9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I9={ROOT:function(e){return(0,$i.default)(E9({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,$i.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,$i.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,$i.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,$i.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,$i.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,$i.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,$i.default)({dot:!0,selected:e})}};wd.default=I9;var Ed={},wm={};Object.defineProperty(wm,"__esModule",{value:!0});wm.outerWidth=void 0;var T9=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};wm.outerWidth=T9;var kl={};Object.defineProperty(kl,"__esModule",{value:!0});kl.default=void 0;var S9=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};kl.default=S9;var Id={};Object.defineProperty(Id,"__esModule",{value:!0});Id.default=void 0;var b9=function(){return window};Id.default=b9;Object.defineProperty(Ed,"__esModule",{value:!0});Ed.default=void 0;var or=P9(V),qs=Em(wd),R9=wm,m1=Em(kl),A9=Em(Fw),vh=Em(Id);function Em(t){return t&&t.__esModule?t:{default:t}}function Qx(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return Qx=function(){return t},t}function P9(t){if(t&&t.__esModule)return t;if(t===null||Xu(t)!=="object"&&typeof t!="function")return{default:t};var e=Qx();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Xu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(n){return typeof n}:Xu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xu(t)}function B_(){return B_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B_.apply(this,arguments)}function C9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x9(t,e,n){return e&&k9(t.prototype,e),t}function O9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},j_(t,e)}function N9(t){var e=V9();return function(){var r=op(t),i;if(e){var s=op(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return D9(this,i)}}function D9(t,e){return e&&(Xu(e)==="object"||typeof e=="function")?e:rn(t)}function rn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V9(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L9=function(e){return e.hasOwnProperty("key")},Uw=function(t){O9(n,t);var e=N9(n);function n(r){var i;return C9(this,n),i=e.call(this,r),Kt(rn(i),"itemsWrapperRef",void 0),Kt(rn(i),"itemsListRef",void 0),Kt(rn(i),"thumbsRef",void 0),Kt(rn(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),Kt(rn(i),"setItemsListRef",function(s){i.itemsListRef=s}),Kt(rn(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),Kt(rn(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=or.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,R9.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),u=l<s,d=u?s-l:0;i.setState(function(h,f){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(f.selectedItem):0,lastPosition:d,showArrows:u}})}}),Kt(rn(i),"handleClickItem",function(s,o,a){if(!L9(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),Kt(rn(i),"onSwipeStart",function(){i.setState({swiping:!0})}),Kt(rn(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),Kt(rn(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=or.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,d=Math.max(l-i.state.visibleItems,0),h=-d*100/i.state.visibleItems;u===a&&o>0&&(o=0),u===h&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,m=u+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){i.itemsListRef.style[_]=(0,m1.default)(m,"%",i.props.axis)}),!0}),Kt(rn(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),Kt(rn(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),Kt(rn(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return x9(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,vh.default)().addEventListener("resize",this.updateSizes),(0,vh.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,vh.default)().removeEventListener("resize",this.updateSizes),(0,vh.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=qs.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(d){return i.setThumbsRef(d,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return or.default.createElement("li",B_({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=or.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),d=(0,m1.default)(u,"px",this.props.axis),h=this.props.transitionTime+"ms";return l={WebkitTransform:d,MozTransform:d,MsTransform:d,OTransform:d,transform:d,msTransform:d,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},or.default.createElement("div",{className:qs.default.CAROUSEL(!1)},or.default.createElement("div",{className:qs.default.WRAPPER(!1),ref:this.setItemsWrapperRef},or.default.createElement("button",{type:"button",className:qs.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?or.default.createElement(A9.default,{tagName:"ul",className:qs.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):or.default.createElement("ul",{className:qs.default.SLIDER(!1,this.state.swiping),ref:function(m){return i.setItemsListRef(m)},style:l},this.renderItems()),or.default.createElement("button",{type:"button",className:qs.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(or.Component);Ed.default=Uw;Kt(Uw,"displayName","Thumbs");Kt(Uw,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.default=void 0;var M9=function(){return document};Im.default=M9;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.setPosition=kn.getPosition=kn.isKeyboardEvent=kn.defaultStatusFormatter=kn.noop=void 0;var F9=V,U9=B9(kl);function B9(t){return t&&t.__esModule?t:{default:t}}var j9=function(){};kn.noop=j9;var $9=function(e,n){return"".concat(e," of ").concat(n)};kn.defaultStatusFormatter=$9;var z9=function(e){return e?e.hasOwnProperty("key"):!1};kn.isKeyboardEvent=z9;var W9=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=F9.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};kn.getPosition=W9;var q9=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,U9.default)(e,"%",n)}),r};kn.setPosition=q9;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.fadeAnimationHandler=Dr.slideStopSwipingHandler=Dr.slideSwipeAnimationHandler=Dr.slideAnimationHandler=void 0;var Jx=V,H9=K9(kl),Vr=kn;function K9(t){return t&&t.__esModule?t:{default:t}}function g1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g1(Object(n),!0).forEach(function(r){G9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G9(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q9=function(e,n){var r={},i=n.selectedItem,s=i,o=Jx.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,Vr.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,Vr.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,Vr.setPosition)(0,e.axis)),r;var l=(0,Vr.getPosition)(i,e),u=(0,H9.default)(l,"%",e.axis),d=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=no(no({},r.itemListStyle),{},{WebkitTransitionDuration:d,MozTransitionDuration:d,OTransitionDuration:d,transitionDuration:d,msTransitionDuration:d})),r};Dr.slideAnimationHandler=Q9;var J9=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=Jx.Children.count(n.children),l=0,u=(0,Vr.getPosition)(r.selectedItem,n),d=n.infiniteLoop?(0,Vr.getPosition)(a-1,n)-100:(0,Vr.getPosition)(a-1,n),h=o?e.x:e.y,f=h;u===l&&h>0&&(f=0),u===d&&h<0&&(f=0);var m=u+100/(r.itemSize/f),_=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&_&&(r.selectedItem===0&&m>-100?m-=a*100:r.selectedItem===a-1&&m<-a*100&&(m+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||_||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,Vr.setPosition)(m,n.axis)),_&&!r.cancelClick&&i({cancelClick:!0}),s};Dr.slideSwipeAnimationHandler=J9;var Y9=function(e,n){var r=(0,Vr.getPosition)(n.selectedItem,e),i=(0,Vr.setPosition)(r,e.axis);return{itemListStyle:i}};Dr.slideStopSwipingHandler=Y9;var X9=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=no(no({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:no(no({},s),{},{opacity:1,position:"relative"}),prevStyle:no({},s)}};Dr.fadeAnimationHandler=X9;Object.defineProperty(vm,"__esModule",{value:!0});vm.default=void 0;var Se=t6(V),Z9=Td(Fw),ri=Td(wd),e6=Td(Ed),wh=Td(Im),Eh=Td(Id),Cu=kn,ap=Dr;function Td(t){return t&&t.__esModule?t:{default:t}}function Yx(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return Yx=function(){return t},t}function t6(t){if(t&&t.__esModule)return t;if(t===null||Zu(t)!=="object"&&typeof t!="function")return{default:t};var e=Yx();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Zu(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zu=function(n){return typeof n}:Zu=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zu(t)}function $_(){return $_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function y1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(n),!0).forEach(function(r){ae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i6(t,e,n){return e&&r6(t.prototype,e),t}function s6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},z_(t,e)}function o6(t){var e=l6();return function(){var r=lp(t),i;if(e){var s=lp(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return a6(this,i)}}function a6(t,e){return e&&(Zu(e)==="object"||typeof e=="function")?e:ue(t)}function ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bw=function(t){s6(n,t);var e=o6(n);function n(r){var i;n6(this,n),i=e.call(this,r),ae(ue(i),"thumbsRef",void 0),ae(ue(i),"carouselWrapperRef",void 0),ae(ue(i),"listRef",void 0),ae(ue(i),"itemsRef",void 0),ae(ue(i),"timer",void 0),ae(ue(i),"animationHandler",void 0),ae(ue(i),"setThumbsRef",function(o){i.thumbsRef=o}),ae(ue(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),ae(ue(i),"setListRef",function(o){i.listRef=o}),ae(ue(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),ae(ue(i),"autoPlay",function(){Se.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),ae(ue(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),ae(ue(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),ae(ue(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),ae(ue(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),ae(ue(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,wh.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,wh.default)().activeElement)):!1}),ae(ue(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},d=l?u.ArrowRight:u.ArrowDown,h=l?u.ArrowLeft:u.ArrowUp;d===o.keyCode?i.increment():h===o.keyCode&&i.decrement()}}),ae(ue(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),ae(ue(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),ae(ue(i),"handleClickItem",function(o,a){if(Se.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),ae(ue(i),"handleOnChange",function(o,a){Se.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),ae(ue(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),ae(ue(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),ae(ue(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),ae(ue(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(ue(i)));return i.setState(ar({},l)),!!Object.keys(l).length}),ae(ue(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),ae(ue(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),ae(ue(i),"moveTo",function(o){if(typeof o=="number"){var a=Se.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),ae(ue(i),"onClickNext",function(){i.increment(1)}),ae(ue(i),"onClickPrev",function(){i.decrement(1)}),ae(ue(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),ae(ue(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),ae(ue(i),"changeItem",function(o){return function(a){(!(0,Cu.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),ae(ue(i),"selectItem",function(o){i.setState(ar({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,Se.Children.toArray(i.props.children)[o.selectedItem])}),ae(ue(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),ae(ue(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var d=function m(){i.forceUpdate(),u.removeEventListener("load",m)};u.addEventListener("load",d)}}var h=l[0]||a.children[0],f=h.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&ap.fadeAnimationHandler||ap.slideAnimationHandler,i.state=ar(ar({},s),i.animationHandler(r,s)),i}return i6(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(ar({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&Se.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,Eh.default)().addEventListener("resize",this.updateSizes),(0,Eh.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,wh.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,Eh.default)().removeEventListener("resize",this.updateSizes),(0,Eh.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,wh.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?Se.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,u=a===s.state.previousItem,d=l&&s.state.selectedStyle||u&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(d=ar(ar({},d),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(d=ar(ar({},d),{},{pointerEvents:"none"}));var h={ref:function(m){return s.setItemsRef(m,a)},key:"itemKey"+a+(i?"clone":""),className:ri.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:d};return Se.default.createElement("li",h,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,u=s.children;return o?Se.default.createElement("ul",{className:"control-dots"},Se.Children.map(u,function(d,h){return l&&l(i.changeItem(h),h===i.state.selectedItem,h,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Se.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Se.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Se.Children.count(this.props.children)===0?null:Se.default.createElement(e6.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||Se.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&Se.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&Se.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<Se.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,d=this.renderItems(!0),h=d.shift(),f=d.pop(),m={className:ri.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},_={};if(o){if(m.onSwipeLeft=this.onSwipeForward,m.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var w=this.getVariableItemHeight(this.state.selectedItem);_.height=w||"auto"}}else m.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,m.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,m.style=ar(ar({},m.style),{},{height:this.state.itemSize}),_.height=this.state.itemSize;return Se.default.createElement("div",{"aria-label":this.props.ariaLabel,className:ri.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Se.default.createElement("div",{className:ri.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),Se.default.createElement("div",{className:ri.default.WRAPPER(!0,this.props.axis),style:_},s?Se.default.createElement(Z9.default,$_({tagName:"ul",innerRef:this.setListRef},m,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h):Se.default.createElement("ul",{className:ri.default.SLIDER(!0,this.state.swiping),ref:function(E){return i.setListRef(E)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(Se.default.Component);vm.default=Bw;ae(Bw,"displayName","Carousel");ae(Bw,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Cu.noop,onClickThumb:Cu.noop,onChange:Cu.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return Se.default.createElement("button",{type:"button","aria-label":r,className:ri.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return Se.default.createElement("button",{type:"button","aria-label":r,className:ri.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return Se.default.createElement("li",{className:ri.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=Se.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=Se.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Cu.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:ap.slideSwipeAnimationHandler,stopSwipingHandler:ap.slideStopSwipingHandler});var u6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(vm),n=u6,r=i(Ed);function i(s){return s&&s.__esModule?s:{default:s}}})(zx);const c6="/assets/100010-C8F5dv5r.jpg",d6="/assets/10002-CJAxNHiB.jpg",h6="/assets/10003-Co1id2Ib.jpg",f6="/assets/10004-sqMeQTYX.jpg",p6="/assets/10005-bl35EseN.jpg",m6="/assets/10001-Fp0oaH3y.jpg",Zg=[c6,d6,h6,f6,p6,m6],g6="_hero_img_1t7mf_1",y6={hero_img:g6};function _6(){return O.jsxs("div",{children:[O.jsx(zx.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,showStatus:!1,children:Zg==null?void 0:Zg.map((t,e)=>O.jsx("img",{src:t},e))}),O.jsx("div",{className:y6.hero_img})]})}const v6="_catagory_8zwhd_1",w6="_catagory_container_8zwhd_53",Xx={catagory:v6,catagory_container:w6};function E6({data:t}){return O.jsx("div",{className:Xx.catagory,children:O.jsxs(Vt,{to:`/category/${t==null?void 0:t.name}`,children:[O.jsx("span",{children:O.jsx("h2",{children:t==null?void 0:t.title})}),O.jsx("img",{src:t==null?void 0:t.imgLink,alt:""}),O.jsx("p",{children:"shop now"})]})})}const I6=[{title:"Electronics",name:"electronics",imgLink:"https://m.media-amazon.com/images/I/81xZ069pe1L._AC_SY200_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/71KQvJeJYPL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/71onbH6SHsL._AC_SX522_.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71XAvVEAzgL._AC_UL480_FMwebp_QL65_.jpg"}];function T6(){return O.jsx("div",{className:Xx.catagory_container,children:I6.map((t,e)=>O.jsx(E6,{data:t},e))})}function Zx(t,e){return function(){return t.apply(e,arguments)}}const{toString:S6}=Object.prototype,{getPrototypeOf:jw}=Object,Tm=(t=>e=>{const n=S6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yr=t=>(t=t.toLowerCase(),e=>Tm(e)===t),Sm=t=>e=>typeof e===t,{isArray:xl}=Array,jc=Sm("undefined");function b6(t){return t!==null&&!jc(t)&&t.constructor!==null&&!jc(t.constructor)&&Vn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eO=yr("ArrayBuffer");function R6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eO(t.buffer),e}const A6=Sm("string"),Vn=Sm("function"),tO=Sm("number"),bm=t=>t!==null&&typeof t=="object",P6=t=>t===!0||t===!1,tf=t=>{if(Tm(t)!=="object")return!1;const e=jw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},C6=yr("Date"),k6=yr("File"),x6=yr("Blob"),O6=yr("FileList"),N6=t=>bm(t)&&Vn(t.pipe),D6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vn(t.append)&&((e=Tm(t))==="formdata"||e==="object"&&Vn(t.toString)&&t.toString()==="[object FormData]"))},V6=yr("URLSearchParams"),[L6,M6,F6,U6]=["ReadableStream","Request","Response","Headers"].map(yr),B6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Sd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),xl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function nO(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rO=t=>!jc(t)&&t!==uo;function W_(){const{caseless:t}=rO(this)&&this||{},e={},n=(r,i)=>{const s=t&&nO(e,i)||i;tf(e[s])&&tf(r)?e[s]=W_(e[s],r):tf(r)?e[s]=W_({},r):xl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Sd(arguments[r],n);return e}const j6=(t,e,n,{allOwnKeys:r}={})=>(Sd(e,(i,s)=>{n&&Vn(i)?t[s]=Zx(i,n):t[s]=i},{allOwnKeys:r}),t),$6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),z6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},W6=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&jw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},q6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},H6=t=>{if(!t)return null;if(xl(t))return t;let e=t.length;if(!tO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},K6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&jw(Uint8Array)),G6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Q6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},J6=yr("HTMLFormElement"),Y6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),_1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),X6=yr("RegExp"),iO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Sd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},Z6=t=>{iO(t,(e,n)=>{if(Vn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Vn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},eW=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return xl(t)?r(t):r(String(t).split(e)),n},tW=()=>{},nW=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,ey="abcdefghijklmnopqrstuvwxyz",v1="0123456789",sO={DIGIT:v1,ALPHA:ey,ALPHA_DIGIT:ey+ey.toUpperCase()+v1},rW=(t=16,e=sO.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function iW(t){return!!(t&&Vn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const sW=t=>{const e=new Array(10),n=(r,i)=>{if(bm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=xl(r)?[]:{};return Sd(r,(o,a)=>{const l=n(o,i+1);!jc(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},oW=yr("AsyncFunction"),aW=t=>t&&(bm(t)||Vn(t))&&Vn(t.then)&&Vn(t.catch),oO=((t,e)=>t?setImmediate:e?((n,r)=>(uo.addEventListener("message",({source:i,data:s})=>{i===uo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),uo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Vn(uo.postMessage)),lW=typeof queueMicrotask<"u"?queueMicrotask.bind(uo):typeof process<"u"&&process.nextTick||oO,B={isArray:xl,isArrayBuffer:eO,isBuffer:b6,isFormData:D6,isArrayBufferView:R6,isString:A6,isNumber:tO,isBoolean:P6,isObject:bm,isPlainObject:tf,isReadableStream:L6,isRequest:M6,isResponse:F6,isHeaders:U6,isUndefined:jc,isDate:C6,isFile:k6,isBlob:x6,isRegExp:X6,isFunction:Vn,isStream:N6,isURLSearchParams:V6,isTypedArray:K6,isFileList:O6,forEach:Sd,merge:W_,extend:j6,trim:B6,stripBOM:$6,inherits:z6,toFlatObject:W6,kindOf:Tm,kindOfTest:yr,endsWith:q6,toArray:H6,forEachEntry:G6,matchAll:Q6,isHTMLForm:J6,hasOwnProperty:_1,hasOwnProp:_1,reduceDescriptors:iO,freezeMethods:Z6,toObjectSet:eW,toCamelCase:Y6,noop:tW,toFiniteNumber:nW,findKey:nO,global:uo,isContextDefined:rO,ALPHABET:sO,generateString:rW,isSpecCompliantForm:iW,toJSONObject:sW,isAsyncFn:oW,isThenable:aW,setImmediate:oO,asap:lW};function se(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}B.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const aO=se.prototype,lO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lO[t]={value:t}});Object.defineProperties(se,lO);Object.defineProperty(aO,"isAxiosError",{value:!0});se.from=(t,e,n,r,i,s)=>{const o=Object.create(aO);return B.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),se.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const uW=null;function q_(t){return B.isPlainObject(t)||B.isArray(t)}function uO(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function w1(t,e,n){return t?t.concat(e).map(function(i,s){return i=uO(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function cW(t){return B.isArray(t)&&!t.some(q_)}const dW=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Rm(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!B.isUndefined(S[w])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(B.isDate(_))return _.toISOString();if(!l&&B.isBlob(_))throw new se("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(_)||B.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function d(_,w,S){let E=_;if(_&&!S&&typeof _=="object"){if(B.endsWith(w,"{}"))w=r?w:w.slice(0,-2),_=JSON.stringify(_);else if(B.isArray(_)&&cW(_)||(B.isFileList(_)||B.endsWith(w,"[]"))&&(E=B.toArray(_)))return w=uO(w),E.forEach(function(I,k){!(B.isUndefined(I)||I===null)&&e.append(o===!0?w1([w],k,s):o===null?w:w+"[]",u(I))}),!1}return q_(_)?!0:(e.append(w1(S,w,s),u(_)),!1)}const h=[],f=Object.assign(dW,{defaultVisitor:d,convertValue:u,isVisitable:q_});function m(_,w){if(!B.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(_),B.forEach(_,function(E,v){(!(B.isUndefined(E)||E===null)&&i.call(e,E,B.isString(v)?v.trim():v,w,f))===!0&&m(E,w?w.concat(v):[v])}),h.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return m(t),e}function E1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function $w(t,e){this._pairs=[],t&&Rm(t,this,e)}const cO=$w.prototype;cO.append=function(e,n){this._pairs.push([e,n])};cO.toString=function(e){const n=e?function(r){return e.call(this,r,E1)}:E1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function hW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dO(t,e,n){if(!e)return t;const r=n&&n.encode||hW;B.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=B.isURLSearchParams(e)?e.toString():new $w(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class I1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const hO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fW=typeof URLSearchParams<"u"?URLSearchParams:$w,pW=typeof FormData<"u"?FormData:null,mW=typeof Blob<"u"?Blob:null,gW={isBrowser:!0,classes:{URLSearchParams:fW,FormData:pW,Blob:mW},protocols:["http","https","file","blob","url","data"]},zw=typeof window<"u"&&typeof document<"u",H_=typeof navigator=="object"&&navigator||void 0,yW=zw&&(!H_||["ReactNative","NativeScript","NS"].indexOf(H_.product)<0),_W=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",vW=zw&&window.location.href||"http://localhost",wW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zw,hasStandardBrowserEnv:yW,hasStandardBrowserWebWorkerEnv:_W,navigator:H_,origin:vW},Symbol.toStringTag,{value:"Module"})),Jt={...wW,...gW};function EW(t,e){return Rm(t,new Jt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Jt.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function IW(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function TW(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function fO(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&B.isArray(i)?i.length:o,l?(B.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!B.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&B.isArray(i[o])&&(i[o]=TW(i[o])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,i)=>{e(IW(r),i,n,0)}),n}return null}function SW(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const bd={transitional:hO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=B.isObject(e);if(s&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return i?JSON.stringify(fO(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return EW(e,this.formSerializer).toString();if((a=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Rm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),SW(e)):e}],transformResponse:[function(e){const n=this.transitional||bd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{bd.headers[t]={}});const bW=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RW=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&bW[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},T1=Symbol("internals");function hu(t){return t&&String(t).trim().toLowerCase()}function nf(t){return t===!1||t==null?t:B.isArray(t)?t.map(nf):String(t)}function AW(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const PW=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ty(t,e,n,r,i){if(B.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function CW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function kW(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Tn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const d=hu(l);if(!d)throw new Error("header name must be a non-empty string");const h=B.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=nf(a))}const o=(a,l)=>B.forEach(a,(u,d)=>s(u,d,l));if(B.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(B.isString(e)&&(e=e.trim())&&!PW(e))o(RW(e),n);else if(B.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=hu(e),e){const r=B.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return AW(i);if(B.isFunction(n))return n.call(this,i,r);if(B.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=hu(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ty(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=hu(o),o){const a=B.findKey(r,o);a&&(!n||ty(r,r[a],a,n))&&(delete r[a],i=!0)}}return B.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||ty(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return B.forEach(this,(i,s)=>{const o=B.findKey(r,s);if(o){n[o]=nf(i),delete n[s];return}const a=e?CW(s):String(s).trim();a!==s&&delete n[s],n[a]=nf(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[T1]=this[T1]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=hu(o);r[a]||(kW(i,o),r[a]=!0)}return B.isArray(e)?e.forEach(s):s(e),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Tn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(Tn);function ny(t,e){const n=this||bd,r=e||n,i=Tn.from(r.headers);let s=r.data;return B.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function pO(t){return!!(t&&t.__CANCEL__)}function Ol(t,e,n){se.call(this,t??"canceled",se.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(Ol,se,{__CANCEL__:!0});function mO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function xW(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function OW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function NW(t,e){let n=0,r=1e3/e,i,s;const o=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const up=(t,e,n=3)=>{let r=0;const i=OW(50,250);return NW(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},S1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},b1=t=>(...e)=>B.asap(()=>t(...e)),DW=Jt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Jt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,VW=Jt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];B.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),B.isString(r)&&o.push("path="+r),B.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function LW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function MW(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gO(t,e){return t&&!LW(e)?MW(t,e):e}const R1=t=>t instanceof Tn?{...t}:t;function Oo(t,e){e=e||{};const n={};function r(u,d,h,f){return B.isPlainObject(u)&&B.isPlainObject(d)?B.merge.call({caseless:f},u,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function i(u,d,h,f){if(B.isUndefined(d)){if(!B.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function s(u,d){if(!B.isUndefined(d))return r(void 0,d)}function o(u,d){if(B.isUndefined(d)){if(!B.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,h){if(h in e)return r(u,d);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>i(R1(u),R1(d),h,!0)};return B.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,f=h(t[d],e[d],d);B.isUndefined(f)&&h!==a||(n[d]=f)}),n}const yO=t=>{const e=Oo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Tn.from(o),e.url=dO(gO(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(B.isFormData(n)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Jt.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&DW(e.url))){const u=i&&s&&VW.read(s);u&&o.set(i,u)}return e},FW=typeof XMLHttpRequest<"u",UW=FW&&function(t){return new Promise(function(n,r){const i=yO(t);let s=i.data;const o=Tn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,m,_;function w(){m&&m(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function E(){if(!S)return;const I=Tn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:I,config:t,request:S};mO(function(b){n(b),w()},function(b){r(b),w()},x),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(r(new se("Request aborted",se.ECONNABORTED,t,S)),S=null)},S.onerror=function(){r(new se("Network Error",se.ERR_NETWORK,t,S)),S=null},S.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||hO;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new se(k,x.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,t,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&B.forEach(o.toJSON(),function(k,x){S.setRequestHeader(x,k)}),B.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),a&&a!=="json"&&(S.responseType=i.responseType),u&&([f,_]=up(u,!0),S.addEventListener("progress",f)),l&&S.upload&&([h,m]=up(l),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=I=>{S&&(r(!I||I.type?new Ol(null,t,S):I),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=xW(i.url);if(v&&Jt.protocols.indexOf(v)===-1){r(new se("Unsupported protocol "+v+":",se.ERR_BAD_REQUEST,t));return}S.send(s||null)})},BW=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof se?d:new Ol(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new se(`timeout ${e} of ms exceeded`,se.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>B.asap(a),l}},jW=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},$W=async function*(t,e){for await(const n of zW(t))yield*jW(n,e)},zW=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},A1=(t,e,n,r)=>{const i=$W(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Am=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",_O=Am&&typeof ReadableStream=="function",WW=Am&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),vO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},qW=_O&&vO(()=>{let t=!1;const e=new Request(Jt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),P1=64*1024,K_=_O&&vO(()=>B.isReadableStream(new Response("").body)),cp={stream:K_&&(t=>t.body)};Am&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!cp[e]&&(cp[e]=B.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new se(`Response type '${e}' is not supported`,se.ERR_NOT_SUPPORT,r)})})})(new Response);const HW=async t=>{if(t==null)return 0;if(B.isBlob(t))return t.size;if(B.isSpecCompliantForm(t))return(await new Request(Jt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(B.isArrayBufferView(t)||B.isArrayBuffer(t))return t.byteLength;if(B.isURLSearchParams(t)&&(t=t+""),B.isString(t))return(await WW(t)).byteLength},KW=async(t,e)=>{const n=B.toFiniteNumber(t.getContentLength());return n??HW(e)},GW=Am&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:f}=yO(t);u=u?(u+"").toLowerCase():"text";let m=BW([i,s&&s.toAbortSignal()],o),_;const w=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let S;try{if(l&&qW&&n!=="get"&&n!=="head"&&(S=await KW(d,r))!==0){let x=new Request(e,{method:"POST",body:r,duplex:"half"}),D;if(B.isFormData(r)&&(D=x.headers.get("content-type"))&&d.setContentType(D),x.body){const[b,T]=S1(S,up(b1(l)));r=A1(x.body,P1,b,T)}}B.isString(h)||(h=h?"include":"omit");const E="credentials"in Request.prototype;_=new Request(e,{...f,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:E?h:void 0});let v=await fetch(_);const I=K_&&(u==="stream"||u==="response");if(K_&&(a||I&&w)){const x={};["status","statusText","headers"].forEach(A=>{x[A]=v[A]});const D=B.toFiniteNumber(v.headers.get("content-length")),[b,T]=a&&S1(D,up(b1(a),!0))||[];v=new Response(A1(v.body,P1,b,()=>{T&&T(),w&&w()}),x)}u=u||"text";let k=await cp[B.findKey(cp,u)||"text"](v,t);return!I&&w&&w(),await new Promise((x,D)=>{mO(x,D,{data:k,headers:Tn.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:_})})}catch(E){throw w&&w(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,t,_),{cause:E.cause||E}):se.from(E,E&&E.code,t,_)}}),G_={http:uW,xhr:UW,fetch:GW};B.forEach(G_,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const C1=t=>`- ${t}`,QW=t=>B.isFunction(t)||t===null||t===!1,wO={getAdapter:t=>{t=B.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!QW(n)&&(r=G_[(o=String(n)).toLowerCase()],r===void 0))throw new se(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(C1).join(`
`):" "+C1(s[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:G_};function ry(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ol(null,t)}function k1(t){return ry(t),t.headers=Tn.from(t.headers),t.data=ny.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wO.getAdapter(t.adapter||bd.adapter)(t).then(function(r){return ry(t),r.data=ny.call(t,t.transformResponse,r),r.headers=Tn.from(r.headers),r},function(r){return pO(r)||(ry(t),r&&r.response&&(r.response.data=ny.call(t,t.transformResponse,r.response),r.response.headers=Tn.from(r.response.headers))),Promise.reject(r)})}const EO="1.7.8",Pm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const x1={};Pm.transitional=function(e,n,r){function i(s,o){return"[Axios v"+EO+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new se(i(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!x1[o]&&(x1[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Pm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function JW(t,e,n){if(typeof t!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new se("option "+s+" must be "+l,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+s,se.ERR_BAD_OPTION)}}const rf={assertOptions:JW,validators:Pm},Er=rf.validators;let go=class{constructor(e){this.defaults=e,this.interceptors={request:new I1,response:new I1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Oo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&rf.assertOptions(r,{silentJSONParsing:Er.transitional(Er.boolean),forcedJSONParsing:Er.transitional(Er.boolean),clarifyTimeoutError:Er.transitional(Er.boolean)},!1),i!=null&&(B.isFunction(i)?n.paramsSerializer={serialize:i}:rf.assertOptions(i,{encode:Er.function,serialize:Er.function},!0)),rf.assertOptions(n,{baseUrl:Er.spelling("baseURL"),withXsrfToken:Er.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&B.merge(s.common,s[n.method]);s&&B.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=Tn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let d,h=0,f;if(!l){const _=[k1.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),f=_.length,d=Promise.resolve(n);h<f;)d=d.then(_[h++],_[h++]);return d}f=a.length;let m=n;for(h=0;h<f;){const _=a[h++],w=a[h++];try{m=_(m)}catch(S){w.call(this,S);break}}try{d=k1.call(this,m)}catch(_){return Promise.reject(_)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=Oo(this.defaults,e);const n=gO(e.baseURL,e.url);return dO(n,e.params,e.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(e){go.prototype[e]=function(n,r){return this.request(Oo(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Oo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}go.prototype[e]=n(),go.prototype[e+"Form"]=n(!0)});let YW=class IO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Ol(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new IO(function(i){e=i}),cancel:e}}};function XW(t){return function(n){return t.apply(null,n)}}function ZW(t){return B.isObject(t)&&t.isAxiosError===!0}const Q_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Q_).forEach(([t,e])=>{Q_[e]=t});function TO(t){const e=new go(t),n=Zx(go.prototype.request,e);return B.extend(n,go.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return TO(Oo(t,i))},n}const We=TO(bd);We.Axios=go;We.CanceledError=Ol;We.CancelToken=YW;We.isCancel=pO;We.VERSION=EO;We.toFormData=Rm;We.AxiosError=se;We.Cancel=We.CanceledError;We.all=function(e){return Promise.all(e)};We.spread=XW;We.isAxiosError=ZW;We.mergeConfig=Oo;We.AxiosHeaders=Tn;We.formToJSON=t=>fO(B.isHTMLForm(t)?new FormData(t):t);We.getAdapter=wO.getAdapter;We.HttpStatusCode=Q_;We.default=We;const{Axios:dG,AxiosError:hG,CanceledError:fG,isCancel:pG,CancelToken:mG,VERSION:gG,all:yG,Cancel:_G,isAxiosError:vG,spread:wG,toFormData:EG,AxiosHeaders:IG,HttpStatusCode:TG,formToJSON:SG,getAdapter:bG,mergeConfig:RG}=We;function SO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ec(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SO(t))&&(r&&(r+=" "),r+=e);return r}function bO(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const eq={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function RO(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(o+=(a===!0?"":" ")+e(u),a=!1,n&&n[u]&&(o+=" "+n[u]))}r[i]=o}return r}const tq=V.createContext(),nq=()=>V.useContext(tq)??!1;function O1(t){try{return t.matches(":focus-visible")}catch{}return!1}function ii(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function AO(t){if(V.isValidElement(t)||!ii(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=AO(t[n])}),e}function Ln(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return ii(t)&&ii(e)&&Object.keys(e).forEach(i=>{V.isValidElement(e[i])?r[i]=e[i]:ii(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&ii(t[i])?r[i]=Ln(t[i],e[i],n):n.clone?r[i]=ii(e[i])?AO(e[i]):e[i]:r[i]=e[i]}),r}function No(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Rs(t){if(typeof t!="string")throw new Error(No(7));return t.charAt(0).toUpperCase()+t.slice(1)}function rq(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let N1=0;function iq(t){const[e,n]=V.useState(t),r=t||e;return V.useEffect(()=>{e==null&&(N1+=1,n(`mui-${N1}`))},[e]),r}const sq={...uy},D1=sq.useId;function PO(t){if(D1!==void 0){const e=D1();return t??e}return iq(t)}function oq({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=V.useRef(t!==void 0),[s,o]=V.useState(e),a=i?t:s,l=V.useCallback(u=>{i||o(u)},[]);return[a,l]}function aq(...t){return V.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{rq(n,e)})},t)}function J_(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const l=a;n[i][l]=J_(s[l],o[l])}}}else n[i]===void 0&&(n[i]=t[i])}return n}const V1=t=>t,lq=()=>{let t=V1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=V1}}},uq=lq(),cq={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ww(t,e,n="Mui"){const r=cq[e];return r?`${n}-${r}`:`${uq.generate(t)}-${e}`}function CO(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ww(t,i,n)}),r}function tc(t,e){return e?Ln(t,e,{clone:!1}):t}function dq(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function hq(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function fq(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function pq(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const l=e(t.breakpoints.not(...a),o);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Cm={xs:0,sm:600,md:900,lg:1200,xl:1536},L1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Cm[t]}px)`},mq={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Cm[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Ti(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||L1;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||L1;return Object.keys(e).reduce((o,a)=>{if(hq(s.keys,a)){const l=fq(r.containerQueries?r:mq,a);l&&(o[l]=n(e[a],a))}else if(Object.keys(s.values||Cm).includes(a)){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function gq(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function yq(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function km(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function dp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=km(t,n)||r,e&&(i=e(i,r,t)),i}function ht(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=km(l,r)||{};return Ti(o,a,h=>{let f=dp(u,i,h);return h===f&&typeof h=="string"&&(f=dp(u,i,`${e}${h==="default"?"":Rs(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function _q(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const vq={m:"margin",p:"padding"},wq={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},M1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Eq=_q(t=>{if(t.length>2)if(M1[t])t=M1[t];else return[t];const[e,n]=t.split(""),r=vq[e],i=wq[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),qw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Hw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qw,...Hw];function Rd(t,e,n,r){const i=km(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function Kw(t){return Rd(t,"spacing",8)}function Ad(t,e){return typeof e=="string"||e==null?e:t(e)}function Iq(t,e){return n=>t.reduce((r,i)=>(r[i]=Ad(e,n),r),{})}function Tq(t,e,n,r){if(!e.includes(n))return null;const i=Eq(n),s=Iq(i,r),o=t[n];return Ti(t,o,s)}function kO(t,e){const n=Kw(t.theme);return Object.keys(t).map(r=>Tq(t,e,r,n)).reduce(tc,{})}function tt(t){return kO(t,qw)}tt.propTypes={};tt.filterProps=qw;function nt(t){return kO(t,Hw)}nt.propTypes={};nt.filterProps=Hw;function xm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?tc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function qn(t){return typeof t!="number"?t:`${t}px solid`}function Zn(t,e){return ht({prop:t,themeKey:"borders",transform:e})}const Sq=Zn("border",qn),bq=Zn("borderTop",qn),Rq=Zn("borderRight",qn),Aq=Zn("borderBottom",qn),Pq=Zn("borderLeft",qn),Cq=Zn("borderColor"),kq=Zn("borderTopColor"),xq=Zn("borderRightColor"),Oq=Zn("borderBottomColor"),Nq=Zn("borderLeftColor"),Dq=Zn("outline",qn),Vq=Zn("outlineColor"),Om=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Rd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ad(e,r)});return Ti(t,t.borderRadius,n)}return null};Om.propTypes={};Om.filterProps=["borderRadius"];xm(Sq,bq,Rq,Aq,Pq,Cq,kq,xq,Oq,Nq,Om,Dq,Vq);const Nm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Rd(t.theme,"spacing",8),n=r=>({gap:Ad(e,r)});return Ti(t,t.gap,n)}return null};Nm.propTypes={};Nm.filterProps=["gap"];const Dm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Rd(t.theme,"spacing",8),n=r=>({columnGap:Ad(e,r)});return Ti(t,t.columnGap,n)}return null};Dm.propTypes={};Dm.filterProps=["columnGap"];const Vm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Rd(t.theme,"spacing",8),n=r=>({rowGap:Ad(e,r)});return Ti(t,t.rowGap,n)}return null};Vm.propTypes={};Vm.filterProps=["rowGap"];const Lq=ht({prop:"gridColumn"}),Mq=ht({prop:"gridRow"}),Fq=ht({prop:"gridAutoFlow"}),Uq=ht({prop:"gridAutoColumns"}),Bq=ht({prop:"gridAutoRows"}),jq=ht({prop:"gridTemplateColumns"}),$q=ht({prop:"gridTemplateRows"}),zq=ht({prop:"gridTemplateAreas"}),Wq=ht({prop:"gridArea"});xm(Nm,Dm,Vm,Lq,Mq,Fq,Uq,Bq,jq,$q,zq,Wq);function Na(t,e){return e==="grey"?e:t}const qq=ht({prop:"color",themeKey:"palette",transform:Na}),Hq=ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Na}),Kq=ht({prop:"backgroundColor",themeKey:"palette",transform:Na});xm(qq,Hq,Kq);function xn(t){return t<=1&&t!==0?`${t*100}%`:t}const Gq=ht({prop:"width",transform:xn}),Gw=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,l;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Cm[n];return r?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:xn(n)}};return Ti(t,t.maxWidth,e)}return null};Gw.filterProps=["maxWidth"];const Qq=ht({prop:"minWidth",transform:xn}),Jq=ht({prop:"height",transform:xn}),Yq=ht({prop:"maxHeight",transform:xn}),Xq=ht({prop:"minHeight",transform:xn});ht({prop:"size",cssProperty:"width",transform:xn});ht({prop:"size",cssProperty:"height",transform:xn});const Zq=ht({prop:"boxSizing"});xm(Gq,Gw,Qq,Jq,Yq,Xq,Zq);const Lm={border:{themeKey:"borders",transform:qn},borderTop:{themeKey:"borders",transform:qn},borderRight:{themeKey:"borders",transform:qn},borderBottom:{themeKey:"borders",transform:qn},borderLeft:{themeKey:"borders",transform:qn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Om},color:{themeKey:"palette",transform:Na},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Na},backgroundColor:{themeKey:"palette",transform:Na},p:{style:nt},pt:{style:nt},pr:{style:nt},pb:{style:nt},pl:{style:nt},px:{style:nt},py:{style:nt},padding:{style:nt},paddingTop:{style:nt},paddingRight:{style:nt},paddingBottom:{style:nt},paddingLeft:{style:nt},paddingX:{style:nt},paddingY:{style:nt},paddingInline:{style:nt},paddingInlineStart:{style:nt},paddingInlineEnd:{style:nt},paddingBlock:{style:nt},paddingBlockStart:{style:nt},paddingBlockEnd:{style:nt},m:{style:tt},mt:{style:tt},mr:{style:tt},mb:{style:tt},ml:{style:tt},mx:{style:tt},my:{style:tt},margin:{style:tt},marginTop:{style:tt},marginRight:{style:tt},marginBottom:{style:tt},marginLeft:{style:tt},marginX:{style:tt},marginY:{style:tt},marginInline:{style:tt},marginInlineStart:{style:tt},marginInlineEnd:{style:tt},marginBlock:{style:tt},marginBlockStart:{style:tt},marginBlockEnd:{style:tt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Nm},rowGap:{style:Vm},columnGap:{style:Dm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xn},maxWidth:{style:Gw},minWidth:{transform:xn},height:{transform:xn},maxHeight:{transform:xn},minHeight:{transform:xn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function e8(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function t8(t,e){return typeof t=="function"?t(e):t}function n8(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:d,style:h}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const f=km(i,u)||{};return h?h(o):Ti(o,r,_=>{let w=dp(f,d,_);return _===w&&typeof _=="string"&&(w=dp(f,d,`${n}${_==="default"?"":Rs(_)}`,_)),l===!1?w:{[l]:w}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??Lm;function o(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const u=gq(i.breakpoints),d=Object.keys(u);let h=u;return Object.keys(l).forEach(f=>{const m=t8(l[f],i);if(m!=null)if(typeof m=="object")if(s[f])h=tc(h,t(f,m,i,s));else{const _=Ti({theme:i},m,w=>({[f]:w}));e8(_,m)?h[f]=e({sx:m,theme:i}):h=tc(h,_)}else h=tc(h,t(f,m,i,s))}),dq(i,yq(d,h))}return Array.isArray(r)?r.map(o):o(r)}return e}const al=n8();al.filterProps=["sx"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(null,arguments)}function xO(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var r8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i8=xO(function(t){return r8.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),s8=!1;function o8(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function a8(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var l8=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!s8:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(a8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=o8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ht="-ms-",hp="-moz-",we="-webkit-",OO="comm",Qw="rule",Jw="decl",u8="@import",NO="@keyframes",c8="@layer",d8=Math.abs,Mm=String.fromCharCode,h8=Object.assign;function f8(t,e){return Dt(t,0)^45?(((e<<2^Dt(t,0))<<2^Dt(t,1))<<2^Dt(t,2))<<2^Dt(t,3):0}function DO(t){return t.trim()}function p8(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function X_(t,e){return t.indexOf(e)}function Dt(t,e){return t.charCodeAt(e)|0}function $c(t,e,n){return t.slice(e,n)}function Sr(t){return t.length}function Yw(t){return t.length}function Ih(t,e){return e.push(t),t}function m8(t,e){return t.map(e).join("")}var Fm=1,ll=1,VO=0,Sn=0,gt=0,Nl="";function Um(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Fm,column:ll,length:o,return:""}}function fu(t,e){return h8(Um("",null,null,"",null,null,0),t,{length:-t.length},e)}function g8(){return gt}function y8(){return gt=Sn>0?Dt(Nl,--Sn):0,ll--,gt===10&&(ll=1,Fm--),gt}function Mn(){return gt=Sn<VO?Dt(Nl,Sn++):0,ll++,gt===10&&(ll=1,Fm++),gt}function Br(){return Dt(Nl,Sn)}function sf(){return Sn}function Pd(t,e){return $c(Nl,t,e)}function zc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LO(t){return Fm=ll=1,VO=Sr(Nl=t),Sn=0,[]}function MO(t){return Nl="",t}function of(t){return DO(Pd(Sn-1,Z_(t===91?t+2:t===40?t+1:t)))}function _8(t){for(;(gt=Br())&&gt<33;)Mn();return zc(t)>2||zc(gt)>3?"":" "}function v8(t,e){for(;--e&&Mn()&&!(gt<48||gt>102||gt>57&&gt<65||gt>70&&gt<97););return Pd(t,sf()+(e<6&&Br()==32&&Mn()==32))}function Z_(t){for(;Mn();)switch(gt){case t:return Sn;case 34:case 39:t!==34&&t!==39&&Z_(gt);break;case 40:t===41&&Z_(t);break;case 92:Mn();break}return Sn}function w8(t,e){for(;Mn()&&t+gt!==57;)if(t+gt===84&&Br()===47)break;return"/*"+Pd(e,Sn-1)+"*"+Mm(t===47?t:Mn())}function E8(t){for(;!zc(Br());)Mn();return Pd(t,Sn)}function I8(t){return MO(af("",null,null,null,[""],t=LO(t),0,[0],t))}function af(t,e,n,r,i,s,o,a,l){for(var u=0,d=0,h=o,f=0,m=0,_=0,w=1,S=1,E=1,v=0,I="",k=i,x=s,D=r,b=I;S;)switch(_=v,v=Mn()){case 40:if(_!=108&&Dt(b,h-1)==58){X_(b+=Ee(of(v),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:b+=of(v);break;case 9:case 10:case 13:case 32:b+=_8(_);break;case 92:b+=v8(sf()-1,7);continue;case 47:switch(Br()){case 42:case 47:Ih(T8(w8(Mn(),sf()),e,n),l);break;default:b+="/"}break;case 123*w:a[u++]=Sr(b)*E;case 125*w:case 59:case 0:switch(v){case 0:case 125:S=0;case 59+d:E==-1&&(b=Ee(b,/\f/g,"")),m>0&&Sr(b)-h&&Ih(m>32?U1(b+";",r,n,h-1):U1(Ee(b," ","")+";",r,n,h-2),l);break;case 59:b+=";";default:if(Ih(D=F1(b,e,n,u,d,i,a,I,k=[],x=[],h),s),v===123)if(d===0)af(b,e,D,D,k,s,h,a,x);else switch(f===99&&Dt(b,3)===110?100:f){case 100:case 108:case 109:case 115:af(t,D,D,r&&Ih(F1(t,D,D,0,0,i,a,I,i,k=[],h),x),i,x,h,a,r?k:x);break;default:af(b,D,D,D,[""],x,0,a,x)}}u=d=m=0,w=E=1,I=b="",h=o;break;case 58:h=1+Sr(b),m=_;default:if(w<1){if(v==123)--w;else if(v==125&&w++==0&&y8()==125)continue}switch(b+=Mm(v),v*w){case 38:E=d>0?1:(b+="\f",-1);break;case 44:a[u++]=(Sr(b)-1)*E,E=1;break;case 64:Br()===45&&(b+=of(Mn())),f=Br(),d=h=Sr(I=b+=E8(sf())),v++;break;case 45:_===45&&Sr(b)==2&&(w=0)}}return s}function F1(t,e,n,r,i,s,o,a,l,u,d){for(var h=i-1,f=i===0?s:[""],m=Yw(f),_=0,w=0,S=0;_<r;++_)for(var E=0,v=$c(t,h+1,h=d8(w=o[_])),I=t;E<m;++E)(I=DO(w>0?f[E]+" "+v:Ee(v,/&\f/g,f[E])))&&(l[S++]=I);return Um(t,e,n,i===0?Qw:a,l,u,d)}function T8(t,e,n){return Um(t,e,n,OO,Mm(g8()),$c(t,2,-2),0)}function U1(t,e,n,r){return Um(t,e,n,Jw,$c(t,0,r),$c(t,r+1,-1),r)}function Da(t,e){for(var n="",r=Yw(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function S8(t,e,n,r){switch(t.type){case c8:if(t.children.length)break;case u8:case Jw:return t.return=t.return||t.value;case OO:return"";case NO:return t.return=t.value+"{"+Da(t.children,r)+"}";case Qw:t.value=t.props.join(",")}return Sr(n=Da(t.children,r))?t.return=t.value+"{"+n+"}":""}function b8(t){var e=Yw(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function R8(t){return function(e){e.root||(e=e.return)&&t(e)}}var A8=function(e,n,r){for(var i=0,s=0;i=s,s=Br(),i===38&&s===12&&(n[r]=1),!zc(s);)Mn();return Pd(e,Sn)},P8=function(e,n){var r=-1,i=44;do switch(zc(i)){case 0:i===38&&Br()===12&&(n[r]=1),e[r]+=A8(Sn-1,n,r);break;case 2:e[r]+=of(i);break;case 4:if(i===44){e[++r]=Br()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Mm(i)}while(i=Mn());return e},C8=function(e,n){return MO(P8(LO(e),n))},B1=new WeakMap,k8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!B1.get(r))&&!i){B1.set(e,!0);for(var s=[],o=C8(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},x8=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function FO(t,e){switch(f8(t,e)){case 5103:return we+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return we+t+hp+t+Ht+t+t;case 6828:case 4268:return we+t+Ht+t+t;case 6165:return we+t+Ht+"flex-"+t+t;case 5187:return we+t+Ee(t,/(\w+).+(:[^]+)/,we+"box-$1$2"+Ht+"flex-$1$2")+t;case 5443:return we+t+Ht+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return we+t+Ht+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return we+t+Ht+Ee(t,"shrink","negative")+t;case 5292:return we+t+Ht+Ee(t,"basis","preferred-size")+t;case 6060:return we+"box-"+Ee(t,"-grow","")+we+t+Ht+Ee(t,"grow","positive")+t;case 4554:return we+Ee(t,/([^-])(transform)/g,"$1"+we+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+Ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,we+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sr(t)-1-e>6)switch(Dt(t,e+1)){case 109:if(Dt(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+hp+(Dt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~X_(t,"stretch")?FO(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Dt(t,e+1)!==115)break;case 6444:switch(Dt(t,Sr(t)-3-(~X_(t,"!important")&&10))){case 107:return Ee(t,":",":"+we)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+we+(Dt(t,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+Ht+"$2box$3")+t}break;case 5936:switch(Dt(t,e+11)){case 114:return we+t+Ht+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return we+t+Ht+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return we+t+Ht+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return we+t+Ht+t+t}return t}var O8=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Jw:e.return=FO(e.value,e.length);break;case NO:return Da([fu(e,{value:Ee(e.value,"@","@"+we)})],i);case Qw:if(e.length)return m8(e.props,function(s){switch(p8(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Da([fu(e,{props:[Ee(s,/:(read-\w+)/,":"+hp+"$1")]})],i);case"::placeholder":return Da([fu(e,{props:[Ee(s,/:(plac\w+)/,":"+we+"input-$1")]}),fu(e,{props:[Ee(s,/:(plac\w+)/,":"+hp+"$1")]}),fu(e,{props:[Ee(s,/:(plac\w+)/,Ht+"input-$1")]})],i)}return""})}},N8=[O8],D8=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var S=w.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||N8,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var S=w.getAttribute("data-emotion").split(" "),E=1;E<S.length;E++)s[S[E]]=!0;a.push(w)});var l,u=[k8,x8];{var d,h=[S8,R8(function(w){d.insert(w)})],f=b8(u.concat(i,h)),m=function(S){return Da(I8(S),f)};l=function(S,E,v,I){d=v,m(S?S+"{"+E.styles+"}":E.styles),I&&(_.inserted[E.name]=!0)}}var _={key:n,sheet:new l8({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},V8=!0;function L8(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var UO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||V8===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},M8=function(e,n,r){UO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function F8(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var U8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},B8=!1,j8=/[A-Z]|^ms/g,$8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BO=function(e){return e.charCodeAt(1)===45},j1=function(e){return e!=null&&typeof e!="boolean"},iy=xO(function(t){return BO(t)?t:t.replace(j8,"-$&").toLowerCase()}),$1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($8,function(r,i,s){return br={name:i,styles:s,next:br},i})}return U8[e]!==1&&!BO(e)&&typeof n=="number"&&n!==0?n+"px":n},z8="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Wc(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return br={name:i.name,styles:i.styles,next:br},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)br={name:o.name,styles:o.styles,next:br},o=o.next;var a=s.styles+";";return a}return W8(t,e,n)}case"function":{if(t!==void 0){var l=br,u=n(t);return br=l,Wc(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function W8(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Wc(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":j1(a)&&(r+=iy(s)+":"+$1(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&B8)throw new Error(z8);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)j1(o[l])&&(r+=iy(s)+":"+$1(s,o[l])+";");else{var u=Wc(t,e,o);switch(s){case"animation":case"animationName":{r+=iy(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var z1=/label:\s*([^\s;{]+)\s*(;|$)/g,br;function jO(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";br=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Wc(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Wc(n,e,t[a]),r){var l=s;i+=l[a]}z1.lastIndex=0;for(var u="",d;(d=z1.exec(i))!==null;)u+="-"+d[1];var h=F8(i)+u;return{name:h,styles:i,next:br}}var q8=function(e){return e()},H8=uy.useInsertionEffect?uy.useInsertionEffect:!1,K8=H8||q8,$O=V.createContext(typeof HTMLElement<"u"?D8({key:"css"}):null);$O.Provider;var G8=function(e){return V.forwardRef(function(n,r){var i=V.useContext($O);return e(n,i,r)})},Q8=V.createContext({}),J8=i8,Y8=function(e){return e!=="theme"},W1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?J8:Y8},q1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},X8=!1,Z8=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return UO(n,r,i),K8(function(){return M8(n,r,i)}),null},eH=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=q1(e,n,r),l=a||W1(i),u=!l("as");return function(){var d=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{h.push(d[0][0]);for(var f=d.length,m=1;m<f;m++)h.push(d[m],d[0][m])}var _=G8(function(w,S,E){var v=u&&w.as||i,I="",k=[],x=w;if(w.theme==null){x={};for(var D in w)x[D]=w[D];x.theme=V.useContext(Q8)}typeof w.className=="string"?I=L8(S.registered,k,w.className):w.className!=null&&(I=w.className+" ");var b=jO(h.concat(k),S.registered,x);I+=S.key+"-"+b.name,o!==void 0&&(I+=" "+o);var T=u&&a===void 0?W1(v):l,A={};for(var g in w)u&&g==="as"||T(g)&&(A[g]=w[g]);return A.className=I,E&&(A.ref=E),V.createElement(V.Fragment,null,V.createElement(Z8,{cache:S,serialized:b,isStringTag:typeof v=="string"}),V.createElement(v,A))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=h,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return o===void 0&&X8?"NO_COMPONENT_SELECTOR":"."+o}}),_.withComponent=function(w,S){return t(w,Y_({},n,S,{shouldForwardProp:q1(_,S,!0)})).apply(void 0,h)},_}},tH=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ev=eH.bind();tH.forEach(function(t){ev[t]=ev(t)});/**
 * @mui/styled-engine v6.1.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nH(t,e){return ev(t,e)}function rH(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const H1=[];function K1(t){return H1[0]=t,jO(H1)}const iH=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function sH(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=iH(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function u(f,m){const _=o.indexOf(m);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:m)-r/100}${n})`}function d(f){return o.indexOf(f)+1<o.length?u(f,o[o.indexOf(f)+1]):a(f)}function h(f){const m=o.indexOf(f);return m===0?a(o[1]):m===o.length-1?l(o[m]):u(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:l,between:u,only:d,not:h,unit:n,...i}}const oH={borderRadius:4};function zO(t=8,e=Kw({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function aH(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function WO(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=sH(n),l=zO(i);let u=Ln({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:l,shape:{...oH,...s}},o);return u=pq(u),u.applyStyles=aH,u=e.reduce((d,h)=>Ln(d,h),u),u.unstable_sxConfig={...Lm,...o==null?void 0:o.unstable_sxConfig},u.unstable_sx=function(h){return al({sx:h,theme:this})},u}function qO(t){const{variants:e,...n}=t,r={variants:e,style:K1(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=K1(i.style))}),r}const lH=WO();function sy(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function uH(t){return t?(e,n)=>n[t]:null}function cH(t,e,n){t.theme=fH(t.theme)?n:t.theme[e]||t.theme}function lf(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>lf(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return HO(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function HO(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function dH(t={}){const{themeId:e,defaultTheme:n=lH,rootShouldForwardProp:r=sy,slotShouldForwardProp:i=sy}=t;function s(a){cH(a,e,n)}return(a,l={})=>{rH(a,x=>x.filter(D=>D!==al));const{name:u,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:m=uH(mH(d)),..._}=l,w=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,S=f||!1;let E=sy;d==="Root"||d==="root"?E=r:d?E=i:pH(a)&&(E=void 0);const v=nH(a,{shouldForwardProp:E,label:hH(),..._}),I=x=>{if(typeof x=="function"&&x.__emotion_real!==x)return function(b){return lf(b,x)};if(ii(x)){const D=qO(x);return D.variants?function(T){return lf(T,D)}:D.style}return x},k=(...x)=>{const D=[],b=x.map(I),T=[];if(D.push(s),u&&m&&T.push(function(N){var wt,Ie;const ie=(Ie=(wt=N.theme.components)==null?void 0:wt[u])==null?void 0:Ie.styleOverrides;if(!ie)return null;const le={};for(const K in ie)le[K]=lf(N,ie[K]);return m(N,le)}),u&&!w&&T.push(function(N){var le,wt;const C=N.theme,ie=(wt=(le=C==null?void 0:C.components)==null?void 0:le[u])==null?void 0:wt.variants;return ie?HO(N,ie):null}),S||T.push(al),Array.isArray(b[0])){const P=b.shift(),N=new Array(D.length).fill(""),C=new Array(T.length).fill("");let ie;ie=[...N,...P,...C],ie.raw=[...N,...P.raw,...C],D.unshift(ie)}const A=[...D,...b,...T],g=v(...A);return a.muiName&&(g.muiName=a.muiName),g};return v.withConfig&&(k.withConfig=v.withConfig),k}}function hH(t,e){return void 0}function fH(t){for(const e in t)return!1;return!0}function pH(t){return typeof t=="string"&&t.charCodeAt(0)>96}function mH(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Xw(t,e=0,n=1){return bO(t,e,n)}function gH(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function As(t){if(t.type)return t;if(t.charAt(0)==="#")return As(gH(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(No(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(No(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const yH=t=>{const e=As(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},ku=(t,e)=>{try{return yH(t)}catch{return t}};function Bm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function KO(t){t=As(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,d=(u+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Bm({type:a,values:l})}function tv(t){t=As(t);let e=t.type==="hsl"||t.type==="hsla"?As(KO(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function _H(t,e){const n=tv(t),r=tv(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function vH(t,e){return t=As(t),e=Xw(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Bm(t)}function Th(t,e,n){try{return vH(t,e)}catch{return t}}function Zw(t,e){if(t=As(t),e=Xw(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Bm(t)}function Ce(t,e,n){try{return Zw(t,e)}catch{return t}}function eE(t,e){if(t=As(t),e=Xw(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Bm(t)}function ke(t,e,n){try{return eE(t,e)}catch{return t}}function wH(t,e=.15){return tv(t)>.5?Zw(t,e):eE(t,e)}function Sh(t,e,n){try{return wH(t,e)}catch{return t}}const EH=V.createContext(void 0);function IH(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?J_(i.defaultProps,r):!i.styleOverrides&&!i.variants?J_(i,r):r}function TH({props:t,name:e}){const n=V.useContext(EH);return IH({props:t,name:e,theme:{components:n}})}const G1={theme:void 0};function SH(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(G1.theme=i.theme,s=qO(t(G1)),e=s,n=i.theme),s}}function bH(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const Q1=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},RH=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},AH=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function oy(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return RH(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const d=`--${n?`${n}-`:""}${a.join("-")}`,h=AH(a,l);Object.assign(i,{[d]:h}),Q1(s,a,`var(${d})`,u),Q1(o,a,`var(${d}, ${h})`,u)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function PH(t,e={}){const{getSelector:n=S,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...l}=t,{vars:u,css:d,varsWithDefaults:h}=oy(l,e);let f=h;const m={},{[a]:_,...w}=s;if(Object.entries(w||{}).forEach(([I,k])=>{const{vars:x,css:D,varsWithDefaults:b}=oy(k,e);f=Ln(f,b),m[I]={css:D,vars:x}}),_){const{css:I,vars:k,varsWithDefaults:x}=oy(_,e);f=Ln(f,x),m[a]={css:I,vars:k}}function S(I,k){var D,b;let x=i;if(i==="class"&&(x=".%s"),i==="data"&&(x="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(x=`[${i}="%s"]`),I){if(x==="media")return t.defaultColorScheme===I?":root":{[`@media (prefers-color-scheme: ${((b=(D=s[I])==null?void 0:D.palette)==null?void 0:b.mode)||I})`]:{":root":k}};if(x)return t.defaultColorScheme===I?`:root, ${x.replace("%s",String(I))}`:x.replace("%s",String(I))}return":root"}return{vars:f,generateThemeVars:()=>{let I={...u};return Object.entries(m).forEach(([,{vars:k}])=>{I=Ln(I,k)}),I},generateStyleSheets:()=>{var T,A;const I=[],k=t.defaultColorScheme||"light";function x(g,P){Object.keys(P).length&&I.push(typeof g=="string"?{[g]:{...P}}:g)}x(n(void 0,{...d}),d);const{[k]:D,...b}=m;if(D){const{css:g}=D,P=(A=(T=s[k])==null?void 0:T.palette)==null?void 0:A.mode,N=!r&&P?{colorScheme:P,...g}:{...g};x(n(k,{...N}),N)}return Object.entries(b).forEach(([g,{css:P}])=>{var ie,le;const N=(le=(ie=s[g])==null?void 0:ie.palette)==null?void 0:le.mode,C=!r&&N?{colorScheme:N,...P}:{...P};x(n(g,{...C}),C)}),I}}}function CH(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const qc={black:"#000",white:"#fff"},kH={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Xo={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Zo={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},pu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ea={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ta={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},na={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function GO(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qc.white,default:qc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const xH=GO();function QO(){return{text:{primary:qc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const J1=QO();function Y1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=eE(t.main,i):e==="dark"&&(t.dark=Zw(t.main,s)))}function OH(t="light"){return t==="dark"?{main:ea[200],light:ea[50],dark:ea[400]}:{main:ea[700],light:ea[400],dark:ea[800]}}function NH(t="light"){return t==="dark"?{main:Xo[200],light:Xo[50],dark:Xo[400]}:{main:Xo[500],light:Xo[300],dark:Xo[700]}}function DH(t="light"){return t==="dark"?{main:Zo[500],light:Zo[300],dark:Zo[700]}:{main:Zo[700],light:Zo[400],dark:Zo[800]}}function VH(t="light"){return t==="dark"?{main:ta[400],light:ta[300],dark:ta[700]}:{main:ta[700],light:ta[500],dark:ta[900]}}function LH(t="light"){return t==="dark"?{main:na[400],light:na[300],dark:na[700]}:{main:na[800],light:na[500],dark:na[900]}}function MH(t="light"){return t==="dark"?{main:pu[400],light:pu[300],dark:pu[700]}:{main:"#ed6c02",light:pu[500],dark:pu[900]}}function tE(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||OH(e),o=t.secondary||NH(e),a=t.error||DH(e),l=t.info||VH(e),u=t.success||LH(e),d=t.warning||MH(e);function h(w){return _H(w,J1.text.primary)>=n?J1.text.primary:xH.text.primary}const f=({color:w,name:S,mainShade:E=500,lightShade:v=300,darkShade:I=700})=>{if(w={...w},!w.main&&w[E]&&(w.main=w[E]),!w.hasOwnProperty("main"))throw new Error(No(11,S?` (${S})`:"",E));if(typeof w.main!="string")throw new Error(No(12,S?` (${S})`:"",JSON.stringify(w.main)));return Y1(w,"light",v,r),Y1(w,"dark",I,r),w.contrastText||(w.contrastText=h(w.main)),w};let m;return e==="light"?m=GO():e==="dark"&&(m=QO()),Ln({common:{...qc},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:d,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:kH,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r,...m},i)}function FH(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function UH(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function BH(t){return Math.round(t*1e5)/1e5}const X1={textTransform:"uppercase"},Z1='"Roboto", "Helvetica", "Arial", sans-serif';function jH(t,e){const{fontFamily:n=Z1,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=r/14,m=d||(S=>`${S/l*f}rem`),_=(S,E,v,I,k)=>({fontFamily:n,fontWeight:S,fontSize:m(E),lineHeight:v,...n===Z1?{letterSpacing:`${BH(I/E)}em`}:{},...k,...u}),w={h1:_(i,96,1.167,-1.5),h2:_(i,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(o,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(o,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(o,14,1.75,.4,X1),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,X1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ln({htmlFontSize:l,pxToRem:m,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...w},h,{clone:!1})}const $H=.2,zH=.14,WH=.12;function Fe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${$H})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${zH})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${WH})`].join(",")}const qH=["none",Fe(0,2,1,-1,0,1,1,0,0,1,3,0),Fe(0,3,1,-2,0,2,2,0,0,1,5,0),Fe(0,3,3,-2,0,3,4,0,0,1,8,0),Fe(0,2,4,-1,0,4,5,0,0,1,10,0),Fe(0,3,5,-1,0,5,8,0,0,1,14,0),Fe(0,3,5,-1,0,6,10,0,0,1,18,0),Fe(0,4,5,-2,0,7,10,1,0,2,16,1),Fe(0,5,5,-3,0,8,10,1,0,3,14,2),Fe(0,5,6,-3,0,9,12,1,0,3,16,2),Fe(0,6,6,-3,0,10,14,1,0,4,18,3),Fe(0,6,7,-4,0,11,15,1,0,4,20,3),Fe(0,7,8,-4,0,12,17,2,0,5,22,4),Fe(0,7,8,-4,0,13,19,2,0,5,24,4),Fe(0,7,9,-4,0,14,21,2,0,5,26,4),Fe(0,8,9,-5,0,15,22,2,0,6,28,5),Fe(0,8,10,-5,0,16,24,2,0,6,30,5),Fe(0,8,11,-5,0,17,26,2,0,6,32,5),Fe(0,9,11,-5,0,18,28,2,0,7,34,6),Fe(0,9,12,-6,0,19,29,2,0,7,36,6),Fe(0,10,13,-6,0,20,31,3,0,8,38,7),Fe(0,10,13,-6,0,21,33,3,0,8,40,7),Fe(0,10,14,-6,0,22,35,3,0,8,42,7),Fe(0,11,14,-7,0,23,36,3,0,9,44,8),Fe(0,11,15,-7,0,24,38,3,0,9,46,8)],HH={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},KH={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eb(t){return`${Math.round(t)}ms`}function GH(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function QH(t){const e={...HH,...t.easing},n={...KH,...t.duration};return{getAutoHeightDuration:GH,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:eb(o)} ${a} ${typeof l=="string"?l:eb(l)}`).join(",")},...t,easing:e,duration:n}}const JH={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function YH(t){return ii(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function JO(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!YH(a)||o.startsWith("unstable_")?delete r[o]:ii(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function nv(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:l,...u}=t;if(t.vars)throw new Error(No(20));const d=tE(s),h=WO(t);let f=Ln(h,{mixins:UH(h.breakpoints,r),palette:d,shadows:qH.slice(),typography:jH(d,a),transitions:QH(o),zIndex:{...JH}});return f=Ln(f,u),f=e.reduce((m,_)=>Ln(m,_),f),f.unstable_sxConfig={...Lm,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return al({sx:_,theme:this})},f.toRuntimeSource=JO,f}function XH(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const ZH=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=XH(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function YO(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function XO(t){return t==="dark"?ZH:[]}function e7(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=tE(e);return{palette:s,opacity:{...YO(s.mode),...n},overlays:r||XO(s.mode),...i}}function t7(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const n7=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],r7=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return n7(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function i7(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function j(t,e,n){!t[e]&&n&&(t[e]=n)}function xu(t){return!t||!t.startsWith("hsl")?t:KO(t)}function Yr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=ku(xu(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function s7(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Ir=t=>{try{return t()}catch{}},o7=(t="mui")=>bH(t);function ay(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=e7({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=nv({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...YO(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||XO(i)},o}function a7(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=t7,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:l=":root",...u}=t,d=Object.keys(n)[0],h=r||(n.light&&d!=="light"?"light":d),f=o7(s),{[h]:m,light:_,dark:w,...S}=n,E={...S};let v=m;if((h==="dark"&&!("dark"in n)||h==="light"&&!("light"in n))&&(v=!0),!v)throw new Error(No(21,h));const I=ay(E,v,u,h);_&&!E.light&&ay(E,_,void 0,"light"),w&&!E.dark&&ay(E,w,void 0,"dark");let k={defaultColorScheme:h,...I,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:l,getCssVar:f,colorSchemes:E,font:{...FH(I.typography),...I.font},spacing:s7(u.spacing)};Object.keys(k.colorSchemes).forEach(A=>{const g=k.colorSchemes[A].palette,P=N=>{const C=N.split("-"),ie=C[1],le=C[2];return f(N,g[ie][le])};if(g.mode==="light"&&(j(g.common,"background","#fff"),j(g.common,"onBackground","#000")),g.mode==="dark"&&(j(g.common,"background","#000"),j(g.common,"onBackground","#fff")),i7(g,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),g.mode==="light"){j(g.Alert,"errorColor",Ce(g.error.light,.6)),j(g.Alert,"infoColor",Ce(g.info.light,.6)),j(g.Alert,"successColor",Ce(g.success.light,.6)),j(g.Alert,"warningColor",Ce(g.warning.light,.6)),j(g.Alert,"errorFilledBg",P("palette-error-main")),j(g.Alert,"infoFilledBg",P("palette-info-main")),j(g.Alert,"successFilledBg",P("palette-success-main")),j(g.Alert,"warningFilledBg",P("palette-warning-main")),j(g.Alert,"errorFilledColor",Ir(()=>g.getContrastText(g.error.main))),j(g.Alert,"infoFilledColor",Ir(()=>g.getContrastText(g.info.main))),j(g.Alert,"successFilledColor",Ir(()=>g.getContrastText(g.success.main))),j(g.Alert,"warningFilledColor",Ir(()=>g.getContrastText(g.warning.main))),j(g.Alert,"errorStandardBg",ke(g.error.light,.9)),j(g.Alert,"infoStandardBg",ke(g.info.light,.9)),j(g.Alert,"successStandardBg",ke(g.success.light,.9)),j(g.Alert,"warningStandardBg",ke(g.warning.light,.9)),j(g.Alert,"errorIconColor",P("palette-error-main")),j(g.Alert,"infoIconColor",P("palette-info-main")),j(g.Alert,"successIconColor",P("palette-success-main")),j(g.Alert,"warningIconColor",P("palette-warning-main")),j(g.AppBar,"defaultBg",P("palette-grey-100")),j(g.Avatar,"defaultBg",P("palette-grey-400")),j(g.Button,"inheritContainedBg",P("palette-grey-300")),j(g.Button,"inheritContainedHoverBg",P("palette-grey-A100")),j(g.Chip,"defaultBorder",P("palette-grey-400")),j(g.Chip,"defaultAvatarColor",P("palette-grey-700")),j(g.Chip,"defaultIconColor",P("palette-grey-700")),j(g.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),j(g.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),j(g.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),j(g.LinearProgress,"primaryBg",ke(g.primary.main,.62)),j(g.LinearProgress,"secondaryBg",ke(g.secondary.main,.62)),j(g.LinearProgress,"errorBg",ke(g.error.main,.62)),j(g.LinearProgress,"infoBg",ke(g.info.main,.62)),j(g.LinearProgress,"successBg",ke(g.success.main,.62)),j(g.LinearProgress,"warningBg",ke(g.warning.main,.62)),j(g.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),j(g.Slider,"primaryTrack",ke(g.primary.main,.62)),j(g.Slider,"secondaryTrack",ke(g.secondary.main,.62)),j(g.Slider,"errorTrack",ke(g.error.main,.62)),j(g.Slider,"infoTrack",ke(g.info.main,.62)),j(g.Slider,"successTrack",ke(g.success.main,.62)),j(g.Slider,"warningTrack",ke(g.warning.main,.62));const N=Sh(g.background.default,.8);j(g.SnackbarContent,"bg",N),j(g.SnackbarContent,"color",Ir(()=>g.getContrastText(N))),j(g.SpeedDialAction,"fabHoverBg",Sh(g.background.paper,.15)),j(g.StepConnector,"border",P("palette-grey-400")),j(g.StepContent,"border",P("palette-grey-400")),j(g.Switch,"defaultColor",P("palette-common-white")),j(g.Switch,"defaultDisabledColor",P("palette-grey-100")),j(g.Switch,"primaryDisabledColor",ke(g.primary.main,.62)),j(g.Switch,"secondaryDisabledColor",ke(g.secondary.main,.62)),j(g.Switch,"errorDisabledColor",ke(g.error.main,.62)),j(g.Switch,"infoDisabledColor",ke(g.info.main,.62)),j(g.Switch,"successDisabledColor",ke(g.success.main,.62)),j(g.Switch,"warningDisabledColor",ke(g.warning.main,.62)),j(g.TableCell,"border",ke(Th(g.divider,1),.88)),j(g.Tooltip,"bg",Th(g.grey[700],.92))}if(g.mode==="dark"){j(g.Alert,"errorColor",ke(g.error.light,.6)),j(g.Alert,"infoColor",ke(g.info.light,.6)),j(g.Alert,"successColor",ke(g.success.light,.6)),j(g.Alert,"warningColor",ke(g.warning.light,.6)),j(g.Alert,"errorFilledBg",P("palette-error-dark")),j(g.Alert,"infoFilledBg",P("palette-info-dark")),j(g.Alert,"successFilledBg",P("palette-success-dark")),j(g.Alert,"warningFilledBg",P("palette-warning-dark")),j(g.Alert,"errorFilledColor",Ir(()=>g.getContrastText(g.error.dark))),j(g.Alert,"infoFilledColor",Ir(()=>g.getContrastText(g.info.dark))),j(g.Alert,"successFilledColor",Ir(()=>g.getContrastText(g.success.dark))),j(g.Alert,"warningFilledColor",Ir(()=>g.getContrastText(g.warning.dark))),j(g.Alert,"errorStandardBg",Ce(g.error.light,.9)),j(g.Alert,"infoStandardBg",Ce(g.info.light,.9)),j(g.Alert,"successStandardBg",Ce(g.success.light,.9)),j(g.Alert,"warningStandardBg",Ce(g.warning.light,.9)),j(g.Alert,"errorIconColor",P("palette-error-main")),j(g.Alert,"infoIconColor",P("palette-info-main")),j(g.Alert,"successIconColor",P("palette-success-main")),j(g.Alert,"warningIconColor",P("palette-warning-main")),j(g.AppBar,"defaultBg",P("palette-grey-900")),j(g.AppBar,"darkBg",P("palette-background-paper")),j(g.AppBar,"darkColor",P("palette-text-primary")),j(g.Avatar,"defaultBg",P("palette-grey-600")),j(g.Button,"inheritContainedBg",P("palette-grey-800")),j(g.Button,"inheritContainedHoverBg",P("palette-grey-700")),j(g.Chip,"defaultBorder",P("palette-grey-700")),j(g.Chip,"defaultAvatarColor",P("palette-grey-300")),j(g.Chip,"defaultIconColor",P("palette-grey-300")),j(g.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),j(g.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),j(g.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),j(g.LinearProgress,"primaryBg",Ce(g.primary.main,.5)),j(g.LinearProgress,"secondaryBg",Ce(g.secondary.main,.5)),j(g.LinearProgress,"errorBg",Ce(g.error.main,.5)),j(g.LinearProgress,"infoBg",Ce(g.info.main,.5)),j(g.LinearProgress,"successBg",Ce(g.success.main,.5)),j(g.LinearProgress,"warningBg",Ce(g.warning.main,.5)),j(g.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),j(g.Slider,"primaryTrack",Ce(g.primary.main,.5)),j(g.Slider,"secondaryTrack",Ce(g.secondary.main,.5)),j(g.Slider,"errorTrack",Ce(g.error.main,.5)),j(g.Slider,"infoTrack",Ce(g.info.main,.5)),j(g.Slider,"successTrack",Ce(g.success.main,.5)),j(g.Slider,"warningTrack",Ce(g.warning.main,.5));const N=Sh(g.background.default,.98);j(g.SnackbarContent,"bg",N),j(g.SnackbarContent,"color",Ir(()=>g.getContrastText(N))),j(g.SpeedDialAction,"fabHoverBg",Sh(g.background.paper,.15)),j(g.StepConnector,"border",P("palette-grey-600")),j(g.StepContent,"border",P("palette-grey-600")),j(g.Switch,"defaultColor",P("palette-grey-300")),j(g.Switch,"defaultDisabledColor",P("palette-grey-600")),j(g.Switch,"primaryDisabledColor",Ce(g.primary.main,.55)),j(g.Switch,"secondaryDisabledColor",Ce(g.secondary.main,.55)),j(g.Switch,"errorDisabledColor",Ce(g.error.main,.55)),j(g.Switch,"infoDisabledColor",Ce(g.info.main,.55)),j(g.Switch,"successDisabledColor",Ce(g.success.main,.55)),j(g.Switch,"warningDisabledColor",Ce(g.warning.main,.55)),j(g.TableCell,"border",Ce(Th(g.divider,1),.68)),j(g.Tooltip,"bg",Th(g.grey[700],.92))}Yr(g.background,"default"),Yr(g.background,"paper"),Yr(g.common,"background"),Yr(g.common,"onBackground"),Yr(g,"divider"),Object.keys(g).forEach(N=>{const C=g[N];C&&typeof C=="object"&&(C.main&&j(g[N],"mainChannel",ku(xu(C.main))),C.light&&j(g[N],"lightChannel",ku(xu(C.light))),C.dark&&j(g[N],"darkChannel",ku(xu(C.dark))),C.contrastText&&j(g[N],"contrastTextChannel",ku(xu(C.contrastText))),N==="text"&&(Yr(g[N],"primary"),Yr(g[N],"secondary")),N==="action"&&(C.active&&Yr(g[N],"active"),C.selected&&Yr(g[N],"selected")))})}),k=e.reduce((A,g)=>Ln(A,g),k);const x={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:r7(k)},{vars:D,generateThemeVars:b,generateStyleSheets:T}=PH(k,x);return k.vars=D,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([A,g])=>{k[A]=g}),k.generateThemeVars=b,k.generateStyleSheets=T,k.generateSpacing=function(){return zO(u.spacing,Kw(this))},k.getColorSchemeSelector=CH(a),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=o,k.unstable_sxConfig={...Lm,...u==null?void 0:u.unstable_sxConfig},k.unstable_sx=function(g){return al({sx:g,theme:this})},k.toRuntimeSource=JO,k}function tb(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:tE({...n===!0?{}:n.palette,mode:e})})}function l7(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",l=i==null?void 0:i[a],u={...i,...n?{[a]:{...typeof l!="boolean"&&l,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return nv(t,...e);let d=n;"palette"in t||u[a]&&(u[a]!==!0?d=u[a].palette:a==="dark"&&(d={mode:"dark"}));const h=nv({...t,palette:d},...e);return h.defaultColorScheme=a,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},tb(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},tb(h,"light",u.light)),h}return!n&&!("light"in u)&&a==="light"&&(u.light=!0),a7({...o,colorSchemes:u,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const u7=l7(),c7="$$material";function ZO(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const d7=t=>ZO(t)&&t!=="classes",Cd=dH({themeId:c7,defaultTheme:u7,rootShouldForwardProp:d7}),nE=SH;function eN(t){return TH(t)}function h7(t){return Ww("MuiSvgIcon",t)}CO("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const f7=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Rs(e)}`,`fontSize${Rs(n)}`]};return RO(i,h7,r)},p7=Cd("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Rs(n.color)}`],e[`fontSize${Rs(n.fontSize)}`]]}})(nE(({theme:t})=>{var e,n,r,i,s,o,a,l,u,d,h,f,m,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((l=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,w])=>w&&w.main).map(([w])=>{var S,E;return{props:{color:w},style:{color:(E=(S=(t.vars??t).palette)==null?void 0:S[w])==null?void 0:E.main}}}),{props:{color:"action"},style:{color:(f=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(_=(m=(t.vars??t).palette)==null?void 0:m.action)==null?void 0:_.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),fp=V.forwardRef(function(e,n){const r=eN({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24",...m}=r,_=V.isValidElement(i)&&i.type==="svg",w={...r,color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:_},S={};d||(S.viewBox=f);const E=f7(w);return O.jsxs(p7,{as:a,className:ec(E.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...S,...m,..._&&i.props,ownerState:w,children:[_?i.props.children:i,h?O.jsx("title",{children:h}):null]})});fp&&(fp.muiName="SvgIcon");function tN(t,e){function n(r,i){return O.jsx(fp,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=fp.muiName,V.memo(V.forwardRef(n))}const m7=tN(O.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),g7=tN(O.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function y7(t){return Ww("MuiRating",t)}const mu=CO("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function _7(t){const e=t.toString().split(".")[1];return e?e.length:0}function ly(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(_7(e)))}const v7=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${Rs(n)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return RO(a,y7,e)},w7=Cd("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${mu.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Rs(n.size)}`],n.readOnly&&e.readOnly]}})(nE(({theme:t})=>({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${mu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${mu.focusVisible} .${mu.iconActive}`]:{outline:"1px solid #999"},[`& .${mu.visuallyHidden}`]:eq,variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),nN=Cd("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:t},e)=>[e.label,t.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:t})=>t.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),E7=Cd("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(nE(({theme:t})=>({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(t.vars||t).palette.action.disabled}}]}))),I7=Cd("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>ZO(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:t})=>t,style:{transform:"scale(1.2)"}}]});function T7(t){const{value:e,...n}=t;return O.jsx("span",{...n})}function nb(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:u,isActive:d,itemValue:h,labelProps:f,name:m,onBlur:_,onChange:w,onClick:S,onFocus:E,readOnly:v,ownerState:I,ratingValue:k,ratingValueRounded:x}=t,D=o?h===k:h<=k,b=h<=a,T=h<=i,A=h===x,g=`${m}-${PO()}`,P=O.jsx(E7,{as:u,value:h,className:ec(e.icon,D?e.iconFilled:e.iconEmpty,b&&e.iconHover,T&&e.iconFocus,d&&e.iconActive),ownerState:{...I,iconEmpty:!D,iconFilled:D,iconHover:b,iconFocus:T,iconActive:d},children:r&&!D?r:l});return v?O.jsx("span",{...f,children:P}):O.jsxs(V.Fragment,{children:[O.jsxs(nN,{ownerState:{...I,emptyValueFocused:void 0},htmlFor:g,...f,children:[P,O.jsx("span",{className:e.visuallyHidden,children:s(h)})]}),O.jsx("input",{className:e.visuallyHidden,onFocus:E,onBlur:_,onChange:w,onClick:S,disabled:n,value:h,id:g,type:"radio",name:m,checked:A})]})}const S7=O.jsx(m7,{fontSize:"inherit"}),b7=O.jsx(g7,{fontSize:"inherit"});function R7(t){return`${t||"0"} Star${t!==1?"s":""}`}const A7=V.forwardRef(function(e,n){const r=eN({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:o=null,disabled:a=!1,emptyIcon:l=b7,emptyLabelText:u="Empty",getLabelText:d=R7,highlightSelectedOnly:h=!1,icon:f=S7,IconContainerComponent:m=T7,max:_=5,name:w,onChange:S,onChangeActive:E,onMouseLeave:v,onMouseMove:I,precision:k=1,readOnly:x=!1,size:D="medium",value:b,...T}=r,A=PO(w),[g,P]=oq({controlled:b,default:o,name:"Rating"}),N=ly(g,k),C=nq(),[{hover:ie,focus:le},wt]=V.useState({hover:-1,focus:-1});let Ie=N;ie!==-1&&(Ie=ie),le!==-1&&(Ie=le);const[K,te]=V.useState(!1),ne=V.useRef(),ce=aq(ne,n),Te=xe=>{I&&I(xe);const ft=ne.current,{right:en,left:Oi,width:Gr}=ft.getBoundingClientRect();let Ni;C?Ni=(en-xe.clientX)/Gr:Ni=(xe.clientX-Oi)/Gr;let rr=ly(_*Ni+k/2,k);rr=bO(rr,k,_),wt(vr=>vr.hover===rr&&vr.focus===rr?vr:{hover:rr,focus:rr}),te(!1),E&&ie!==rr&&E(xe,rr)},qe=xe=>{v&&v(xe);const ft=-1;wt({hover:ft,focus:ft}),E&&ie!==ft&&E(xe,ft)},$n=xe=>{let ft=xe.target.value===""?null:parseFloat(xe.target.value);ie!==-1&&(ft=ie),P(ft),S&&S(xe,ft)},er=xe=>{xe.clientX===0&&xe.clientY===0||(wt({hover:-1,focus:-1}),P(null),S&&parseFloat(xe.target.value)===N&&S(xe,null))},tr=xe=>{O1(xe.target)&&te(!0);const ft=parseFloat(xe.target.value);wt(en=>({hover:en.hover,focus:ft}))},nr=xe=>{if(ie!==-1)return;O1(xe.target)||te(!1);const ft=-1;wt(en=>({hover:en.hover,focus:ft}))},[$m,kd]=V.useState(!1),_r={...r,component:i,defaultValue:o,disabled:a,emptyIcon:l,emptyLabelText:u,emptyValueFocused:$m,focusVisible:K,getLabelText:d,icon:f,IconContainerComponent:m,max:_,precision:k,readOnly:x,size:D},bn=v7(_r);return O.jsxs(w7,{as:i,ref:ce,onMouseMove:Te,onMouseLeave:qe,className:ec(bn.root,s,x&&"MuiRating-readOnly"),ownerState:_r,role:x?"img":null,"aria-label":x?d(Ie):null,...T,children:[Array.from(new Array(_)).map((xe,ft)=>{const en=ft+1,Oi={classes:bn,disabled:a,emptyIcon:l,focus:le,getLabelText:d,highlightSelectedOnly:h,hover:ie,icon:f,IconContainerComponent:m,name:A,onBlur:nr,onChange:$n,onClick:er,onFocus:tr,ratingValue:Ie,ratingValueRounded:N,readOnly:x,ownerState:_r},Gr=en===Math.ceil(Ie)&&(ie!==-1||le!==-1);if(k<1){const Ni=Array.from(new Array(1/k));return O.jsx(I7,{className:ec(bn.decimal,Gr&&bn.iconActive),ownerState:_r,iconActive:Gr,children:Ni.map((rr,vr)=>{const Us=ly(en-1+(vr+1)*k,k);return O.jsx(nb,{...Oi,isActive:!1,itemValue:Us,labelProps:{style:Ni.length-1===vr?{}:{width:Us===Ie?`${(vr+1)*k*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Us)})},en)}return O.jsx(nb,{...Oi,isActive:Gr,itemValue:en},en)}),!x&&!a&&O.jsxs(nN,{className:ec(bn.label,bn.labelEmptyValue),ownerState:_r,children:[O.jsx("input",{className:bn.visuallyHidden,value:"",id:`${A}-empty`,type:"radio",name:A,checked:N==null,onFocus:()=>kd(!0),onBlur:()=>kd(!1),onChange:$n}),O.jsx("span",{className:bn.visuallyHidden,children:u})]})]})});var rN={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(t){(function(e,n){t.exports?t.exports=n():e.numeral=n()})(av,function(){var e,n,r="2.0.6",i={},s={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function l(u,d){this._input=u,this._value=d}return e=function(u){var d,h,f,m;if(e.isNumeral(u))d=u.value();else if(u===0||typeof u>"u")d=0;else if(u===null||n.isNaN(u))d=null;else if(typeof u=="string")if(a.zeroFormat&&u===a.zeroFormat)d=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)d=null;else{for(h in i)if(m=typeof i[h].regexps.unformat=="function"?i[h].regexps.unformat():i[h].regexps.unformat,m&&u.match(m)){f=i[h].unformat;break}f=f||e._.stringToNumber,d=f(u)}else d=Number(u)||null;return new l(u,d)},e.version=r,e.isNumeral=function(u){return u instanceof l},e._=n={numberToFormat:function(u,d,h){var f=s[e.options.currentLocale],m=!1,_=!1,w=0,S="",E=1e12,v=1e9,I=1e6,k=1e3,x="",D=!1,b,T,A,g,P,N,C;if(u=u||0,T=Math.abs(u),e._.includes(d,"(")?(m=!0,d=d.replace(/[\(|\)]/g,"")):(e._.includes(d,"+")||e._.includes(d,"-"))&&(P=e._.includes(d,"+")?d.indexOf("+"):u<0?d.indexOf("-"):-1,d=d.replace(/[\+|\-]/g,"")),e._.includes(d,"a")&&(b=d.match(/a(k|m|b|t)?/),b=b?b[1]:!1,e._.includes(d," a")&&(S=" "),d=d.replace(new RegExp(S+"a[kmbt]?"),""),T>=E&&!b||b==="t"?(S+=f.abbreviations.trillion,u=u/E):T<E&&T>=v&&!b||b==="b"?(S+=f.abbreviations.billion,u=u/v):T<v&&T>=I&&!b||b==="m"?(S+=f.abbreviations.million,u=u/I):(T<I&&T>=k&&!b||b==="k")&&(S+=f.abbreviations.thousand,u=u/k)),e._.includes(d,"[.]")&&(_=!0,d=d.replace("[.]",".")),A=u.toString().split(".")[0],g=d.split(".")[1],N=d.indexOf(","),w=(d.split(".")[0].split(",")[0].match(/0/g)||[]).length,g?(e._.includes(g,"[")?(g=g.replace("]",""),g=g.split("["),x=e._.toFixed(u,g[0].length+g[1].length,h,g[1].length)):x=e._.toFixed(u,g.length,h),A=x.split(".")[0],e._.includes(x,".")?x=f.delimiters.decimal+x.split(".")[1]:x="",_&&Number(x.slice(1))===0&&(x="")):A=e._.toFixed(u,0,h),S&&!b&&Number(A)>=1e3&&S!==f.abbreviations.trillion)switch(A=String(Number(A)/1e3),S){case f.abbreviations.thousand:S=f.abbreviations.million;break;case f.abbreviations.million:S=f.abbreviations.billion;break;case f.abbreviations.billion:S=f.abbreviations.trillion;break}if(e._.includes(A,"-")&&(A=A.slice(1),D=!0),A.length<w)for(var ie=w-A.length;ie>0;ie--)A="0"+A;return N>-1&&(A=A.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),d.indexOf(".")===0&&(A=""),C=A+x+(S||""),m?C=(m&&D?"(":"")+C+(m&&D?")":""):P>=0?C=P===0?(D?"-":"+")+C:C+(D?"-":"+"):D&&(C="-"+C),C},stringToNumber:function(u){var d=s[a.currentLocale],h=u,f={thousand:3,million:6,billion:9,trillion:12},m,_,w;if(a.zeroFormat&&u===a.zeroFormat)_=0;else if(a.nullFormat&&u===a.nullFormat||!u.replace(/[^0-9]+/g,"").length)_=null;else{_=1,d.delimiters.decimal!=="."&&(u=u.replace(/\./g,"").replace(d.delimiters.decimal,"."));for(m in f)if(w=new RegExp("[^a-zA-Z]"+d.abbreviations[m]+"(?:\\)|(\\"+d.currency.symbol+")?(?:\\))?)?$"),h.match(w)){_*=Math.pow(10,f[m]);break}_*=(u.split("-").length+Math.min(u.split("(").length-1,u.split(")").length-1))%2?1:-1,u=u.replace(/[^0-9\.]+/g,""),_*=Number(u)}return _},isNaN:function(u){return typeof u=="number"&&isNaN(u)},includes:function(u,d){return u.indexOf(d)!==-1},insert:function(u,d,h){return u.slice(0,h)+d+u.slice(h)},reduce:function(u,d){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof d!="function")throw new TypeError(d+" is not a function");var h=Object(u),f=h.length>>>0,m=0,_;if(arguments.length===3)_=arguments[2];else{for(;m<f&&!(m in h);)m++;if(m>=f)throw new TypeError("Reduce of empty array with no initial value");_=h[m++]}for(;m<f;m++)m in h&&(_=d(_,h[m],m,h));return _},multiplier:function(u){var d=u.toString().split(".");return d.length<2?1:Math.pow(10,d[1].length)},correctionFactor:function(){var u=Array.prototype.slice.call(arguments);return u.reduce(function(d,h){var f=n.multiplier(h);return d>f?d:f},1)},toFixed:function(u,d,h,f){var m=u.toString().split("."),_=d-(f||0),w,S,E,v;return m.length===2?w=Math.min(Math.max(m[1].length,_),d):w=_,E=Math.pow(10,w),v=(h(u+"e+"+w)/E).toFixed(w),f>d-w&&(S=new RegExp("\\.?0{1,"+(f-(d-w))+"}$"),v=v.replace(S,"")),v}},e.options=a,e.formats=i,e.locales=s,e.locale=function(u){return u&&(a.currentLocale=u.toLowerCase()),a.currentLocale},e.localeData=function(u){if(!u)return s[a.currentLocale];if(u=u.toLowerCase(),!s[u])throw new Error("Unknown locale : "+u);return s[u]},e.reset=function(){for(var u in o)a[u]=o[u]},e.zeroFormat=function(u){a.zeroFormat=typeof u=="string"?u:null},e.nullFormat=function(u){a.nullFormat=typeof u=="string"?u:null},e.defaultFormat=function(u){a.defaultFormat=typeof u=="string"?u:"0.0"},e.register=function(u,d,h){if(d=d.toLowerCase(),this[u+"s"][d])throw new TypeError(d+" "+u+" already registered.");return this[u+"s"][d]=h,h},e.validate=function(u,d){var h,f,m,_,w,S,E,v;if(typeof u!="string"&&(u+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",u)),u=u.trim(),u.match(/^\d+$/))return!0;if(u==="")return!1;try{E=e.localeData(d)}catch{E=e.localeData(e.locale())}return m=E.currency.symbol,w=E.abbreviations,h=E.delimiters.decimal,E.delimiters.thousands==="."?f="\\.":f=E.delimiters.thousands,v=u.match(/^[^\d]+/),v!==null&&(u=u.substr(1),v[0]!==m)||(v=u.match(/[^\d]+$/),v!==null&&(u=u.slice(0,-1),v[0]!==w.thousand&&v[0]!==w.million&&v[0]!==w.billion&&v[0]!==w.trillion))?!1:(S=new RegExp(f+"{2}"),u.match(/[^\d.,]/g)?!1:(_=u.split(h),_.length>2?!1:_.length<2?!!_[0].match(/^\d+.*\d$/)&&!_[0].match(S):_[0].length===1?!!_[0].match(/^\d+$/)&&!_[0].match(S)&&!!_[1].match(/^\d+$/):!!_[0].match(/^\d+.*\d$/)&&!_[0].match(S)&&!!_[1].match(/^\d+$/)))},e.fn=l.prototype={clone:function(){return e(this)},format:function(u,d){var h=this._value,f=u||a.defaultFormat,m,_,w;if(d=d||Math.round,h===0&&a.zeroFormat!==null)_=a.zeroFormat;else if(h===null&&a.nullFormat!==null)_=a.nullFormat;else{for(m in i)if(f.match(i[m].regexps.format)){w=i[m].format;break}w=w||e._.numberToFormat,_=w(h,f,d)}return _},value:function(){return this._value},input:function(){return this._input},set:function(u){return this._value=Number(u),this},add:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,m,_,w){return f+Math.round(d*m)}return this._value=n.reduce([this._value,u],h,0)/d,this},subtract:function(u){var d=n.correctionFactor.call(null,this._value,u);function h(f,m,_,w){return f-Math.round(d*m)}return this._value=n.reduce([u],h,Math.round(this._value*d))/d,this},multiply:function(u){function d(h,f,m,_){var w=n.correctionFactor(h,f);return Math.round(h*w)*Math.round(f*w)/Math.round(w*w)}return this._value=n.reduce([this._value,u],d,1),this},divide:function(u){function d(h,f,m,_){var w=n.correctionFactor(h,f);return Math.round(h*w)/Math.round(f*w)}return this._value=n.reduce([this._value,u],d),this},difference:function(u){return Math.abs(e(this._value).subtract(u).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(u){var d=u%10;return~~(u%100/10)===1?"th":d===1?"st":d===2?"nd":d===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(u,d,h){var f=e._.includes(d," BPS")?" ":"",m;return u=u*1e4,d=d.replace(/\s?BPS/,""),m=e._.numberToFormat(u,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"BPS"),m=m.join("")):m=m+f+"BPS",m},unformat:function(u){return+(e._.stringToNumber(u)*1e-4).toFixed(15)}})}(),function(){var u={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},d={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},h=u.suffixes.concat(d.suffixes.filter(function(m){return u.suffixes.indexOf(m)<0})),f=h.join("|");f="("+f.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(f)},format:function(m,_,w){var S,E=e._.includes(_,"ib")?d:u,v=e._.includes(_," b")||e._.includes(_," ib")?" ":"",I,k,x;for(_=_.replace(/\s?i?b/,""),I=0;I<=E.suffixes.length;I++)if(k=Math.pow(E.base,I),x=Math.pow(E.base,I+1),m===null||m===0||m>=k&&m<x){v+=E.suffixes[I],k>0&&(m=m/k);break}return S=e._.numberToFormat(m,_,w),S+v},unformat:function(m){var _=e._.stringToNumber(m),w,S;if(_){for(w=u.suffixes.length-1;w>=0;w--){if(e._.includes(m,u.suffixes[w])){S=Math.pow(u.base,w);break}if(e._.includes(m,d.suffixes[w])){S=Math.pow(d.base,w);break}}_*=S||1}return _}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],m={before:d.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:d.match(/([\+|\-|\)|\s|\$]*)$/)[0]},_,w,S;for(d=d.replace(/\s?\$\s?/,""),_=e._.numberToFormat(u,d,h),u>=0?(m.before=m.before.replace(/[\-\(]/,""),m.after=m.after.replace(/[\-\)]/,"")):u<0&&!e._.includes(m.before,"-")&&!e._.includes(m.before,"(")&&(m.before="-"+m.before),S=0;S<m.before.length;S++)switch(w=m.before[S],w){case"$":_=e._.insert(_,f.currency.symbol,S);break;case" ":_=e._.insert(_," ",S+f.currency.symbol.length-1);break}for(S=m.after.length-1;S>=0;S--)switch(w=m.after[S],w){case"$":_=S===m.after.length-1?_+f.currency.symbol:e._.insert(_,f.currency.symbol,-(m.after.length-(1+S)));break;case" ":_=S===m.after.length-1?_+" ":e._.insert(_," ",-(m.after.length-(1+S)+f.currency.symbol.length-1));break}return _}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(u,d,h){var f,m=typeof u=="number"&&!e._.isNaN(u)?u.toExponential():"0e+0",_=m.split("e");return d=d.replace(/e[\+|\-]{1}0/,""),f=e._.numberToFormat(Number(_[0]),d,h),f+"e"+_[1]},unformat:function(u){var d=e._.includes(u,"e+")?u.split("e+"):u.split("e-"),h=Number(d[0]),f=Number(d[1]);f=e._.includes(u,"e-")?f*=-1:f;function m(_,w,S,E){var v=e._.correctionFactor(_,w),I=_*v*(w*v)/(v*v);return I}return e._.reduce([h,Math.pow(10,f)],m,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(u,d,h){var f=e.locales[e.options.currentLocale],m,_=e._.includes(d," o")?" ":"";return d=d.replace(/\s?o/,""),_+=f.ordinal(u),m=e._.numberToFormat(u,d,h),m+_}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(u,d,h){var f=e._.includes(d," %")?" ":"",m;return e.options.scalePercentBy100&&(u=u*100),d=d.replace(/\s?\%/,""),m=e._.numberToFormat(u,d,h),e._.includes(m,")")?(m=m.split(""),m.splice(-1,0,f+"%"),m=m.join("")):m=m+f+"%",m},unformat:function(u){var d=e._.stringToNumber(u);return e.options.scalePercentBy100?d*.01:d}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(u,d,h){var f=Math.floor(u/60/60),m=Math.floor((u-f*60*60)/60),_=Math.round(u-f*60*60-m*60);return f+":"+(m<10?"0"+m:m)+":"+(_<10?"0"+_:_)},unformat:function(u){var d=u.split(":"),h=0;return d.length===3?(h=h+Number(d[0])*60*60,h=h+Number(d[1])*60,h=h+Number(d[2])):d.length===2&&(h=h+Number(d[0])*60,h=h+Number(d[1])),Number(h)}})}(),e})})(rN);var P7=rN.exports;const C7=lv(P7),rE=({amount:t})=>{const e=C7(t).format("$0,0.00");return O.jsx("div",{children:e})},k7="_card_container_187ad_1",x7="_button_187ad_19",O7="_Rating_187ad_69",N7="_product_container_187ad_79",D7="_product_flexed_187ad_99",Js={card_container:k7,button:x7,Rating:O7,product_container:N7,product_flexed:D7},dr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Dl({product:t,flex:e,renderDesc:n,renderAdd:r}){const{image:i,title:s,id:o,rating:a,price:l,description:u}=t,[d,h]=V.useContext(bi),f=()=>{h({type:dr.ADD_TO_BASKET,item:{image:i,title:s,id:o,rating:a,price:l,description:u}})};return O.jsxs("div",{className:`${Js.card_container} ${e?Js.product_flexed:""}`,children:[O.jsx(Vt,{to:`/products/${o}`,children:O.jsx("img",{src:i,alt:s,className:Js.img_container})}),O.jsxs("div",{children:[O.jsx("h3",{children:s}),n&&O.jsx("div",{style:{maxWidth:"750px"},children:u}),O.jsxs("div",{className:Js.Rating,children:[O.jsx(A7,{value:a==null?void 0:a.rate,precision:.1}),O.jsx("small",{children:a==null?void 0:a.count})]}),O.jsx("div",{className:Js.price,children:O.jsx(rE,{amount:l})}),r&&O.jsx("button",{className:Js.button,onClick:f,children:"add to cart"})]})]})}var V7={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function rv(t){if(typeof t=="number")return{value:t,unit:"px"};var e,n=(t.match(/^[0-9.]*/)||"").toString();n.includes(".")?e=parseFloat(n):e=parseInt(n,10);var r=(t.match(/[^0-9]*$/)||"").toString();return V7[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(t," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function nc(t){var e=rv(t);return"".concat(e.value).concat(e.unit)}var iN=function(t,e,n){var r="react-spinners-".concat(t,"-").concat(n);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(o,0),r},pp=function(){return pp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pp.apply(this,arguments)},L7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},M7=iN("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function iv(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?35:u,h=L7(t,["loading","color","speedMultiplier","cssOverride","size"]),f=pp({background:"transparent !important",width:nc(d),height:nc(d),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(M7," ").concat(.75/o,"s 0s infinite linear"),animationFillMode:"both"},l);return n?V.createElement("span",pp({style:f},h)):null}var mp=function(){return mp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mp.apply(this,arguments)},F7=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},U7=iN("GridLoader","0% {transform: scale(1)} 50% {transform: scale(0.5); opacity: 0.7} 100% {transform: scale(1); opacity: 1}","grid"),Xr=function(t){return Math.random()*t};function B7(t){var e=t.loading,n=e===void 0?!0:e,r=t.color,i=r===void 0?"#000000":r,s=t.speedMultiplier,o=s===void 0?1:s,a=t.cssOverride,l=a===void 0?{}:a,u=t.size,d=u===void 0?15:u,h=t.margin,f=h===void 0?2:h,m=F7(t,["loading","color","speedMultiplier","cssOverride","size","margin"]),_=rv(d),w=rv(f),S=parseFloat(_.value.toString())*3+parseFloat(w.value.toString())*6,E=mp({width:"".concat(S).concat(_.unit),fontSize:0,display:"inline-block"},l),v=function(I){return{display:"inline-block",backgroundColor:i,width:"".concat(nc(d)),height:"".concat(nc(d)),margin:nc(f),borderRadius:"100%",animationFillMode:"both",animation:"".concat(U7," ").concat((I/100+.6)/o,"s ").concat(I/100-.2,"s infinite ease")}};return n?V.createElement("span",mp({style:E},m,{ref:function(I){I&&I.style.setProperty("width","".concat(S).concat(_.unit),"important")}}),V.createElement("span",{style:v(Xr(100))}),V.createElement("span",{style:v(Xr(100))}),V.createElement("span",{style:v(Xr(100))}),V.createElement("span",{style:v(Xr(100))}),V.createElement("span",{style:v(Xr(100))}),V.createElement("span",{style:v(Xr(100))}),V.createElement("span",{style:v(Xr(100))}),V.createElement("span",{style:v(Xr(100))}),V.createElement("span",{style:v(Xr(100))})):null}function iE(){return O.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:O.jsx(B7,{color:"#1cc1ca",loading:!0})})}function j7(){const[t,e]=V.useState([]),[n,r]=V.useState(!1);return V.useEffect(()=>{r(!0),We.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),O.jsx(O.Fragment,{children:n?O.jsx(iE,{}):O.jsx("section",{className:Js.product_container,children:t==null?void 0:t.map(i=>O.jsx(Dl,{product:i,renderAdd:!0},i.id))})})}function $7(){return O.jsx("div",{children:O.jsxs(Cl,{children:[O.jsx(_6,{}),O.jsx(T6,{}),O.jsx(j7,{})]})})}const z7="_Payment_header_n9x9g_1",W7="_payment_n9x9g_13",q7="_flex_n9x9g_21",H7="_payment_card_n9x9g_49",K7="_payment_details_n9x9g_57",G7="_payment_price_n9x9g_63",Q7="_loading_n9x9g_103",Zr={Payment_header:z7,payment:W7,flex:q7,payment_card:H7,payment_details:K7,payment_price:G7,loading:Q7};function rb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ib(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(n),!0).forEach(function(r){sN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uf(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uf=function(e){return typeof e}:uf=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function sN(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oN(t,e){return J7(t)||Y7(t,e)||X7(t,e)||Z7()}function J7(t){if(Array.isArray(t))return t}function Y7(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function X7(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var An=function(e,n,r){var i=!!r,s=me.useRef(r);me.useEffect(function(){s.current=r},[r]),me.useEffect(function(){if(!i||!e)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,o),function(){e.off(n,o)}},[i,n,e,s])},sv=function(e){var n=me.useRef(e);return me.useEffect(function(){n.current=e},[e]),n.current},ul=function(e){return e!==null&&uf(e)==="object"},eK=function(e){return ul(e)&&typeof e.then=="function"},tK=function(e){return ul(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ob="[object Object]",nK=function t(e,n){if(!ul(e)||!ul(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===ob,o=Object.prototype.toString.call(n)===ob;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},d=0;d<a.length;d+=1)u[a[d]]=!0;for(var h=0;h<l.length;h+=1)u[l[h]]=!0;var f=Object.keys(u);if(f.length!==a.length)return!1;var m=e,_=n,w=function(E){return t(m[E],_[E])};return f.every(w)},aN=function(e,n,r){return ul(e)?Object.keys(e).reduce(function(i,s){var o=!ul(n)||!nK(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?ib(ib({},i||{}),{},sN({},s,e[s])):i},null):null},lN="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ab=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lN;if(e===null||tK(e))return e;throw new Error(n)},rK=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lN;if(eK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return ab(i,n)})};var r=ab(e,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},iK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"2.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},jm=me.createContext(null);jm.displayName="ElementsContext";var uN=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},cN=function(e){var n=e.stripe,r=e.options,i=e.children,s=me.useMemo(function(){return rK(n)},[n]),o=me.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=oN(o,2),l=a[0],u=a[1];me.useEffect(function(){var f=!0,m=function(w){u(function(S){return S.stripe?S:{stripe:w,elements:w.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(_){_&&f&&m(_)}):s.tag==="sync"&&!l.stripe&&m(s.stripe),function(){f=!1}},[s,l,r]);var d=sv(n);me.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=sv(r);return me.useEffect(function(){if(l.elements){var f=aN(r,h,["clientSecret","fonts"]);f&&l.elements.update(f)}},[r,h,l.elements]),me.useEffect(function(){iK(l.stripe)},[l.stripe]),me.createElement(jm.Provider,{value:l},i)};cN.propTypes={stripe:He.any,options:He.object};var sK=function(e){var n=me.useContext(jm);return uN(n,e)},oK=function(){var e=sK("calls useElements()"),n=e.elements;return n};He.func.isRequired;var dN=me.createContext(null);dN.displayName="CheckoutSdkContext";var aK=function(e,n){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return e},lK=me.createContext(null);lK.displayName="CheckoutContext";He.any,He.shape({clientSecret:He.string.isRequired,elementsOptions:He.object}).isRequired;var ov=function(e){var n=me.useContext(dN),r=me.useContext(jm);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n?aK(n,e):uN(r,e)},uK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},_t=function(e,n){var r="".concat(uK(e),"Element"),i=function(l){var u=l.id,d=l.className,h=l.options,f=h===void 0?{}:h,m=l.onBlur,_=l.onFocus,w=l.onReady,S=l.onChange,E=l.onEscape,v=l.onClick,I=l.onLoadError,k=l.onLoaderStart,x=l.onNetworksChange,D=l.onConfirm,b=l.onCancel,T=l.onShippingAddressChange,A=l.onShippingRateChange,g=ov("mounts <".concat(r,">")),P="elements"in g?g.elements:null,N="checkoutSdk"in g?g.checkoutSdk:null,C=me.useState(null),ie=oN(C,2),le=ie[0],wt=ie[1],Ie=me.useRef(null),K=me.useRef(null);An(le,"blur",m),An(le,"focus",_),An(le,"escape",E),An(le,"click",v),An(le,"loaderror",I),An(le,"loaderstart",k),An(le,"networkschange",x),An(le,"confirm",D),An(le,"cancel",b),An(le,"shippingaddresschange",T),An(le,"shippingratechange",A),An(le,"change",S);var te;w&&(e==="expressCheckout"?te=w:te=function(){w(le)}),An(le,"ready",te),me.useLayoutEffect(function(){if(Ie.current===null&&K.current!==null&&(P||N)){var ce=null;N?ce=N.createElement(e,f):P&&(ce=P.create(e,f)),Ie.current=ce,wt(ce),ce&&ce.mount(K.current)}},[P,N,f]);var ne=sv(f);return me.useEffect(function(){if(Ie.current){var ce=aN(f,ne,["paymentRequest"]);ce&&"update"in Ie.current&&Ie.current.update(ce)}},[f,ne]),me.useLayoutEffect(function(){return function(){if(Ie.current&&typeof Ie.current.destroy=="function")try{Ie.current.destroy(),Ie.current=null}catch{}}},[]),me.createElement("div",{id:u,className:d,ref:K})},s=function(l){ov("mounts <".concat(r,">"));var u=l.id,d=l.className;return me.createElement("div",{id:u,className:d})},o=n?s:i;return o.propTypes={id:He.string,className:He.string,onChange:He.func,onBlur:He.func,onFocus:He.func,onReady:He.func,onEscape:He.func,onClick:He.func,onLoadError:He.func,onLoaderStart:He.func,onNetworksChange:He.func,onConfirm:He.func,onCancel:He.func,onShippingAddressChange:He.func,onShippingRateChange:He.func,options:He.object},o.displayName=r,o.__elementType=e,o},vt=typeof window>"u",cK=me.createContext(null);cK.displayName="EmbeddedCheckoutProviderContext";var dK=function(){var e=ov("calls useStripe()"),n=e.stripe;return n};_t("auBankAccount",vt);var lb=_t("card",vt);_t("cardNumber",vt);_t("cardExpiry",vt);_t("cardCvc",vt);_t("fpxBank",vt);_t("iban",vt);_t("idealBank",vt);_t("p24Bank",vt);_t("epsBank",vt);_t("payment",vt);_t("expressCheckout",vt);_t("currencySelector",vt);_t("paymentRequestButton",vt);_t("linkAuthentication",vt);_t("address",vt);_t("shippingAddress",vt);_t("paymentMethodMessaging",vt);_t("affirmMessage",vt);_t("afterpayClearpayMessage",vt);const hK=We.create({baseURL:"https://api-3fh22hukrq-uc.a.run.app"});function fK(){const[{basket:t,user:e},n]=V.useContext(bi),r=t==null?void 0:t.reduce((_,w)=>w.amount+_,0),i=t.reduce((_,w)=>w.price*w.amount+_,0),[s,o]=V.useState(""),[a,l]=V.useState(!1),u=dK(),d=oK(),h=Np(),f=_=>{_.error.message?o(_.error.message):o("")},m=async _=>{var w;_.preventDefault();try{l(!0);const E=(w=(await hK({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:w.clientSecret,{paymentIntent:v}=await u.confirmCardPayment(E,{payment_method:{card:d.getElement(lb)}});await $x.collection("users").doc(e.uid).collection("orders").doc(v.id).set({basket:t,amount:v.amount,created:v.created}),n({type:TypeError.EMPTY_BASKET}),l(!1),h("/Orders",{state:{msg:"you have placed new order"}})}catch(S){console.log(S),l(!1)}};return O.jsxs(Cl,{children:[O.jsxs("div",{className:Zr.Payment_header,children:["Checkout(",r,")items"]}),O.jsxs("section",{className:Zr.payment,children:[O.jsxs("div",{className:Zr.flex,children:[O.jsx("h3",{children:"Delivery Address"}),O.jsxs("div",{children:[O.jsx("div",{children:e==null?void 0:e.email}),O.jsx("div",{children:"123 React Lane "}),O.jsx("div",{children:" calgary,AB"})]})]}),O.jsx("hr",{}),O.jsxs("div",{className:Zr.flex,children:[O.jsx("h3",{children:"Review items and delivery"}),O.jsx("div",{children:t==null?void 0:t.map(_=>O.jsx(Dl,{product:_,flex:!0}))})]}),O.jsx("hr",{}),O.jsxs("div",{className:Zr.flex,children:[O.jsx("h3",{children:"Payment method"}),O.jsx("div",{className:Zr.payment_card,children:O.jsx("div",{className:Zr.payment_details,children:O.jsxs("form",{onSubmit:m,children:[s&&O.jsx("small",{style:{color:"red"},children:s}),O.jsx(lb,{onChange:f}),O.jsxs("div",{className:Zr.payment_price,children:[O.jsx("div",{children:O.jsxs("span",{style:{display:"flex",gap:5},children:["Total Order |",O.jsx(rE,{amount:i})]})}),O.jsx("button",{type:"submit",children:a?O.jsxs("div",{className:Zr.loading,children:[O.jsx(iv,{color:"gray",size:12}),O.jsx("p",{children:" Please Wait ..."})]}):"Pay Now"})]})]})})})]})]})]})}const pK="_container_fn880_1",mK="_orders_container_fn880_9",ub={container:pK,orders_container:mK};function gK(){const[{user:t},e]=V.useContext(bi),[n,r]=V.useState([]);return V.useEffect(()=>{t?$x.collection("users").doc(t.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{r(i.docs.map(s=>({id:s.id,data:s.data()})))}):r([])},[]),O.jsx(Cl,{children:O.jsx("section",{className:ub.container,children:O.jsxs("div",{className:ub.orders_container,children:[O.jsx("h2",{children:"your orders"}),(n==null?void 0:n.length)==0&&O.jsx("div",{style:{padding:"20px"},children:"you don't have any orders yet"}),O.jsx("div",{children:n==null?void 0:n.map((i,s)=>{var o,a;return O.jsxs("div",{children:[O.jsx("hr",{}),O.jsxs("p",{children:[" Order ID: ",i==null?void 0:i.id]}),(a=(o=i==null?void 0:i.data)==null?void 0:o.basket)==null?void 0:a.map(l=>O.jsx(Dl,{flex:!0,product:l},l.id))]},s)})})]})})})}const yK="_container_1e7ve_1",_K="_cart_container_1e7ve_13",vK="_subtotal_1e7ve_47",wK="_cart_product_1e7ve_111",EK="_btn_container_1e7ve_119",gu={container:yK,cart_container:_K,subtotal:vK,cart_product:wK,btn_container:EK};function IK(t){return ml({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(t)}function TK(t){return ml({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(t)}function SK(){const[{basket:t,user:e},n]=V.useContext(bi),r=t.reduce((o,a)=>a.price*a.amount+o,0),i=o=>{n({type:dr.ADD_TO_BASKET,item:o})},s=o=>{n({type:dr.REMOVE_FROM_BASKET,id:o})};return O.jsx(Cl,{children:O.jsxs("section",{className:gu.container,children:[O.jsxs("div",{className:gu.cart_container,children:[O.jsx("h2",{children:"Hello"}),O.jsx("h3",{children:"your shipping basket"}),O.jsx("hr",{}),(t==null?void 0:t.length)===0?O.jsx("p",{children:"opps! No item in your cart"}):t==null?void 0:t.map((o,a)=>O.jsx(O.Fragment,{children:O.jsxs("section",{className:gu.cart_product,children:[O.jsx(Dl,{product:o,renderDesc:!0,flex:!0,renderAdd:!1},a),O.jsxs("div",{className:gu.btn_container,children:[O.jsx("button",{onClick:()=>i(o),children:O.jsx(TK,{size:20})}),O.jsx("span",{children:o.amount}),O.jsx("button",{onClick:()=>s(o.id),children:O.jsx(IK,{size:20})})]})]})}))]}),O.jsx("div",{children:(t==null?void 0:t.length)!==0&&O.jsxs("div",{className:gu.subtotal,children:[O.jsxs("div",{children:[O.jsxs("p",{children:["Subtotal (",t==null?void 0:t.length,"items)"]}),O.jsx(rE,{amount:r})]}),O.jsxs("span",{children:[O.jsx("input",{type:"checkbox"}),O.jsx("small",{children:"This order contains a gift"})]}),O.jsx(Vt,{to:"/payment",children:"Continue to checkout"})]})})]})})}const hN="https://fakestoreapi.com/products",bK="_product_container_1wvn1_1",RK={product_container:bK};function AK(){const[t,e]=V.useState([]),[n,r]=V.useState(!1),{categoryName:i}=VA();return V.useEffect(()=>{},[]),We.get(`${hN}/category/${i}`).then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s)}),O.jsxs(Cl,{children:[O.jsx("h1",{style:{padding:"30px"},children:" Results"}),O.jsxs("p",{style:{padding:"30px"},children:[" Category/",i]}),O.jsx("hr",{}),n?O.jsx(iE,{}):O.jsx("div",{className:RK.product_container,children:t==null?void 0:t.map(s=>O.jsx(Dl,{product:s,renderDesc:!1,renderAdd:!0},s.id))})]})}function PK(){const{productId:t}=VA(),[e,n]=V.useState({}),[r,i]=V.useState(!1);return V.useEffect(()=>{i(!0),We.get(`${hN}/${t}`).then(s=>{n(s.data),i(!1)}).catch(s=>{console.log(s),i(!1)})},[]),O.jsx(Cl,{children:r?O.jsx(iE,{}):O.jsx(Dl,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})}const CK="_login_1ysk4_1",kK="_login_container_1ysk4_23",xK="_login_signIn_1ysk4_85",OK="_login_register_1ysk4_117",bh={login:CK,login_container:kK,login_signIn:xK,login_register:OK};function NK(){var m,_;const[t,e]=V.useState(""),[n,r]=V.useState(""),[i,s]=V.useState(""),[o,a]=V.useState({signIn:!1,signUp:!1}),l=Np(),u=Os();console.log(u);const[{user:d},h]=V.useContext(bi),f=async w=>{w.preventDefault(),w.target.name=="signin"?(a({...o,signIn:!0}),qP(sp,t,n).then(S=>{var E;h({type:dr.SET_USER,user:S.user}),a({...o,signIn:!1}),l(((E=u==null?void 0:u.state)==null?void 0:E.redirect)||"/")}).catch(S=>{s(S.message),a({...o,signIn:!1})})):(a({...o,signUp:!0}),WP(sp,t,n).then(S=>{var E;h({type:dr.SET_USER,user:S.user}),a({...o,signUp:!1}),l(((E=u==null?void 0:u.state)==null?void 0:E.redirect)||"/")}).catch(S=>{s(S.message),a({...o,signUp:!1})}))};return O.jsxs("section",{className:bh.login,children:[O.jsx(Vt,{to:"/",children:O.jsx("img",{src:"https://pngimg.com/uploads/amazon/small/amazon_PNG2.png",alt:"amazon logo"})}),O.jsxs("div",{className:bh.login_container,children:[O.jsx("h1",{children:"sign-In"}),((m=u==null?void 0:u.state)==null?void 0:m.msg)&&O.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(_=u==null?void 0:u.state)==null?void 0:_.msg}),O.jsxs("form",{action:"",children:[O.jsxs("div",{children:[O.jsx("label",{htmlFor:"email",children:"E-mail"}),O.jsx("input",{value:t,onChange:w=>e(w.target.value),type:"email",name:"email",id:"email"})]}),O.jsxs("div",{children:[O.jsx("label",{htmlFor:"password",children:"Password"}),O.jsx("input",{value:n,onChange:w=>r(w.target.value),type:"password",name:"password",id:"password"})]}),O.jsx("button",{type:"submit",onClick:f,name:"signin",className:bh.login_signIn,children:o.signIn?O.jsx(iv,{color:"#000",size:15}):"Sign In"}),O.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE Conditions of the use & sale.Please see our privacy notice,our cookies notice and our interest-based ads notice"}),O.jsx("button",{type:"submit",onClick:f,name:"signup",className:bh.login_register,children:o.signUp?O.jsx(iv,{color:"#000",size:15}):" Create Your Amazon Account"}),i&&O.jsxs("small",{style:{paddingTop:"5px",color:"red",textAlign:"center"},children:[i," "]})]})]})]})}var fN="https://js.stripe.com/v3",DK=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,cb="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",VK=function(){for(var e=document.querySelectorAll('script[src^="'.concat(fN,'"]')),n=0;n<e.length;n++){var r=e[n];if(DK.test(r.src))return r}return null},db=function(e){var n="",r=document.createElement("script");r.src="".concat(fN).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},LK=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.1.0",startTime:n})},yu=null,Rh=null,Ah=null,MK=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},FK=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},UK=function(e){return yu!==null?yu:(yu=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(cb),window.Stripe){n(window.Stripe);return}try{var i=VK();if(i&&e)console.warn(cb);else if(!i)i=db(e);else if(i&&Ah!==null&&Rh!==null){var s;i.removeEventListener("load",Ah),i.removeEventListener("error",Rh),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=db(e)}Ah=FK(n,r),Rh=MK(r),i.addEventListener("load",Ah),i.addEventListener("error",Rh)}catch(o){r(o);return}}),yu.catch(function(n){return yu=null,Promise.reject(n)}))},BK=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return LK(i,r),i},_u,pN=!1,mN=function(){return _u||(_u=UK(null).catch(function(e){return _u=null,Promise.reject(e)}),_u)};Promise.resolve().then(function(){return mN()}).catch(function(t){pN||console.warn(t)});var jK=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];pN=!0;var i=Date.now();return mN().then(function(s){return BK(s,n,i)})};function hb({children:t,msg:e,redirect:n}){const r=Np(),[{user:i},s]=V.useContext(bi);return V.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:n}})},[i]),t}const $K=jK("pk_test_51QQEV5A0UyGylINRy4D9CuNvfqSkvaX2eOHM8s5Gl42WlEss4x7QYIW8TiTJF5ZMRgaUaeNK5Nhdgrpk4E5qu78b00RhmNk7kI");function zK(){return O.jsx(UL,{children:O.jsxs(mL,{children:[O.jsx(zi,{path:"/",element:O.jsx($7,{})}),O.jsx(zi,{path:"/auth",element:O.jsx(NK,{})}),O.jsx(zi,{path:"/payment",element:O.jsx(hb,{msg:"you must log in to pay",redirect:"/payment",children:O.jsx(cN,{stripe:$K,children:O.jsx(fK,{})})})}),O.jsx(zi,{path:"/orders",element:O.jsx(hb,{msg:"you must log in to access your order",redirect:"/orders",children:O.jsx(gK,{})})}),O.jsx(zi,{path:"/cart",element:O.jsx(SK,{})}),O.jsx(zi,{path:"/category/:categoryName",element:O.jsx(AK,{})}),O.jsx(zi,{path:"/products/:productId",element:O.jsx(PK,{})})]})})}function WK(){const[{user:t},e]=V.useContext(bi);return V.useEffect(()=>{sp.onAuthStateChanged(n=>{e(n?{type:dr.SET_USER,user:n}:{type:dr.SET_USER,user:null})})},[]),O.jsx(O.Fragment,{children:O.jsx(zK,{})})}const qK={basket:[],user:null},HK=(t,e)=>{switch(e.type){case dr.ADD_TO_BASKET:if(t.basket.find(s=>s.id===e.item.id)){const s=t.basket.map(o=>o.id===e.item.id?{...o,amount:o.amount+1}:o);return{...t,basket:s}}else return{...t,basket:[...t.basket,{...e.item,amount:1}]};case dr.REMOVE_FROM_BASKET:const r=t.basket.findIndex(s=>s.id===e.id);let i=[...t.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...t,basket:i};case dr.EMPTY_BASKET:return{...t,basket:[]};case dr.SET_USER:return{...t,user:e.user};default:return t}};bA(document.getElementById("root")).render(O.jsx(V.StrictMode,{children:O.jsx(gM,{reducer:HK,initialState:qK,children:O.jsx(WK,{})})}));
